!function(){angular.module("common",["common.controllers","common.directives","common.filters","common.services","common.templates"])}(),function(){angular.module("common.directives",[])}(),function(){function requireValue(){function link(scope,el,attr,ngModel){var requiredValue=scope.requireValue;ngModel.$parsers.unshift(function(value){var valid=requiredValue===value;return ngModel.$setValidity("require-value",valid),valid?value:void 0}),ngModel.$formatters.unshift(function(value){return ngModel.$setValidity("require-value",requiredValue===value),value})}return{require:"ngModel",link:link,scope:{requireValue:"="}}}angular.module("common.directives").directive("requireValue",requireValue)}(),function(){angular.module("common.directives").directive("formProgress",function(){return{templateUrl:"directives/form-progression/form-progression.html",restrict:"E",transclude:!0,replace:!0,scope:{title:"@",headline:"@",warningText:"@",isComplete:"=",noProgressBar:"@",noDetails:"@",radius:"@",stroke:"@",color:"@"},link:function(scope,element,attrs){scope.showProgressBar=angular.isUndefined(attrs.noProgressBar)},controller:function($scope){$scope.items=[],$scope.done=0,$scope.shownDone=0,$scope.shownTotal=0,$scope.total=0,$scope.percentage=0,this.registerItem=function(opt){return opt=opt||{},$scope.items.push({completed:!!opt.complete,shown:opt.shown||!1})-1},$scope.$watch("items",function(){var doneObject=getDone(),totalObject=getCount();$scope.done=doneObject.done,$scope.doneShown=doneObject.shownDone,$scope.total=totalObject.total,$scope.totalShown=totalObject.totalShown,$scope.isComplete=$scope.doneShown===$scope.totalShown,$scope.percentage=Math.round($scope.done/$scope.total*100)},!0),this.done=function(index){$scope.items[index].complete=!0},this.notDone=function(index){$scope.items[index].complete=!1};var getDone=function(){for(var items=$scope.items,done=0,shownDone=0,i=0;i<items.length;i++)items[i].complete&&(++done,items[i].shown&&++shownDone);return{done:done,shownDone:shownDone}},getCount=function(){for(var showCount=0,items=$scope.items,i=0;i<items.length;i++)items[i].shown&&++showCount;return{total:$scope.items.length,totalShown:showCount}}}}})}(),function(){angular.module("common.directives").directive("formProgressItem",function($anchorScroll){return{templateUrl:"directives/form-progression/form-progression-item.html",scope:{formItem:"=",itemKey:"@",itemDependency:"=",itemConfig:"=",itemValidation:"&"},require:"^formProgress",restrict:"E",replace:!0,controller:function($scope){var valid=$scope.itemValidation()||function(value){return!value},update=function(){$scope.formItem&&($scope.show=valid($scope.formItem[$scope.itemKey],$scope.formItem),$scope.formProgressCtrl[$scope.show?"notDone":"done"]($scope.myIndex))};if($scope.formItem[$scope.itemKey]=$scope.formItem[$scope.itemKey],$scope.show=valid($scope.formItem[$scope.itemKey],$scope.formItem),$scope.$watch("formItem."+$scope.itemKey,update,!0),$scope.itemDependency)if(Array.isArray($scope.itemDependency))for(var i=0;i<$scope.itemDependency.length;++i)$scope.$watch("formItem."+$scope.itemDependency[i],update,!0);else $scope.$watch("formItem."+$scope.itemDependency,update,!0)},link:function(scope,element,attrs,formProgressCtrl){if(scope.myIndex=formProgressCtrl.registerItem({shown:scope.itemConfig&&scope.itemConfig.text}),scope.formProgressCtrl=formProgressCtrl,scope.itemConfig&&scope.itemConfig.elmId){var $scrollElement=angular.element("#"+scope.itemConfig.selectElmId||scope.itemConfig.elmId);scope.scrollTo=function(){$scrollElement.select(),$anchorScroll(scope.itemConfig.elmId)}}}}})}(),function(){angular.module("common.directives").directive("lastUpdated",function(){return{scope:{notUpdatedText:"=",updatedText:"=",updatedTime:"="},restrict:"E",templateUrl:"directives/lastupdated/lastupdated.directive.html"}})}(),function(){function datePickerSelect(moment,_){function link(scope,el,attr,ngModel){scope.selectedDate={day:null,month:null,year:null},scope.$watch("selectedDate.month+selectedDate.year",function(newMonth,oldMonth){var m=moment();m.day(1),m.month(scope.selectedDate.month),m.year(scope.selectedDate.year),scope.days=_.range(1,m.daysInMonth()+1)}),ngModel.$validators.min=function(modelValue,viewValue){return viewValue?viewValue>=scope.min:void 0},ngModel.$validators.max=function(modelValue,viewValue){return viewValue?viewValue<=scope.max:void 0},scope.parseDate=function(){if(scope.selectedDate.year&&scope.selectedDate.month&&scope.selectedDate.day){var localeData=moment.localeData();scope.selectedDate.month,ngModel.$setViewValue(moment().diff(moment({year:scope.selectedDate.year,month:localeData.monthsParse(scope.selectedDate.month),day:scope.selectedDate.day}),"years"));ngModel.$commitViewValue()}}}return{restrict:"E",require:"ngModel",link:link,templateUrl:"directives/age-picker-select/age-picker-select.html",scope:{days:"=",months:"=",years:"=",min:"=",max:"="}}}angular.module("common.directives").directive("datePickerSelect",datePickerSelect)}(),function(){angular.module("common.directives").directive("fileread",function(UploadService){return{scope:{fileread:"=",multiFile:"="},link:function(scope,element,attributes){scope.multiFile&&element.attr("multiple",""),element.bind("change",function(changeEvent){if(scope.multiFile){var files=changeEvent.target.files;scope.fileread=[],_.each(files,function(file){var reader=new FileReader;reader.onload=function(loadEvent){scope.$apply(function(){scope.fileread.push({dataURL:loadEvent.target.result,File:file})})},reader.readAsDataURL(file)})}else{var reader=new FileReader,file=changeEvent.target.files[0];attributes.filetype===UploadService.FILE_TYPES.IMAGE?reader.onload=function(loadEvent){var image=new Image;image.onload=function(evt){var height=this.height,width=this.width;scope.$apply(function(){scope.fileread={dataURL:loadEvent.target.result,File:file,width:width,height:height}})},image.src=loadEvent.target.result}:reader.onload=function(loadEvent){scope.$apply(function(){scope.fileread={dataURL:loadEvent.target.result,File:file}})},reader.readAsDataURL(file)}})}}}).service("UploadDialog",function(_,$mdDialog,$templateCache,UploadService){var previewElement=angular.element("#uploadTemplate"),previewTemplate=previewElement.html();previewElement.remove();var _uploadDialogCtrl=(this.show=function(config){var template=config.fileType===UploadService.FILE_TYPES.IMAGE?"directives/upload-dialog/upload-dialog-image.directive.html":"directives/upload-dialog/upload-dialog-doc.directive.html";config.previewTemplate=previewTemplate;var dialogConfig={template:$templateCache.get(template),controller:_uploadDialogCtrl(config),parent:angular.element(document.body),clickOutsideToClose:!0,locals:{requiredHeight:config.requiredHeight,requiredWidth:config.requiredWidth,invalidText:config.invalidText,allowedFileTypes:config.allowedFileTypes,helpText:config.helpText,saveText:config.saveText}};return $mdDialog.show(dialogConfig)},function(config){return function($scope,$timeout,$http,$mdDialog,$q){function isValid(){if($scope.multiFile)return!0;var filedata=$scope.uploadedFile;if(filedata){if(config.requiredHeight&&config.requiredWidth&&filedata.height<config.requiredHeight&&filedata.width<config.requiredWidth)return setErrorText("Dimensions must be at least "+config.requiredWidth+"x"+config.requiredHeight+"px"),!1;if(valid&&config.requiredRatio&&filedata.width/filedata.height!==config.requiredRatio)return setErrorText("Image ratio must be "+config.requiredRatio+":1"),!1;if(valid&&config.allowedFileTypes&&!_.contains(config.allowedFileTypes,filedata.File.type))return setErrorText("Image type must be "+(config.allowedFileTypes.length>1?"in ":" ")+config.allowedFileTypes.join(",")),!1}return setErrorText(null),!0}function setErrorText(text){$timeout(function(){$scope.invalidText=text})}var valid=!0;$scope.multiFile=config.multiFile,$scope.previousFile=config.previousFile,$scope.fileType=config.fileType,$scope.helpText=config.helpText,$scope.saveText=config.saveText,$scope.requiredHeight=config.requiredHeight,$scope.requiredWidth=config.requiredWidth,$scope.cancel=function(){$mdDialog.cancel()},$scope.upload=function(){if(isValid()){var uploadPromises=[],files=[];if($scope.uploading=!0,$scope.multiFile)_.each($scope.uploadedFile,function(file){uploadPromises.push((new UploadService).upload(file.File,config).then(function(res){return res.filename=file.File.name,files.push(res),res}))}),$q.all(uploadPromises).then(function(){$scope.uploading=!1,$mdDialog.hide(files)});else{var file=$scope.uploadedFile;(new UploadService).upload(file.File,config).then(function(res){res.filename=file.File.name,$mdDialog.hide(res)})}}},$scope.isValid=_.debounce(isValid,100),$scope.formatBytes=function(bytes,decimals){if(1===bytes)return"1 Byte";var kilo=1e3,precision=decimals+1||3,sizes=["Bytes","kB","MB","GB","TB","PB","EB","ZB","YB"],exponent=Math.floor(Math.log(bytes)/Math.log(kilo));return(bytes/Math.pow(kilo,exponent)).toPrecision(precision)+" "+sizes[exponent]}}})})}(),function(){function accordionDirective(){function controller($scope,$attrs,accordionConfig){var ctrl=this;ctrl.groups=[],ctrl.closeOthers=function(openGroup){var closeOthers=angular.isDefined($attrs.closeOthers)?$scope.$eval($attrs.closeOthers):accordionConfig.closeOthers;closeOthers&&angular.forEach(ctrl.groups,function(group){group!==openGroup&&(group.isOpen=!1)})},ctrl.addGroup=function(groupScope){ctrl.groups.push(groupScope),groupScope.$on("$destroy",function(event){ctrl.removeGroup(groupScope)})},ctrl.removeGroup=function(group){var index=ctrl.groups.indexOf(group);-1!==index&&ctrl.groups.splice(index,1)}}return{restrict:"EA",controller:controller,controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(element,attrs){return attrs.templateUrl||"directives/accordion/accordion.directive.html"}}}function accordionGroupDirective(){function controller($scope){this.setHeading=function(element){this.heading=element},this.setOnOpen=function(onOpen){$scope.onOpen=onOpen}}function link(scope,element,attrs,accordionCtrl){accordionCtrl.addGroup(scope),scope.openClass=attrs.openClass||"open",scope.panelClass=attrs.panelClass,scope.$watch("isOpen",function(value){element.toggleClass(scope.openClass,!!value),value&&accordionCtrl.closeOthers(scope)}),scope.toggleOpen=function(){scope.openClose(!scope.isOpen)},scope.openClose=function(open){scope.isDisabled||(scope.isOpen=open,scope.isOpen&&scope.onOpen&&scope.onOpen())},scope.initiallyOpen&&scope.openClose(scope.initiallyOpen())}return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,controller:controller,link:link,scope:{heading:"@",isOpen:"=?",isDisabled:"=?",initiallyOpen:"&"},templateUrl:function(element,attrs){return attrs.templateUrl||"directives/accordion/accordion-group.directive.html"}}}function accordionHeadingDirective(){function link(scope,element,attrs,controller,transclude){controller.setHeading(transclude(scope,angular.noop)),attrs.onOpen&&controller.setOnOpen(function(){scope.$eval(attrs.onOpen)})}return{require:"^accordionGroup",restrict:"EA",transclude:!0,replace:!0,link:link,template:""}}function accordionTranscludeDirective(){function link(scope,element,attr,controller){scope.$watch(function(){return controller[attr.accordionTransclude]},function(heading){heading&&element.html(heading)})}return{require:"^accordionGroup",link:link}}function accordionEmptyDirective(){return{require:"^accordion",transclude:!0,template:'<div class="accordion-empty" ng-transclude></div>',replace:!0,link:function(scope,element,attr,controller){scope.$watch(function(){return controller.groups.length},function(length){length?element.hide():element.show()})}}}angular.module("common.directives").constant("accordionConfig",{closeOthers:!0}).directive("accordion",accordionDirective).directive("accordionGroup",accordionGroupDirective).directive("accordionHeading",accordionHeadingDirective).directive("accordionTransclude",accordionTranscludeDirective).directive("accordionEmpty",accordionEmptyDirective)}(),function(undefined){angular.module("common.directives").directive("tabNav",function(){return{replace:!0,transclude:!0,controller:function(){this.tabs=[],this.registerTab=function(tabTitle,tabSref,disabled){return this.tabs.push({title:tabTitle,sref:tabSref,disabled:disabled}),this.tabs.length-1},this.updateTab=function(index,def){var tabDef=this.tabs[index];tabDef&&(tabDef.tabTitle=def.tabTitle||tabDef.tabTitle,tabDef.tabSref=def.tabSref||tabDef.tabSref,tabDef.disabled=def.disabled!==undefined?def.disabled:tabDef.disabled)}},link:function(scope,el,attrs,ctrl){scope.tabs=ctrl.tabs},templateUrl:"directives/tab-nav/tab-nav.directive.html"}}).directive("tabNavItem",function($parse){return{require:"^tabNav",replace:!0,link:function(scope,el,attrs,tabNavCtrl){var index=tabNavCtrl.registerTab(attrs.title,attrs.sref,$parse(attrs.ngDisabled,null,!0)(scope));scope.$watch(attrs.ngDisabled,function(){tabNavCtrl.updateTab(index,{disabled:$parse(attrs.ngDisabled,null,!0)(scope)})})}}}).directive("tabNavItemDot",function(){return{transclude:!0,replace:!0,templateUrl:"directives/tab-nav/tab-nav-item-dot.directive.html",require:"^tabNavItem"}})}(),function(){angular.module("common.directives").directive("dashboard",function(DashboardService){return{scope:!1,replace:!0,template:'<div class="dashboard"></div>',link:function(scope,element,attr){var appState=attr.appState,userType=attr.userType,dashboardDefinitions=scope.definitions,dashboardDef=dashboardDefinitions[appState]?dashboardDefinitions[appState][userType]:null;dashboardDef&&DashboardService.buildDashboard(element,dashboardDef,scope)}}}).service("DashboardService",function($templateCache,$compile){function buildColumn(templateColumn){var columnElement=angular.element('<div class="dashboard-column" flex-gt-sm></div>');return angular.forEach(templateColumn,function(column){columnElement.append(self.getTemplate(column))}),columnElement}function buildRow(templateRow){var rowElement=angular.element('<div class="dashboard-row" flex-gt-sm layout-wrap layout="row"></div>'),html="";return angular.forEach(templateRow,function(templateColumn){_.isArray(templateColumn)?html=buildColumn(templateColumn).get(0).outerHTML:html+=self.getTemplate(templateColumn)}),rowElement.html(html)}var self=this;this.getTemplate=function(templateUrl){var template=$templateCache.get(templateUrl);return template?template:(console.error("Dashboard template not found "+templateUrl),"")},this.buildDashboard=function(dashboardElement,dashboardDefinition,scope){angular.forEach(dashboardDefinition,function(templateRow){dashboardElement.append(buildRow(templateRow))}),$compile(dashboardElement.contents())(scope)}})}(),function(){function formFocusInvalid(moment){function link(scope,el){function scrollToFirstInvalidInput(){var firstInvalid=el[0].querySelector(".ng-invalid");firstInvalid&&firstInvalid.focus()}el.on("submit",scrollToFirstInvalidInput)}return{restrict:"A",link:link}}angular.module("common.directives").directive("formFocusInvalid",formFocusInvalid)}(),function(){angular.module("common.directives").service("TableService",function($timeout,$location,PageService){var self=this,searchParamPrefix="sp-";this.initData=function(){self.totalItems=0,self.currentPage=1,self.loading=!1},this.setItemCounts=function(total,page,size,length){this.totalItems=total,this.currentPage=page,this.pageSize=size,this.pageLength=length},this.setLoading=function(isLoading){this.loading=isLoading},this.calculatePageStart=function(currentPage,pageSize){return(currentPage-1)*(pageSize||0)+1},this.calculatePageEnd=function(pageStart,pageSize){return pageStart+(pageSize||0)-1},this.setTableSearchParams=function(params,ignore){self.clearAllTableSearchParams(params),_.each(params,function(value,key){ignore&&-1!==ignore.indexOf(key)||(key=key.indexOf(searchParamPrefix)>-1?key:self.generateSearchParamKey(key),PageService.setSearchParam(key,value))})},this.clearAllTableSearchParams=function(params){_.each(self.getAllTableSearchParams(),function(value,key){key=key.indexOf(searchParamPrefix)>-1?key:self.generateSearchParamKey(key),PageService.clearSearchParam(key)})},this.getAllTableSearchParams=function(){var tableSearchParams={};return _.each($location.search(),function(value,key){key.indexOf(searchParamPrefix)>-1&&(tableSearchParams[key.substring(searchParamPrefix.length)]=value)}),tableSearchParams},this.getTableSearchParam=function(key){return $location.search()[self.generateSearchParamKey(key)]},this.generateSearchParamKey=function(key){return searchParamPrefix+key}}).directive("itemTable",function(){return{transclude:!0,replace:!0,templateUrl:"directives/table/table.html",controller:function($scope,$element,TableService){this.getTablePos=function(){return $element.offset()}}}}).directive("itemTableBody",function(){return{transclude:!0,replace:!0,templateUrl:"directives/table/table-body.html"}}).directive("tableRows",function(){return{transclude:!0,replace:!0,templateUrl:"directives/table/table-rows.html",require:"^itemTable",controllerAs:"TableRows",controller:function($scope,TableService){var TableRows=this;TableRows.rows=0,TableRows.isLoading=TableService.isLoading,TableRows.TableService=TableService,TableRows.registerRow=function(){++TableRows.rows},TableRows.unregisterRow=function(){--TableRows.rows}}}}).directive("tableRow",function(){return{transclude:!0,replace:!0,templateUrl:"directives/table/table-row.html",require:"^tableRows",link:function(scope,element,attrs,tableRowsCtrl){tableRowsCtrl.registerRow(),scope.$on("$destroy",tableRowsCtrl.unregisterRow)}}}).directive("tableCell",function(){return{transclude:!0,replace:!0,templateUrl:"directives/table/table-cell.html",require:"^tableRow"}}).directive("tableHeaderRow",function(){return{transclude:!0,replace:!0,templateUrl:"directives/table/table-header-row.html",require:"^tableRows"}}).directive("tableHeaderCell",function(){return{transclude:!0,replace:!0,templateUrl:"directives/table/table-header-cell.html",require:"^tableRows"}}).directive("tableHeader",function(){return{transclude:!0,replace:!0,templateUrl:"directives/table/table-header.html",require:"^itemTable"}}).directive("tableTotalItems",function(TableService){return{templateUrl:"directives/table/table-total-count.html",scope:{type:"@"},controller:function($scope){var setTableState=function(state){$scope.totalItems=state.totalItems||0,$scope.page=state.currentPage||0,$scope.rangeStart=state.totalItems?TableService.calculatePageStart(state.currentPage,state.pageSize):0,$scope.rangeEnd=state.totalItems?TableService.calculatePageEnd($scope.rangeStart,state.pageSize):0,$scope.loading=state.loading||!1};setTableState({totalItems:TableService.totalItems,currentPage:TableService.currentPage,pageSize:TableService.pageSize}),$scope.$watch(function(){return[TableService.totalItems,TableService.currentPage,TableService.loading].join("|")},function(total,old){total&&setTableState({totalItems:TableService.totalItems,currentPage:TableService.currentPage,pageSize:TableService.pageSize,pageLength:TableService.pageLength,loading:TableService.loading})})}}}).directive("tablePagination",function(){return{scope:{searchModel:"=",ngModel:"=",searchParams:"=",fetching:"=?",loadMore:"@",bindParams:"=",ignoredUrlParams:"=?"},templateUrl:"directives/table/table-pagination.html",require:"?^itemTable",controllerAs:"TablePagination",controller:function($scope,$window,$state,modelService,TableService,PageService,_,DS){function isTraditional(){return!$scope.loadMore}function getMaxPageNumber(){return getPageNumber(MAX_NUMBER_OF_ITEMS,TablePagination.searchParams.page_size)}function getPageNumber(itemCount,pagesize){return Math.ceil(itemCount/pagesize)||1}function getPageNumbers(totalItems){totalItems=totalItems||0;var pageNumbers=[],start=1;TablePagination.maxPageNumber=getMaxPageNumber(),TablePagination.totalPageCount=getPageNumber(totalItems,TablePagination.searchParams.page_size),TablePagination.totalPageCount>TablePagination.maxPageNumber&&(TablePagination.totalPageCount=TablePagination.maxPageNumber);var visiblePageCount=TablePagination.totalPageCount;if(visiblePageCount>MAX_PAGE_NUMBERS){var toRemove=Math.floor(MAX_PAGE_NUMBERS/2);start=Math.ceil(TablePagination.searchParams.page-toRemove),1>start&&(start=1);var projectedEnd=start+MAX_PAGE_NUMBERS-1;visiblePageCount>projectedEnd?visiblePageCount=projectedEnd:start+=visiblePageCount-projectedEnd}for(;visiblePageCount>=start;)pageNumbers.push(start),++start;return pageNumbers.length||pageNumbers.push(1),pageNumbers}function setLoading(loading){TableService.setLoading(loading),$scope.fetching=loading}function getFirstFetchParams(){return params=_.clone(TablePagination.searchParams),params.page_size=params.page_size*params.page,params[PAGE_SEARCH_PARAM]=1,params}function buildTable(items){items=items.length?items:null,TablePagination.currentPageUI=TablePagination.searchParams.page;var pageCount=items?items.length:$scope.ngModel.length,pageSize=TablePagination.searchParams.page_size,pageNumber=reCalculatePageCount(TablePagination.searchParams.page,items||$scope.ngModel),urlParams=_.clone(TablePagination.searchParams);urlParams[PAGE_SEARCH_PARAM]=pageNumber;var meta=setPageNumbers(TablePagination.searchParams);TableService.setTableSearchParams(urlParams,TablePagination.ignoredUrlParams),TableService.setItemCounts(meta.count,pageNumber,pageSize,pageCount),setLoading(!1)}function setPageNumbers(params){params=params||_.clone(TablePagination.searchParams);var meta=modelService.getMeta(TablePagination.searchModel.name,params);return meta=meta||{},TablePagination.pageNumbers=getPageNumbers(meta.count),meta}function getItems(config){if(config=config||{},setLoading(!0),config.scrollToTableTop&&$scope.getTablePos){var tablePos=$scope.getTablePos();$window.scrollTo(tablePos.top,tablePos.left)}var params=TablePagination.searchParams;firstFetch&&!isTraditional()&&(params=getFirstFetchParams()),TablePagination.searchModel.findAll(params).then(function(res){if(firstFetch){var meta=modelService.getMeta(TablePagination.searchModel.name,params);modelService.setMeta(meta,TablePagination.searchModel.name,TablePagination.searchParams)}$scope.bindParams||(TablePagination.searchParams.page>1&&$scope.loadMore&&_.isArray($scope.ngModel)?$scope.ngModel=_.unique($scope.ngModel.concat(res),"id"):$scope.ngModel=res),firstFetch=!1,setLoading(!1)},function(err){404===err.status&&(retryCount?retryCount=0:(TablePagination.searchParams.page=1,++retryCount,getItems(config))),setLoading(!1)})}function fetchTableData(config){config=config||{};var urlPageCount=parseInt(TableService.getTableSearchParam(PAGE_SEARCH_PARAM))||1;config.paramChange||urlPageCount==TablePagination.searchParams.page?getItems(config):(urlPageCount%TablePagination.searchParams.page>1&&(firstFetch=!0),TablePagination.searchParams.page=urlPageCount)}function reCalculatePageCount(currentPage,items){if(!isTraditional()&&items){var actualPage=getPageNumber(items.length,TablePagination.searchParams.page_size);if(currentPage!==actualPage)return actualPage}return currentPage}TableService.initData();var TablePagination=this,PAGE_SEARCH_PARAM="page",PAGE_SIZE=50,PAGE_SIZE_SEARCH_PARAM="page_size",MAX_PAGE_NUMBERS=9,MAX_NUMBER_OF_ITEMS=1e3,retryCount=0,firstFetch=!0;$scope.loadMore=$scope.$eval($scope.loadMore);var urlParams=TableService.getAllTableSearchParams();if(TablePagination.ignoredUrlParams=["program_year","is_student","task_instance","page_size"],$scope.ignoredUrlParams&&(TablePagination.ignoredUrlParams=TablePagination.ignoredUrlParams.concat($scope.ignoredUrlParams)),TablePagination.fetching=!1,TablePagination.searchParams=_.extend($scope.searchParams,urlParams),TablePagination.searchParams.page=parseInt(TableService.getTableSearchParam(PAGE_SEARCH_PARAM))||TablePagination.searchParams.page||1,TablePagination.searchParams.page_size=parseInt(TableService.getTableSearchParam(PAGE_SIZE_SEARCH_PARAM))||TablePagination.searchParams.page_size||PAGE_SIZE,TablePagination.searchModel=$scope.searchModel,$scope.bindParams){var name=$scope.searchModel.name,lastPage=TablePagination.searchParams.page,newItems=0;$scope.$watch(function(){return DS.lastModified(name)},function(){var params=_.clone($scope.bindParams);lastPage!==TablePagination.searchParams.page?(newItems=0,lastPage=TablePagination.searchParams.page):++newItems,isTraditional()?(params.limit=TablePagination.searchParams.page_size,params.offset=TablePagination.searchParams.page):params.limit=TablePagination.searchParams.page*TablePagination.searchParams.page_size+newItems;var items=DS.filter(name,params);isTraditional()||(items=_.unique(items,"id")),$scope.ngModel=items})}TablePagination.isTraditional=isTraditional,TablePagination.maxPageNumber=getMaxPageNumber(),TablePagination.canNext=function(){return TablePagination.pageNumbers?TablePagination.searchParams.page<TablePagination.totalPageCount:!1},TablePagination.canPrevious=function(){return TablePagination.pageNumbers?TablePagination.searchParams.page>1:!1},TablePagination.goToPage=function(pageNumber){pageNumber>0&&pageNumber<=TablePagination.totalPageCount&&(TablePagination.searchParams.page=pageNumber)},TablePagination.next=function(){TablePagination.canNext()?++TablePagination.searchParams.page:TablePagination.searchParams.page=TablePagination.totalPageCount},TablePagination.previous=function(){TablePagination.canPrevious()?--TablePagination.searchParams.page:TablePagination.searchParams.page=1},TablePagination.isCurrent=function(page){return TablePagination.currentPageUI===page},$scope.$watch("ngModel",function(newRes,oldRes){newRes!==oldRes&&buildTable(newRes)}),$scope.$watch("searchParams",function(params,oldParams){if(params!==oldParams){var config={paramChange:!0};params.page===oldParams.page&&(TablePagination.searchParams.page=1),fetchTableData(config)}},!0),fetchTableData()},link:function(scope,element,attrs,tableCtrl){scope.getTablePos=tableCtrl?tableCtrl.getTablePos:null}}})}(),function(){angular.module("common.directives").directive("ngTranscludeReplace",function($log){return{terminal:!0,restrict:"EA",link:function($scope,$element,$attr,ctrl,transclude){return transclude?void transclude(function(clone){clone.length?$element.replaceWith(clone):$element.remove()}):void $log.error("orphan","Illegal use of ngTranscludeReplace directive in the template! No parent directive that requires a transclusion found. ")}}})}(),function(){angular.module("common.directives").directive("timeToGo",function(TimeToGoService){return{scope:{date:"=",observe:"=",interval:"@",timeExhaustedText:"@",suffix:"@",preffix:"@"},restrict:"E",replace:!1,templateUrl:"directives/time-to-go/time-to-go.directive.html",controller:function($scope,$interval){function compute(){$scope.timeToGo=TimeToGoService.compute($scope.date),$scope.timeExhausted=TimeToGoService.timeExhausted($scope.date)}var stopInterval;compute(),$scope.interval&&(stopInterval=$interval(compute,$scope.interval),$scope.$on("$destroy",function(){$interval.cancel(stopInterval)})),$scope.observe&&$scope.$watch("date",function(newVal,oldVal){newVal!==oldVal&&compute()})}}}).service("TimeToGoService",function(moment){this.compute=function(date){return moment(date).toNow(!0)},this.timeExhausted=function(date){return moment().diff(moment(date))<0}})}(),function(){angular.module("common.directives").directive("stickyPanel",function($window,$timeout,_){return{link:function(scope,el,attrs){function stickToTop(){el.width(el.width()),parent.height(parent.height),el.css("position","fixed"),el.css("top","0"),el.css("bottom","")}function stickToBottom(){el.css("position","absolute"),el.css("top",""),el.css("bottom","0")}function resetPosition(){el.css("position",""),el.css("top",""),el.css("bottom",""),el.width(""),parent.height("")}function isStuckToBottom(){return"0px"===el.css("bottom")}function getParentHeightFromTop(parentOffset){return parentOffset.top+parent.outerHeight(!0)}function getElHeightFromTop(elOffset){return elOffset.top+el.outerHeight(!0)}function windowTopAboveEl(elOffset){return $window.pageYOffset<=elOffset.top}function windowTopAboveOrEqualParent(parentOffset){return $window.pageYOffset<=parentOffset.top}function elNotAtBottom(elOffset,parentOffset){return Math.floor(getElHeightFromTop(elOffset))<Math.floor(getParentHeightFromTop(parentOffset))}var parent=el.parent(),win=angular.element($window),onScroll=function(){if(el.outerHeight(!0)!==parent.height()){var parentOffset=parent.offset(),elOffset=el.offset();windowTopAboveOrEqualParent(parentOffset)?resetPosition():elNotAtBottom(elOffset,parentOffset)?stickToTop():isStuckToBottom()?windowTopAboveEl(elOffset)&&stickToTop():stickToBottom()}},onResize=_.throttle(function(){resetPosition(),onScroll()},10);win.bind("scroll",onScroll),win.bind("resize",onResize),scope.$on("$destroy",function(){win.unbind("scroll",onScroll),win.unbind("resize",onResize)}),$timeout(function(){onScroll()})}}})}(),function(){"use strict";function mentorPickerDirective(OrganizationMembershipModel,ConstantsService){return{scope:{orgId:"=",programYear:"=",ngModel:"=",reqOrgId:"@"},restrict:"E",templateUrl:"directives/mentor-picker/mentor-picker.directive.html",controller:function($scope){function findMentors(query){return OrganizationMembershipModel.findAll({program_year:$scope.programYear,status:ConstantsService.get("OrganizationMembershipStatus").ACTIVE,organization:$scope.orgId||[],search:query}).then(function(mentors){return _.pluck(mentors,"profile")})}function uniqueOnAdd(mentor){var mentors=$scope.ngModel,duplicate=_.find(mentors,function(mentor){return mentor.id===this.id},mentor);return duplicate||mentor}$scope.filterSelected=!0,$scope.findMentors=findMentors,_.isString($scope.ngModel[0])&&OrganizationMembershipModel.findAll({profile_id:$scope.ngModel,program_year:$scope.programYear,status:ConstantsService.get("OrganizationMembershipStatus").ACTIVE}).then(function(mentors){$scope.ngModel=_.pluck(mentors,"profile")}),$scope.uniqueOnAdd=uniqueOnAdd,$scope.$watch("orgId",function(newValue,oldValue){newValue!==oldValue&&($scope.ngModel=[])})}}}angular.module("common.directives").directive("mentorPicker",mentorPickerDirective)}(),function(){angular.module("common.directives").directive("tooltipHelp",function(){return{replace:!0,scope:{text:"="},templateUrl:"directives/tooltip-help/tooltip-help.html",transclude:!0}})}(),function(){"use strict";function TaskFilterDirective(OrganizationModel,OrganizationMembershipModel,UserModel,TaskModel,TaskInstanceModel,ConstantsService,$filter,$stateParams,$log,ProgramService,TableService,_){return{restrict:"E",templateUrl:"directives/task-filter/task-filter.template.html",scope:{user:"=",controlConfig:"=",onChange:"&",model:"="},link:function(scope){function applyFilters(){$log.debug("State:",scope.state),scope.onChange({state:scope.state})}function clearFilters(){_.forIn(scope.state,function(v,k){scope.state[k]=null}),scope.applyFilters()}function canShow(controlName){return(scope.controlConfig||[]).indexOf(controlName)>-1}function ensureArray(obj){var ret=obj?_.clone(obj):[];return _.isArray(ret)?ret:[ret]}scope.state={mentors:ensureArray(TableService.getTableSearchParam("mentors")),categories:ensureArray(TableService.getTableSearchParam("categories")),status:TableService.getTableSearchParam("status"),organization:ensureArray(TableService.getTableSearchParam("organization")),is_beginner:TableService.getTableSearchParam("is_beginner"),is_exhausted:TableService.getTableSearchParam("is_exhausted")},scope.privateState={mentors:_.clone(scope.state.mentors)||[]},scope.data={categoryChoices:ConstantsService.get("TaskCategoryChoices"),statusList:$filter("options")(ConstantsService.get("TaskStatus")),organizationList:[],program:ProgramService.getCurrent()},scope.applyFilters=applyFilters,scope.clearFilters=clearFilters,scope.canShow=canShow,scope.$watch("model",function(newModel){scope.data.statusList=$filter("options")(ConstantsService.get(newModel===TaskModel?"TaskDefinitionStatus":"TaskStatus"))}),scope.$watch("privateState",function(newState){
newState&&(scope.state.mentors=_.pluck(newState.mentors,"id"))},!0);var unwatchUser=scope.$watch("user",function(user){user&&(scope.orgs=user.is_program_admin?OrganizationModel.getAll():user.org_memberships,unwatchUser())})}}}angular.module("common.directives").directive("taskFilter",TaskFilterDirective)}(),function(){"use strict";function PublicTaskFilter(OrganizationModel,ConstantsService,TableService,$stateParams,_){return{templateUrl:"directives/task-filter/public-task-filter.template.html",scope:{onChange:"&",controlConfig:"="},link:function(scope,elem,attrs){function ensureArray(obj){var ret=obj?_.clone(obj):[];return _.isArray(ret)?ret:[ret]}function canShow(controlName){return(scope.controlConfig||[]).indexOf(controlName)>-1}scope.immediate=angular.isDefined(attrs.filterOnChange),scope.data={categoryChoices:ConstantsService.get("TaskCategoryChoices"),organizationList:[],state:{organization:ensureArray(TableService.getTableSearchParam("organization")),categories:ensureArray($stateParams[TableService.generateSearchParamKey("categories")]),is_beginner:$stateParams[TableService.generateSearchParamKey("is_beginner")]}},scope.canShow=canShow;var onFilterChange=_.debounce(function(state){scope.applyFilters(state),scope.$apply()},250,{maxWait:500});scope.$watch("data.organizationList",function(newValue,oldValue){newValue&&newValue!==oldValue&&(scope.data.organizationChoices=_.reduce(newValue,function(acc,item){return acc[item.id]=item.name,acc},{}))}),scope.immediate&&scope.$watch("data.state",onFilterChange,!0),OrganizationModel.bindAll({},scope,"data.organizationList"),scope.applyFilters=function(){scope.onChange({state:scope.data.state})},scope.clearFilters=function(){_.forIn(scope.data.state,function(v,k){scope.data.state[k]=null}),scope.applyFilters()}}}}angular.module("common.directives").directive("publicTaskFilter",PublicTaskFilter)}(),function(){"use strict";function SideNavToggleDirective($mdSidenav){return{link:function(scope,elem,attrs){var sideNavId=attrs.sidenavToggle;elem.on("click",function(){$mdSidenav(sideNavId).toggle()})}}}angular.module("common.directives").directive("sidenavToggle",SideNavToggleDirective)}(),function(){"use strict";function OrganizationDetailDirective(OrganizationModel){return{restrict:"E",scope:{},bindToController:{organizationId:"="},templateUrl:"directives/organization-detail/organization-detail.template.html",controllerAs:"ctrl",controller:function($scope){$scope.$watch("ctrl.organizationId",function(newVal){newVal&&OrganizationModel.bindOne(newVal,$scope,"ctrl.organization")})}}}angular.module("common.directives").directive("organizationDetail",OrganizationDetailDirective)}(),function(){function scrollIfDirective($timeout,$window){return function(scope,element,attributes){$timeout(function(){scope.$eval(attributes.scrollIf)&&$window.scrollTo(0,element.offset().top)})}}angular.module("common.directives").directive("scrollIf",scrollIfDirective)}(),function(){function selectInputText($window){function link(scope,el,attr){el.on("click",function(){$window.getSelection().toString()||this.setSelectionRange(0,this.value.length)})}return{restrict:"A",link:link,scope:{requireValue:"="}}}angular.module("common.directives").directive("selectInputText",selectInputText)}(),function(){angular.module("common.directives").directive("taskCategory",function(){return{scope:{id:"@",hideName:"=",hasTooltip:"="},restrict:"E",templateUrl:"directives/task-category/task-category.directive.html",controller:function($scope,ConstantsService){$scope.categoryNames=ConstantsService.get("TaskCategoryChoices"),$scope.categoryIcons=ConstantsService.get("TaskCategoryIcons")}}})}(),function(){function taskDefinitionFormActionsDirective(){return{templateUrl:"directives/task-definition-form-actions/task-definition-form-actions.directive.html"}}angular.module("common.directives").directive("taskDefinitionFormActions",taskDefinitionFormActionsDirective)}(),function(){function ciSubmitDirective($parse,$timeout,FormUtilsService){return{restrict:"A",require:"form",compile:function($element,attr){var fn=$parse(attr.ciSubmit,null,!0);return function(scope,element,attrs,formCtrl){function submitForm(event){var callback=function(){var promise=fn(scope,{$event:event});promise&&processSubmitPromise(promise),event.preventDefault()};formCtrl.$valid&&scope.$apply(callback)}function processSubmitPromise(promise){formCtrl.$state.inProgress=!0,formCtrl.$state.promise=promise,promise.then(function(response){response&&response.status&&FormUtilsService.processValidationResponse(formCtrl,response),formCtrl.$state.success=!0,formCtrl.$state.fail=!1,$timeout(function(){scope.$apply(function(){resetFormState()})},2e3)},function(response){response&&FormUtilsService.processValidationResponse(formCtrl,response),formCtrl.$state.success=!1,formCtrl.$state.fail=!0})["finally"](function(){dontEndProgress||(formCtrl.$state.inProgress=!1),formCtrl.$state.promise=null,formCtrl.$state.runAtLeastOnce=!0})}function resetFormState(){formCtrl.$state.inProgress=!1,formCtrl.$state.promise=null,formCtrl.$state.runAtLeastOnce=!1,formCtrl.$state.success=!1,formCtrl.$state.fail=!1}var dontEndProgress=$parse(attr.ciDontEnd,null,!0)(scope),formFields=FormUtilsService.getFormFields(formCtrl);formCtrl.$state={},resetFormState(),element.on("submit",submitForm),scope.$on("$destroy",function(){$timeout(function(){element.off("submit",submitForm)},0,!1)}),angular.forEach(formFields,function(field){field.$validators.server=function(modelValue,viewValue){return!0}})}}}}angular.module("common.directives").directive("ciSubmit",ciSubmitDirective)}(),function(){angular.module("common.directives").directive("ciTabComplete",function($,$timeout){return{link:function(scope,ele){$timeout(function(){var input=angular.element(ele.find("input")[0]),keyDown=function(event){if((9===event.keyCode||188==event.keyCode)&&input.val()){event.preventDefault();var e=$.Event("keydown",{keyCode:13});input.trigger(e)}};input.on("keydown",keyDown),scope.$on("$destroy",function(){input.off("keydown",keyDown)})})}}}).directive("ciBlurClear",function($timeout){return{link:function(scope,ele){$timeout(function(){var input=angular.element(ele.find("input")[0]),onBlur=function(){input.val("")};input.on("blur",onBlur),scope.$on("$destroy",function(){input.off("blur",onBlur)})})}}}).directive("ciBlurComplete",function($,$timeout){return{link:function(scope,ele){$timeout(function(){var input=angular.element(ele.find("input")[0]),onBlur=function(event){if(input.val()){var e=$.Event("keydown",{keyCode:13});input.trigger(e)}};input.on("blur",onBlur),scope.$on("$destroy",function(){input.off("blur",onBlur)})})}}})}(),function(){"use strict";function HttpPrefix(){return{restrict:"A",require:"ngModel",link:function(scope,elem,attr,ngModelCtrl){function ensureHttpPrefix(value){var startsWithProtocol=/^(https?):\/\//i.test(value),hasHttp=0!=="http://".indexOf(value),hasHttps=0!=="https://".indexOf(value);return value&&!startsWithProtocol&&hasHttp&&hasHttps?(ngModelCtrl.$setViewValue("http://"+value),ngModelCtrl.$render(),"http://"+value):value}ngModelCtrl.$formatters.push(ensureHttpPrefix),ngModelCtrl.$parsers.splice(0,0,ensureHttpPrefix)}}}angular.module("common.directives").directive("httpPrefix",HttpPrefix)}(),function(){"use strict";function DisplayNameUnique(UserService,$q){return{restrict:"A",require:"ngModel",link:function(scope,elem,attrs,ngModelCtrl){ngModelCtrl.$asyncValidators.unique=function(value){function validateUnique(user){return UserService.displayNameIsUnique(value,user?user.id:null)}return UserService.getCurrentUser().then(validateUnique)["catch"](validateUnique)}}}}angular.module("common.directives").directive("displayNameUnique",DisplayNameUnique)}(),function(){"use strict";function CurrentTaskDirective(){return{scope:{task:"="},restrict:"E",replace:!0,templateUrl:"directives/current-task/current-task.directive.html"}}angular.module("common.directives").directive("currentTask",CurrentTaskDirective)}(),function(){"use strict";function ciValidateUrlDirective(_){var URL_REGEX=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i,validateUrl=_.memoize(function(url){return!url||URL_REGEX.test(url)});return{restrict:"A",require:"ngModel",link:function(scope,elem,attr,ngModelCtrl){ngModelCtrl.$validators.url=function(modelValue,viewValue){var value=modelValue||viewValue;return validateUrl(value)}}}}angular.module("common.directives").directive("ciValidateUrl",ciValidateUrlDirective)}(),function(){"use strict";function ciValidateEmailDirective(_){var EMAIL_REGEX=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/i,validateEmail=_.memoize(function(email){return EMAIL_REGEX.test(email)});return{restrict:"A",require:"ngModel",link:function(scope,elem,attr,ngModelCtrl){ngModelCtrl.$validators.email=function(modelValue,viewValue){var value=modelValue||viewValue;return ngModelCtrl.$isEmpty(value)||validateEmail(value)}}}}angular.module("common.directives").directive("ciValidateEmail",ciValidateEmailDirective)}(),function(){function scrolledToBottomDirective(){return{restrict:"A",scope:{scrolledToBottom:"="},link:function(scope,el,attrs){scope.scrolledToBottom=!1;var onScroll=function(){var margin=100,position=el.scrollTop(),end_of_element=el[0].scrollHeight-el.outerHeight();position>=end_of_element-margin&&scope.$apply(function(){scope.scrolledToBottom=!0,el.off("scroll",onScroll)})};el.on("scroll",onScroll),scope.$on("$destroy",function(){el.off("scroll",onScroll)})}}}angular.module("common.directives").directive("scrolledToBottom",scrolledToBottomDirective)}(),function(){angular.module("common.directives").directive("signupProgress",function(){return{scope:{steps:"=",currentStep:"="},templateUrl:"directives/signup-progress/signup-progress.html",controller:function($scope){$scope.isCurrent=function(i){return $scope.currentStep===i+1},$scope.isDone=function(i){return $scope.currentStep>i+1},$scope.isLast=function(i){return $scope.steps.length===i+1}}}})}(),function(){angular.module("common.directives").directive("pageSearch",function(){return{replace:!0,scope:{searchTerm:"=",placeholder:"@"},link:function(scope,el,attrs,ctrl){},templateUrl:"directives/page-search/page-search.directive.html"}})}(),function(){angular.module("common.directives").directive("transcludeReceive",function(){return{controller:function(TranscludeContent){this.setEl=TranscludeContent.setEl},link:function(scope,el,attrs,ctrl){ctrl.setEl(attrs.transcludeReceive,el)}}}).directive("transcludeSend",function(){return{transclude:!0,controller:function(TranscludeContent){this.setContent=TranscludeContent.setContent,this.clearContent=TranscludeContent.clearContent},link:function(scope,el,attrs,ctrl,transclude){ctrl.setContent(attrs.transcludeSend,transclude),el.detach(),scope.$on("$destroy",function(){ctrl.clearContent(attrs.transcludeSend)})}}})}(),function(){angular.module("common.directives").directive("ciDataTableHeader",function(){return{replace:!0,transclude:!0,controller:function($scope,$q){var titleElDeferred=$q.defer(),actionsElDeferred=$q.defer();this.registerTitleEl=function(el){titleElDeferred.resolve(el)},this.setTitle=function(transclude){titleElDeferred.promise.then(function(el){el.prepend(transclude())})},this.registerActionsEl=function(el){actionsElDeferred.resolve(el)},this.setActions=function(transclude){actionsElDeferred.promise.then(function(el){el.append(transclude())})}},link:function(scope,el,attrs,ctrl){var titleEl=el.find(".md-title"),actionsEl=el.find(".data-table__toolbar-actions");ctrl.registerTitleEl(titleEl),ctrl.registerActionsEl(actionsEl)},templateUrl:"directives/data-table/data-table-header.directive.html"}}).directive("ciDataTableTitle",function(){return{require:"^ciDataTableHeader",transclude:!0,template:"<div ng-transclude></div>",link:function(scope,el,attrs,dataTableHeaderCtrl,transclude){dataTableHeaderCtrl.setTitle(transclude),el.detach()}}}).directive("ciDataTableHeaderActions",function(){return{require:"^ciDataTableHeader",transclude:!0,template:"<div ng-transclude></div>",link:function(scope,el,attrs,dataTableHeaderCtrl,transclude){dataTableHeaderCtrl.setActions(transclude),el.detach()}}}).controller("dataTableBodyCtrl",function($compile){var templateCache={};this.addTableHeadEls=function(tr,cols){cols.forEach(function(el){var cellEl=angular.element("<th />");cellEl.attr("name",el.name),el.orderBy&&cellEl.attr("order-by",el.orderBy),(el.isNumeric||el.isBoolean)&&cellEl.attr("numeric","numeric"),el.unit&&cellEl.attr("unit","unit"),tr.append(cellEl)})},this.addTableCellEls=function(tbody,cols,trackBy,autoSelect){var rowEl=angular.element("<tr />"),repeatAttr="listItem in items"+(trackBy?" track by listItem."+trackBy:"");rowEl.attr("ng-repeat",repeatAttr),rowEl.attr("md-auto-select",autoSelect),tbody.append(rowEl),cols.forEach(function(el){var comparator,cellEl=angular.element("<td />");rowEl.append(cellEl),el.content?cellEl.append(angular.element(el.content)):el.templateId&&templateCache[el.templateId]?cellEl.append(templateCache[el.templateId]()):el.isBoolean?(comparator=el.comparator?el.comparator:"== true",cellEl.html(angular.element('<i class="material-icons">{{listItem.'+el.attr+" "+comparator+" ? 'check' : 'close'}}</i>"))):cellEl.attr("ng-bind","listItem."+el.attr)})},this.registerTemplate=function(id,transclude){templateCache[id]=transclude},this.$compile=$compile}).directive("ciDataTableBody",function(){return{replace:!0,transclude:!0,template:"<div ng-transclude></div>",scope:{cols:"=",items:"=",autoSelect:"=",orderBy:"=",trackBy:"@?",selected:"=",deferred:"=",onOrder:"&",locals:"=?"},controller:"dataTableBodyCtrl",link:function(scope,el,attrs,ctrl){var template=["<div>","<md-data-table-container>",'<table md-data-table md-progress="deferred">','<thead md-order="orderBy" md-trigger="doOnOrder">','<tr class="data-table__header-row"></tr>',"</thead>",'<tbody class="data-table__body"></tbody>',"</table>","</md-data-table-container>","</div>"].join(""),buildTable=function(cols){ctrl.addTableHeadEls(tableHeadRowEl,cols),ctrl.addTableCellEls(tableBodyEl,cols,scope.trackBy,scope.autoSelect),scope.selected&&tableEl.attr("md-row-select","selected"),ctrl.$compile(el.contents())(scope)};el.append(angular.element(template));var tableHeadRowEl=el.find(".data-table__header-row"),tableBodyEl=el.find(".data-table__body"),tableEl=el.find("[md-data-table]");scope.cols.then?scope.cols.then(buildTable):scope.cols.length&&buildTable(scope.cols),scope.doOnOrder=function(key){scope.onOrder({key:key})}}}}).directive("ciDataTableCellTemplate",function(){return{require:"^ciDataTableBody",transclude:!0,link:function(scope,el,attrs,dataTableBodyCtrl,transclude){dataTableBodyCtrl.registerTemplate(attrs.cellId,transclude),el.detach()}}}).directive("ciDataTableFooter",function(){return{replace:!0,transclude:!0,templateUrl:"directives/data-table/data-table-footer.directive.html",scope:{model:"=",searchModel:"=",searchParams:"=",ignoredUrlParams:"=?"},controller:function($q){var actionsElDeferred=$q.defer();this.registerActions=function(transclude){actionsElDeferred.promise.then(function(el){el.append(transclude())})},this.registerActionsEl=function(el){actionsElDeferred.resolve(el)}},link:function(scope,el,attrs,ctrl){var actionsEl=el.find(".item-table__pagination__actions");ctrl.registerActionsEl(actionsEl)}}}).directive("ciDataTableFooterActions",function(){return{require:"^ciDataTableFooter",transclude:!0,link:function(scope,el,attrs,dataTableFooterCtrl,transclude){dataTableFooterCtrl.registerActions(transclude),el.detach()}}})}(),function(){"use strict";function CheckBoxGroup(){return{restrict:"EA",require:"ngModel",scope:{options:"=",label:"@"},template:["<md-input-container>",'<h4 ng-if="label">{{label}}</h4>',"<md-checkbox ",'ng-model="data.state[value]" ','ng-change="onChange()" ','ng-repeat="(value, name) in options">{{name}}',"</md-checkbox><label>","</md-input-container>"].join(""),link:function(scope,elem,attr,ngModelCtrl){function render(){angular.forEach(ngModelCtrl.$viewValue||[],function(val,key){scope.data.state[key]=!0}),angular.forEach(scope.data.state,function(val,key){key in ngModelCtrl.$viewValue||(scope.data.state[key]=!1)})}function formatter(value){return value?(_.isArray(value)?value:[value]).reduce(function(acc,item){return acc[item]=!0,acc},{}):{}}function parser(value){return Object.keys(value).reduce(function(acc,key){return value[key]&&acc.push(key),acc},[])}scope.data={state:{}},ngModelCtrl.$render=render,ngModelCtrl.$parsers.push(parser),ngModelCtrl.$formatters.push(formatter),scope.onChange=function(){ngModelCtrl.$setViewValue(angular.copy(scope.data.state)),ngModelCtrl.$commitViewValue()}}}}angular.module("common.directives").directive("checkboxGroup",CheckBoxGroup)}(),function(){"use strict";function UnSelectAll(){return{restrict:"EA",require:"ngModel",link:function(scope,elem,attrs,ngModelController){ngModelController.$parsers.push(function(val){return val.indexOf(void 0)>-1&&(val=[]),val})}}}angular.module("common.directives").directive("unSelectAll",UnSelectAll)}(),function(){"use strict";function TaskCategoriesDirective(){return{restrict:"EA",scope:{task:"="},template:['<span class="task-categories" ng-repeat="cat in categories track by $index">','<span class="task-categories__item">','{{::cat | display:"TaskCategory" | constantCaseToSentenceCase }}','<span ng-if="$index+1 && !$last">, <span>',"</span>","</span>"].join(""),link:function(scope){scope.$watch("task",function(task){task&&(scope.categories=task.categories)})}}}angular.module("common.directives").directive("taskCategories",TaskCategoriesDirective)}(),function(){"use strict";angular.module("common.directives").directive("ciLoadingIndicator",function(){return{scope:{promises:"=",loading:"=",showProgress:"="},template:'<md-progress-linear ng-show="showProgress && (progress < max)" ng-value="progress"></md-progress-linear>',controller:function($scope){function addPromises(promises){$scope.loading=!0,$scope.progress=0;var length=promises.length,percentPoint=Math.ceil(1/length*100),max=percentPoint*length,progressFunction=function(){$scope.progress+=percentPoint,$scope.progress>=max&&($scope.progress=100)};_.each(promises,function(promise){promise.then(this.progressFunction,this.progressFunction)},{progressFunction:progressFunction})}$scope.progress=0,$scope.max=0,$scope.$watch("progress",function(progress){100===progress&&($scope.loading=!1)}),$scope.$watch("promises",function(newVal,oldVal){newVal&&newVal.length&&addPromises(newVal)})}}}).service("BulkMentorModalService",function(_,$mdDialog,$templateCache,UploadService){var bulkMentorController=(this.show=function(config){var template="directives/bulk-actions/bulk-mentor-modal.tmpl.html",dialogConfig={template:$templateCache.get(template),controller:bulkMentorController(config),parent:angular.element(document.body),clickOutsideToClose:!0,locals:{program_year:config.program_year}};return $mdDialog.show(dialogConfig)},function(config){return function($scope,$timeout,$http,$mdDialog){$scope.program_year=config.program_year,$scope.orgIds=config.org_ids,$scope.orgIds&&1===$scope.orgIds.length&&($scope.orgId=$scope.orgIds[0]),$scope.mentors=[],$scope.cancel=function(){$mdDialog.cancel()},$scope.assign=function(){$mdDialog.hide($scope.mentors)}}})})}(),function(){function mdMarkdownMaxlengthDirective($animate,MarkdownService){function postLink(scope,element,attr,ctrls){function renderCharCount(value){var length=getRenderedTextLength(String(element.val()||value||""));return charCountEl.text(length+"/"+maxlength),value}function getRenderedTextLength(value){var rendered=MarkdownService(value);return $(rendered.toString()).text().length}var maxlength,ngModelCtrl=ctrls[0],containerCtrl=ctrls[1],charCountEl=angular.element('<div class="md-char-counter">'),input=angular.element(containerCtrl.element[0].querySelector("[md-markdown-maxlength]"));attr.$set("ngTrim","false");var ngMessagesSelectors=["ng-messages","data-ng-messages","x-ng-messages","[ng-messages]","[data-ng-messages]","[x-ng-messages]"],ngMessages=containerCtrl.element[0].querySelector(ngMessagesSelectors.join(","));ngMessages?angular.element(ngMessages).prepend(charCountEl):input.after(charCountEl),ngModelCtrl.$formatters.push(renderCharCount),ngModelCtrl.$viewChangeListeners.push(renderCharCount),element.on("input keydown keyup",function(){renderCharCount()}),scope.$watch(attr.mdMarkdownMaxlength,function(value){maxlength=value,angular.isNumber(value)&&value>0?(charCountEl.parent().length||$animate.enter(charCountEl,containerCtrl.element,input),renderCharCount()):$animate.leave(charCountEl)}),ngModelCtrl.$validators["md-markdown-maxlength"]=function(modelValue,viewValue){if(!angular.isNumber(maxlength)||0>maxlength)return!0;var length=getRenderedTextLength(modelValue||element.val()||viewValue||"");return maxlength>=length}}return{restrict:"A",require:["ngModel","^mdInputContainer"],link:postLink}}angular.module("common.directives").directive("mdMarkdownMaxlength",mdMarkdownMaxlengthDirective)}(),function(){function inviteEmailDirective($timeout){function controller($scope){function invite(){return $scope.inviteMethod()(ctrl.inviteEmail).then(resetForm,handleInviteError)}function resetForm(response){return ctrl.inviteEmail=null,$scope.inviteForm.$setPristine(),$scope.inviteForm.email.$setUntouched(),response}function handleInviteError(response){return 400===response.status&&$timeout(function(){$scope.inviteForm.email.$setValidity("server",!1);var res=_.values(response.data);res&&res[0]&&res[0][0]&&($scope.inviteForm.email.serverErrorMsg=res[0][0])}),response}var ctrl=this;ctrl.invite=invite}return{scope:{inviteMethod:"&"},restrict:"E",templateUrl:"directives/invite-email/invite-email.directive.html",controller:controller,controllerAs:"ctrl"}}angular.module("common.directives").directive("inviteEmail",inviteEmailDirective)}(),function(){angular.module("common.services",[])}(),function(){function ConstantsService(_,$http){function getConstants(){return constantsPromise||(constantsPromise=makeConstantsAPICall().then(setUpConstants)),constantsPromise}function makeConstantsAPICall(){return $http.get(endpoint)}function setUpConstants(apiResponse){return constants=apiResponse.data,constants.TaskCategoryIcons={1:"code",2:"web",3:"chrome_reader_mode",4:"done_all",5:"assessment"},constants.TaskStatusIcons={1:"assignment",2:"assignment_late",3:"assignment_late",4:"assignment_late",5:"assignment_return",6:"assignment_late",7:"assignment_turned_in",8:"assignment_late"},constants.UserTypes={ORG_ADMIN:"org_admin",PROGRAM_ADMIN:"program_admin",MENTOR:"mentor",REJECT_ORG_ADMIN:"reject_org_admin",STUDENT:"student"},constants.DashboardStates={INITIAL:"initial",ORGS_PUBLISHED:"orgs_published",SIGN_UP_OPEN:"org_signup_open",ORG_APPROVAL:"org_approval",COMPETITION_OPEN:"competition_open",NO_CLAIMS:"no_claims",GRACE_PERIOD:"grace_period",WINNERS_CHOOSING:"winners_choosing",WINNERS_PUBLISHED:"winners_published"},constants.StudentCountries=_.filter(constants.Countries,function(country){return-1===_.indexOf(["brazil","italy"],country[0].toLowerCase())}),constants.get=get,constants}function get(constantName){return constants?constants[constantName]:void console.warn("Called ConstantsService.get() but constants have not yet been fetched")}var constants,constantsPromise,endpoint="/api/constants";return{getConstants:getConstants,get:get}}angular.module("common.services").service("ConstantsService",ConstantsService)}(),function(){"use strict";function ToastService($mdToast,$timeout){function show(content,showClose,options,error){toastApi={content:content,showClose:!!showClose,error:error};var toastOptions=angular.merge({template:toastTemplateFn(content),controller:toastController,controllerAs:"ctrl",locals:{toastApi:toastApi,data:{}},parent:$(".toast-parent")},options||{}),toastPromise=$mdToast.show(toastOptions);return toastPromise}function showError(content,hideDelay){content||(content="OOPS! Something went wrong."),angular.isUndefined(hideDelay)&&(hideDelay=5e3),show(content,!0,{hideDelay:hideDelay},!0)}function toastController($scope,toastApi,data){$scope.data=data,$scope.ok=hide,$scope.close=cancel,$scope.toastApi=toastApi}function update(options){$timeout.cancel(toastClosePromise),angular.extend(toastApi,options)}function closeAfter(duration){toastClosePromise=$timeout(hide,duration)}function hide(){$mdToast.hide()}function cancel(reason){$mdToast.cancel(reason)}var toastClosePromise,service={show:show,hide:hide,cancel:cancel,update:update,closeAfter:closeAfter,showError:showError},toastApi={},toastTemplateFn=function(content){return['<md-toast class="toast" ng-class="{\'toast__error\': toastApi.error}" layout="row">','<div class="toast-content" flex>'+content+" </div>",'<div class="md-action" layout="row" layout-align="center center">','<md-button aria-label="Close" class="toast-button toast-button--ok md-primary" ng-if="toastApi.showClose" ng-click="ok()">',"Close","</md-button>","</div>","</md-toast>"].join("")};return service}angular.module("common.services").factory("ToastService",ToastService)}(),function(){angular.module("common.services").service("UploadService",function($q){var UploadService=function(config){function init(){setupEventListeners()}function setupEventListeners(){if(config.events)for(var i=0;i<eventTypes.length;i++){var event=config.events[eventTypes[i]];event&&req.addEventListener(eventTypes[i],event)}req.addEventListener("load",function(){var res=JSON.parse(this.responseText);deferred.resolve(res)}),req.addEventListener("error",function(){var res=JSON.parse(this.responseText);deferred.reject(res)}),req.addEventListener("progress",function(){var res=JSON.parse(this.responseText);deferred.notify(res)})}config=config||{};var req=new XMLHttpRequest,uploadUrl="/file-upload",deferred=$q.defer(),eventTypes=["readystatechange","loadstart","abort","timeout","loadend"];this.upload=function(file,config){var fullUploadUrl;return deferred=$q.defer(),angular.isDefined(config.uploadUrl)&&(uploadUrl=config.uploadUrl),fullUploadUrl=uploadUrl+"?name="+file.name,config.modelType&&(fullUploadUrl+="&model_type="+config.modelType),config.modelId&&(fullUploadUrl+="&model_id="+config.modelId),config.fileType&&(fullUploadUrl+="&file_type="+config.fileType),config.token&&(fullUploadUrl+="&share_link_token="+config.token),req.open("POST",fullUploadUrl,!0),req.send(file),deferred.promise},init()};return UploadService.FILE_TYPES={IMAGE:"image",DOC:"doc"},UploadService.MODEL_TYPES={ORG:"core_organization",PC:"core_parentalconsent",TU:"core_taskupdate"},UploadService})}(),function(){function FormUtilsService(_,$mdDialog){function processValidationResponse(form,response){var invalid=400===response.status,fields=getFormFields(form);_.forIn(fields,function(value,key){var valid=!invalid||!response.data[key];if(fields[key].$setValidity("server",valid),!valid){var errors="";for(var er in response.data[key])errors=errors+" "+response.data[key][er];fields[key].serverErrorMsg=errors}}),invalid||form.$setPristine()}function partialProcessValidationResponse(form){return function(response){processValidationResponse(form,response)}}function getFormFields(form){return _.omit(form,function(value,key){return _.startsWith(key,"$")||_.startsWith(key,".")})}function setPendingSave(pending,modalDef){pendingSave=pending,pendingSaveModalDef=modalDef}function isPendingSave(){return pendingSave}function getPendingSaveModalDef(){return pendingSaveModalDef}function showFormNotSavedWarning(event,def){return def=def||{},$mdDialog.show($mdDialog.confirm().parent(angular.element(document.body)).clickOutsideToClose(!0).title(def.title||"Your data is not saved").content(def.content||"Are you sure you want to leave this page without having saved your data?").ariaLabel("Save your changes").cancel(def.cancel||"No, stay").ok(def.ok||"Yes, leave").targetEvent(event))}var pendingSave,pendingSaveModalDef;return{processValidationResponse:processValidationResponse,partialProcessValidationResponse:partialProcessValidationResponse,getFormFields:getFormFields,setPendingSave:setPendingSave,isPendingSave:isPendingSave,showFormNotSavedWarning:showFormNotSavedWarning,getPendingSaveModalDef:getPendingSaveModalDef}}angular.module("common.services").constant("_",_).factory("FormUtilsService",FormUtilsService)}(),function(){angular.module("common.services").service("TranscludeContent",function(){var el={},currentTransclude={},setContent=function(id,content){el[id].empty().append(content)};return{setEl:function(id,newEl){el[id]=newEl,currentTransclude[id]&&setContent(id,currentTransclude[id]())},setContent:function(id,transclude){el[id]&&setContent(id,transclude()),currentTransclude[id]=transclude},clearContent:function(id){el[id]&&(setContent(id,""),delete currentTransclude[id])}}})}(),function(){"use strict";function TableColumnsService(UserService,ProgramService){return{getColumns:function(columns){return ProgramService.getCurrentStateIndex().then(function(stateIndex){var userType=UserService.getCurrentUserType(),currentColumns=columns[userType+stateIndex];return currentColumns||[]})}}}angular.module("common.services").service("TableColumnsService",TableColumnsService)}(),function(){"use strict";function TaskFilterService(_){function mergeFilters(currentState,newState,baseState){_.assign(currentState,newState,baseState),_.each(currentState,function(v,k){return v||delete currentState[k],currentState})}return{mergeFilters:mergeFilters}}angular.module("common.services").service("taskFilterService",TaskFilterService)}(),function(){"use strict";function PollerService(_,$q,$timeout){this.pollUntil=function(func,condition,maxPollCount,waitTime){function poll(){return func().then(function(resp){return pollCount++,condition(resp)?(deferred.resolve(resp),resp):pollCount===maxPollCount?(deferred.reject(),resp):$timeout(poll,getWaitTime())})["catch"](function(){deferred.reject()})}var pollCount=0,deferred=$q.defer(),getWaitTime=_.isFunction(waitTime)?waitTime:_.constant(waitTime||500);return poll(),deferred.promise}}angular.module("common.services").service("PollerService",PollerService)}(),function(){"use strict";function BatchToolsService($q,modelService,$log){function fetchAll(resource,baseParams){function fetchNext(){var params=_.clone(baseParams);params.page=page,resource.findAll(params).then(function(results){totalResults=totalResults.concat(results),modelService.getMeta(resourceName,params).next?(page++,fetchNext()):($log.debug("Batch fetched "+page+" pages of results for "+resourceName+" resource with params "+JSON.stringify(baseParams)),def.resolve(totalResults))})["catch"](function(err){def.reject(err)})}var def=$q.defer(),totalResults=[],page=1,resourceName=resource.name;return fetchNext(),def.promise}return{fetchAll:fetchAll}}angular.module("common.services").factory("BatchToolsService",BatchToolsService)}(),angular.module("common.templates",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/accordion/accordion-group.directive.html",'<div>\n	<div class="accordion-head" layout="row" layout-align="start center">\n		<i ng-click="toggleOpen()" ng-class="{disabled: isDisabled}" class="un-selectable expand-icon material-icons">{{isOpen ? \'expand_less\' :\n			\'expand_more\'}}</i>\n\n		<div class="accordion-title" accordion-transclude="heading" flex layout="row" layout-align="start center">\n			<h2>{{heading}}</h2>\n		</div>\n	</div>\n	<div ng-show="isOpen" class="accordion-expandable">\n		<div ng-transclude></div>\n	</div>\n</div>\n'),$templateCache.put("directives/accordion/accordion.directive.html",'<div class="list-item-expandable" ng-transclude></div>\n'),
$templateCache.put("directives/age-picker-select/age-picker-select.html",'<md-select ng-model="selectedDate.month" ng-change="parseDate()" placeholder="Month">\n	<md-option ng-value="i" ng-repeat="i in months">{{ i }}</md-option>\n</md-select>\n<md-select ng-model="selectedDate.day" ng-change="parseDate()" placeholder="Day" ng-disabled="!selectedDate.month">\n	<md-option ng-value="i" ng-repeat="i in days">{{ i }}</md-option>\n</md-select>\n<md-select ng-model="selectedDate.year" ng-change="parseDate()" placeholder="Year">\n	<md-option ng-value="i" ng-repeat="i in years">{{ i }}</md-option>\n</md-select>\n'),$templateCache.put("directives/bulk-actions/bulk-mentor-modal.tmpl.html",'<md-dialog class="upload-dialog" aria-label="Upload Image">\n	<form>\n		<md-toolbar>\n			<div class="md-toolbar-tools">\n				<h2>Select and Assign Mentors</h2>\n				<span flex></span>\n			</div>\n		</md-toolbar>\n		<md-dialog-content>\n			<md-select ng-model="orgId" ng-if="TaskCtrl.userOrgs.length > 1"\n									   placeholder="Select organization" id="organization_id" required>\n				<md-option ng-value="org.id" ng-repeat="org in TaskCtrl.userOrgs track by $index">{{ ::org.name }}\n				</md-option>\n			</md-select>\n			<mentor-picker ng-model="mentors" org-id="orgId" program-year="program_year"></mentor-picker>\n		</md-dialog-content>\n		<div class="md-actions" layout="row">\n			<span flex></span>\n			<md-button ng-disabled="!mentors || !mentors.length" ng-click="assign()">\n				Assign\n			</md-button>\n			<md-button ng-click="cancel()">\n				Cancel\n			</md-button>\n		</div>\n	</form>\n</md-dialog>\n\n'),$templateCache.put("directives/current-task/current-task.directive.html",'<div class="current-task">\n	<div class="current-task__header">\n		<h2 class="current-task__name md-headline">{{ task.task_definition.name }}</h2>\n		<div layout="row" layout-align="space-between center">\n			<div>\n				<i class="material-icons">access_time</i>\n				<time datetime="task.getDeadline()">{{ task.getDeadline() | codeInDateFormat }}, </time>\n				<time-to-go\n					date="task.getDeadline()"\n					time-exhausted-text="No time left"\n					suffix="to go"\n				></time-to-go>\n			</div>\n			<div>\n				<i class="material-icons">comment</i>\n				<span>{{ ::task.comments_count }} comments</span>\n			</div>\n		</div>\n	</div>\n	<div class="current-task__body" ng-if="task.latest_comment.kind">\n		<h3 class="md-title">Latest comment</h3>\n		<div layout="row" layout-align="space-between center">\n			<div><i class="material-icons">person</i> <span>{{ ::task.latest_comment.author.display_name }}</span></div>\n			<div>{{ ::task.latest_comment.created | date:\'medium\' }}</div>\n		</div>\n		<div layout="row" class="current-task__comment-body">\n			<div flex>{{ ::task.latest_comment.text }}</div>\n			<div layout>\n				<i class="material-icons current-task__comment-icon">comment</i>\n			</div>\n		</div>\n	</div>\n	<md-button ui-sref="base.app.management.taskInstance.detail({ id: task.id })">\n		<i class="material-icons button-icon--blue">assignment</i>\n		<span>Go to task</span>\n	</md-button>\n</div>\n'),$templateCache.put("directives/data-table/data-table-footer.directive.html",'<div\n layout="row"\n class="item-table__pagination"\n>\n	<div class="item-table__pagination__actions" layout="row"></div>\n	<div\n	 flex\n	 ng-transclude\n	></div>\n	<div\n	 layout="column"\n	 layout-align="center center"\n	>\n		<table-total-items></table-total-items>\n	</div>\n	<table-pagination ng-model="model" search-model="searchModel"\n					  search-params="searchParams" ignored-url-params="ignoredUrlParams"></table-pagination>\n</div>\n'),$templateCache.put("directives/data-table/data-table-header.directive.html",'<md-data-table-toolbar>\n	<div>\n		<h2 class="md-title">\n			<small>\n				<table-total-items count></table-total-items>\n			</small>\n		</h2>\n	</div>\n	<div flex></div>\n	<div class="data-table__toolbar-actions" ng-transclude></div>\n</md-data-table-toolbar>\n'),$templateCache.put("directives/form-progression/form-progression-item.html",'<li ng-show="itemConfig.text && show">\n	<a ng-click="scrollTo()">{{::itemConfig.text}}</a>\n</li>\n'),$templateCache.put("directives/form-progression/form-progression.html",'<md-content class="form-progress">\n	<h2 class="md-title" ng-if="noDetails === undefined">{{ ::headline || \'Progress\'}}</h2>\n\n	<h3 class="md-display">{{::title}}</h3>\n\n	<div class="progress-graph" ng-if="showProgressBar">\n		<div class="progress-wrapper" style="background-color: {{::color || \'#2196f3\'}};">\n			<span\n			 layout="row"\n			 layout-align="center center"\n			 class="progress-value"\n			>{{ percentage }}%</span>\n		</div>\n		<div\n			round-progress\n			max="total"\n			current="done"\n			color="{{::color || \'#2196f3\'}}"\n			bgcolor="#eaeaea"\n			radius="{{radius}}"\n			stroke="{{::stroke}}"\n			semi="false"\n			rounded="false"\n			clockwise="true"\n			responsive="true"\n			duration="800"\n			animation="easeInOutQuart"></div>\n	</div>\n	<div layout="column">\n		<span ng-if="noDetails === undefined">{{done}} out of {{total}} required items done.</span>\n		<div ng-hide="doneShown === totalShown">\n			<p>What we need from you next:</p>\n\n			<ul class="progress-items">\n				<ng-transclude></ng-transclude>\n			</ul>\n\n			<p class="progress-warning">{{ ::warningText }}</p>\n		</div>\n	</div>\n</md-content>\n'),$templateCache.put("directives/invite-email/invite-email.directive.html",'<form layout="row" ci-submit="ctrl.invite()" name="inviteForm" novalidate>\n\n	<md-input-container flex>\n		<label>Google account</label>\n		<input name="email" type="email" ci-validate-email ng-required="true" ng-model="ctrl.inviteEmail">\n\n		<div ng-messages="inviteForm.email.$error"\n			 ng-if="(inviteForm.email.$touched || inviteForm.$submitted) && inviteForm.email.$invalid">\n			<div ng-messages-include="pages/validation-messages.html"></div>\n			<div ng-message="server">{{inviteForm.email.serverErrorMsg}}</div>\n		</div>\n	</md-input-container>\n	<span layout="column" layout-align="center end">\n		<md-button type="submit" class="md-primary" ng-disabled="!inviteForm.$valid || inviteForm.$state.inProgress" class="upper accent-button-inverted md-button md-default-theme" aria-label="Send invitation">\n			<span ng-if="!inviteForm.$state.inProgress && !inviteForm.$state.success">Send invitation</span>\n			<span ng-if="inviteForm.$state.inProgress">Sending...</span>\n			<span ng-if="inviteForm.$state.success">Sent!</span>\n		</md-button>\n	</span>\n</form>\n'),$templateCache.put("directives/lastupdated/lastupdated.directive.html",'<span ng-show="!updatedTime">{{::updatedText || \'This form has not been saved this session\'}}</span>\n\n<div ng-show="updatedTime">{{::notUpdatedText || \'This form was last saved \'}}<span\n		am-time-ago="updatedTime"></span></div>\n'),$templateCache.put("directives/mentor-picker/mentor-picker.directive.html",'<div class="mentor-picker">\n	<md-chips md-on-append="uniqueOnAdd($chip)" ci-blur-clear ng-model="ngModel" md-require-match="true" md-autocomplete-snap>\n		<md-autocomplete\n				ng-disabled="reqOrgId && !orgId"\n				md-selected-item="selectedItem"\n				md-search-text="params.search"\n				md-items="item in findMentors(params.search)"\n				md-item-text="item.display_name"\n				md-no-cache=true\n				md-delay="750"\n				placeholder="{{:: placeholder || \'+ Add mentors\' }}"\n				md-autoselect="true"\n				>\n			<md-item-template>\n				<span md-highlight-text="params.search" md-highlight-flags="^i">\n					{{item.display_name}} {{item.email}}\n				</span>\n			</md-item-template>\n			<md-not-found>\n				No mentors found\n			</md-not-found>\n		</md-autocomplete>\n		<md-chip-template>\n			<span>\n				<span>{{$chip.display_name}}</span>\n			</span>\n		</md-chip-template>\n	</md-chips>\n</div>\n'),$templateCache.put("directives/organization-detail/organization-detail.template.html","<span>{{ctrl.organization.name}}</span>\n"),$templateCache.put("directives/page-search/page-search.directive.html",'<div\n class="page-search"\n>\n	<div\n	 class="fixed-outer-width"\n	 layout-fill\n	>\n		<div\n		 layout="row"\n		 layout-align="space-between center"\n		 layout-fill\n		>\n\n			<i class="material-icons">search</i>\n\n			<input\n			 flex\n			 class="page-search__input"\n			 ng-model="searchTerm"\n			 ng-model-options="{\n			 	debounce: 700\n			 }"\n			 type="text"\n			 placeholder="{{ placeholder || \'Search\' }}"\n			/>\n\n			<md-button\n			 class="md-icon-button page-search__clear-btn"\n			 ng-click="searchTerm = \'\'"\n			 ng-show="searchTerm"\n			/>\n				<i class="material-icons">clear</i>\n			</md-button>\n		</div>\n	</div>\n</div>\n'),$templateCache.put("directives/signup-progress/signup-progress.html",'<div class="fixed-width">\n	<md-card class="progress-indicator upper" layout="row">\n		<div flex ng-repeat="step in steps" class="registration-step" ui-sref-active="active" layout="column" layout-align="center center" flex="25" ng-class="{\'progress-indicator--done\': step.autoComplete || (isLast($index) && isCurrent($index) && step.autoComplete !== false) || isDone($index), \'progress-indicator--current\': isCurrent($index)}">\n			<md-button class="md-fab" aria-label="Registration form">\n				<div class="progress-indicator-icon-number" ng-if="!isLast($index) && !isDone($index)">\n					<i>{{$index + 1}}</i>\n				</div>\n				<md-icon ng-if="isDone($index) && !isLast($index)" md-font-library="material-icons">\n					<i class="material-icons">{{step.icon || \'done\'}}</i>\n				</md-icon>\n				<md-icon ng-if="isLast($index)" md-font-library="material-icons">\n					<i class="material-icons">{{step.icon || \'flag\'}}</i>\n				</md-icon>\n			</md-button>\n			{{step.text}}\n		</div>\n	</md-card>\n</div>\n'),$templateCache.put("directives/tab-nav/tab-nav-item-dot.directive.html",'<div class="page-sub-nav-dot" >\n	<div class="page-sub-nav-dot__inner" ng-transclude>\n	</div>\n</div>\n'),$templateCache.put("directives/tab-nav/tab-nav.directive.html",'<div flex class="tab-nav">\n	<div class="fixed-outer-width" ng-controller="TabNavController">\n		<md-tabs md-selected="currentTab" md-dynamic-height="true">\n			<md-tab ng-disabled="tab.disabled" ng-repeat="tab in tabs" ui-sref="{{ tab.sref }}">\n				<md-tab-label>\n					<span>{{ tab.title }}</span>\n					<span class="tab-nav__label-link"></span>\n				</md-tab-label>\n			</md-tab>\n		</md-tabs>\n		<div ng-transclude></div>\n	</div>\n</div>\n'),$templateCache.put("directives/table/table-body.html",'<div class="item-table-body" ng-transclude>\n</div>\n'),$templateCache.put("directives/table/table-cell.html",'<div class="item-table__cell flex" flex ng-transclude>\n</div>\n'),$templateCache.put("directives/table/table-header-cell.html",'<div class="item-table__cell flex" flex>\n	<i class="material-icons item-table__sortable ng-binding" ng-click="toggleOrder(columnName)" role="button"\n	   tabindex="0">arrow_drop_down</i>\n	<ng-transclude-replace></ng-transclude-replace>\n</div>\n'),$templateCache.put("directives/table/table-header-row.html",'<div class="item-table__headers layout layout-row layout-align-start-center" layout="row" layout-align="start center" ng-transclude>\n</div>\n'),$templateCache.put("directives/table/table-header.html",'<div class="item-table-header" layout="row"\n	 layout-align="space-between center" ng-transclude>\n</div>\n'),$templateCache.put("directives/table/table-item.html",'<div class="item-table__item" ng-transclude>\n</div>\n'),$templateCache.put("directives/table/table-pagination.html",'<div class="item-table__page-warning" ng-show="TablePagination.maxPageNumber === TablePagination.searchParams.page">Page limit reached. To see more results, please refine your search.</div>\n<div ng-if="ngModel && ngModel.length && TablePagination.pageNumbers.length > 1">\n	<div ng-if="!loadMore">\n		<md-button class="table-pagination__button" ng-disabled="!TablePagination.canPrevious() || fetching"\n				   ng-click="TablePagination.previous()"><i\n				class="material-icons">keyboard_arrow_left</i>\n		</md-button>\n\n		<md-button class="table-pagination__page-number table-pagination__button"\n				   ng-click="TablePagination.goToPage(pageNumber)"\n				   ng-class="{current: TablePagination.isCurrent(pageNumber)}"\n				   ng-disabled="TablePagination.isCurrent(pageNumber)"\n				   ng-repeat="pageNumber in TablePagination.pageNumbers">\n			{{pageNumber}}\n		</md-button>\n		<md-button class="table-pagination__button" ng-disabled="!TablePagination.canNext() || fetching"\n				   ng-click="TablePagination.next()"><i class="material-icons">keyboard_arrow_right</i>\n		</md-button>\n	</div>\n\n	<div ng-if="loadMore">\n		<md-button class="table-pagination__button" ng-disabled="!TablePagination.canNext() || fetching"\n				   ng-click="TablePagination.next()">Load More\n		</md-button>\n	</div>\n</div>\n'),$templateCache.put("directives/table/table-row.html",'<div class="item-table-item layout layout-row" layout="row" ng-transclude>\n</div>\n'),$templateCache.put("directives/table/table-rows.html",'<div class="item-table__rows" ng-class="{\'table-loading\': TableRows.TableService.loading}">\n	<div class="table-loading__wrapper" ng-show="TableRows.TableService.loading">\n		<md-progress-circular class="table-loading__indicator" md-mode="indeterminate"></md-progress-circular>\n	</div>\n	<table-cell ng-show="!TableRows.TableService.loading && !TableRows.rows">Nothing found</table-cell>\n	<ng-transclude-replace></ng-transclude-replace>\n</div>\n'),$templateCache.put("directives/table/table-total-count.html",'<span class="item-count" ng-cloak>\n	<span ng-switch="type" ng-hide="loading && !totalItems">\n		<span ng-switch-when="compact">{{totalItems || 0}} of {{totalItems || 0}}</span>\n		<span ng-switch-when="load-more">{{rangeEnd > totalItems ? totalItems : rangeEnd}} of {{totalItems || 0}}</span>\n	  	<span ng-switch-default>{{rangeStart}} - {{rangeEnd > totalItems ? totalItems : rangeEnd}} of {{totalItems || 0}}</span>\n	</span>\n</span>\n'),$templateCache.put("directives/table/table.html",'<div class="item-table" ng-transclude>\n</div>\n'),$templateCache.put("directives/task-category/task-category.directive.html",'<span>\n	<i class="material-icons task-category__icon">{{ categoryIcons[id] }}</i>\n	<md-tooltip ng-if="hasTooltip">{{ categoryNames[id] }}</md-tooltip>\n</span>\n<span ng-show="!hideName" class="task-category__name">{{ categoryNames[id] }}</span>\n'),$templateCache.put("directives/task-definition-form-actions/task-definition-form-actions.directive.html",'<div class="form-actions">\n	<md-button type="submit" class="md-primary md-raised"\n		ng-disabled="!TaskCtrl.canSave() || TaskCtrl.isSavingTask">Save</md-button>\n	<md-button\n		type="button"\n		ng-show="TaskCtrl.showSaveAndPublish()"\n		ng-disabled="!TaskCtrl.canSaveAndPublish() || TaskCtrl.isSavingTask"\n		class="md-primary" ng-click="TaskCtrl.saveAndPublish()">Save & publish task</md-button>\n	<md-button\n		type="button"\n		ng-show="TaskCtrl.showSaveAndUnPublish()"\n		ng-disabled="!TaskCtrl.canSaveAndUnPublish() || TaskCtrl.isSavingTask"\n		class="md-primary"\n		ng-click="TaskCtrl.saveAndUnPublish()">Save & Un-publish task</md-button>\n</div>\n'),$templateCache.put("directives/task-filter/public-task-filter.template.html",'<div class="public-task-filter">\n	<md-card class="md-padding">\n		<md-list>\n			<div class="md-title">Filters</div>\n			<accordion>\n				<accordion-group ng-if="canShow(\'organization\')">\n					<accordion-heading>\n						<md-subheader class="md-no-sticky">Organizations</md-subheader>\n					</accordion-heading>\n					<md-content class="public-task-filter__orgs">\n						<checkbox-group\n							ng-model="data.state.organization"\n							options="data.organizationChoices"\n						></checkbox-group>\n					</md-content>\n				</accordion-group>\n				<md-divider></md-divider>\n				<accordion-group ng-if="canShow(\'is_beginner\')">\n					<accordion-heading>\n						<md-subheader class="md-no-sticky">Beginner</md-subheader>\n					</accordion-heading>\n					<md-radio-group ng-model="data.state.is_beginner">\n						<md-radio-button\n							ng-repeat="opt in [[\'Any\', \'\'], [\'Yes\', \'True\'], [\'No\', \'False\']]"\n							ng-value="opt[1]"\n						>{{opt[0]}}\n						</md-radio-button>\n					</md-radio-group>\n				</accordion-group>\n				<md-divider></md-divider>\n				<accordion-group ng-if="canShow(\'categories\')">\n					<accordion-heading>\n						<md-subheader class="md-no-sticky">Categories</md-subheader>\n					</accordion-heading>\n					<checkbox-group\n						ng-model="data.state.categories"\n						options="data.categoryChoices"\n					></checkbox-group>\n				</accordion-group>\n			</accordion>\n			<md-button ng-if="!immediate" ng-click="applyFilters() && $event.stopPropagation()">Filter</md-button>\n			<md-button ng-click="clearFilters()">Clear Filters</md-button>\n		</md-list>\n	</md-card>\n</div>\n'),$templateCache.put("directives/task-filter/task-filter.template.html",'<md-content layout-fill layout="column" class="task-filter">\n	<div layout-padding class="md-padding task-filter__controls">\n		<h3 md-sidenav-focus>Filter tasks</h3>\n\n		<md-input-container ng-if="canShow(\'organization\') && orgs.length > 1">\n			<label for="organization">organization</label>\n			<md-select\n				un-select-all\n				name="organization"\n				multiple\n				ng-model="state.organization"\n				placeholder="Organization">\n				<md-option ng-value="">Any</md-option>\n				<md-option\n					ng-value="::opt.id"\n					ng-repeat="opt in orgs"\n				>{{::opt.name}}</md-option>\n			</md-select>\n		</md-input-container>\n\n		<checkbox-group\n			ng-if="canShow(\'category\') && data.categoryChoices"\n			ng-model="state.categories"\n			options="data.categoryChoices"\n			label="Category"\n		></checkbox-group>\n\n		<md-input-container>\n			<label>Mentors</label>\n			<mentor-picker\n				program-year="data.program.year"\n				ng-model="privateState.mentors"\n				placeholder="Choose mentors"\n				org-id="state.organization"\n			></mentor-picker>\n		</md-input-container>\n\n		<md-input-container ng-if="canShow(\'status\')">\n			<label for="status">Status</label>\n			<md-select\n				name="status"\n				ng-model="state.status"\n				placeholder="Status">\n				<md-option ng-value="">All</md-option>\n				<md-option\n					ng-value="::opt.value"\n					ng-repeat="opt in data.statusList"\n				>{{::opt.key | constantCaseToSentenceCase }}</md-option>\n			</md-select>\n		</md-input-container>\n\n		<md-input-container ng-if="canShow(\'is_exhausted\')">\n			<label>Claimable</label>\n			<md-select ng-model="state.is_exhausted">\n				<md-option value="">Any</md-option>\n				<md-option value="False">Yes</md-option>\n				<md-option value="True">No</md-option>\n			</md-select>\n		</md-input-container>\n\n		<md-input-container ng-if="canShow(\'is_beginner\')">\n			<label>Is beginner task?</label>\n			<md-select ng-model="state.is_beginner">\n				<md-option value="">Any</md-option>\n				<md-option value="True">Yes</md-option>\n				<md-option value="False">No</md-option>\n			</md-select>\n		</md-input-container>\n	</div>\n	<div layout-padding class="task-filter__actions" ng-if="!filter-on-change">\n		<md-button\n			class="md-raised md-primary"\n			ng-click="applyFilters()"\n			aria-label="Apply filters"\n		>Filter</md-button>\n		<md-button\n			ng-click="clearFilters()"\n			aria-label="Reset filters"\n		>Clear</md-button>\n	</div>\n</md-content>\n'),$templateCache.put("directives/time-to-go/time-to-go.directive.html","<span>\n	<time datetime=\"{{ date }}\" ng-if=\"timeExhausted\">{{ preffix ? prefix + ' ':'' }}{{ timeToGo }}{{ suffix ? ' ' + suffix:'' }}</time>\n	<span ng-if=\"!timeExhausted\">{{ timeExhaustedText }}</span>\n</span>\n"),$templateCache.put("directives/tooltip-help/tooltip-help.html",'<div layout-align="start center" class="tooltip-help">\n	<div><span ng-transclude></span></div>\n</div>\n'),$templateCache.put("directives/upload-dialog/upload-dialog-doc.directive.html",'<md-dialog class="upload-dialog" aria-label="Upload Image">\n	<form>\n		<md-toolbar>\n			<div class="md-toolbar-tools">\n				<h2>Upload file</h2>\n				<span flex></span>\n			</div>\n		</md-toolbar>\n		<md-dialog-content>\n			<div class="upload-modal-dropzone dropzone-file">\n				<input class="file-upload-input" type="file" fileread="uploadedFile" multi-file="multiFile">\n				<div class="dropzone-message" ng-show="!uploadedFile.length" layout="column">\n					<i class="material-icons upload-message-icon">insert_drive_file</i>\n					Drag files here (or click)\n				</div>\n				<div class="file-preview" flex="100%" ng-show="uploadedFile.length" layout="row" layout-align="center center">\n					<div ng-repeat="file in uploadedFile"  class="file-description" layout="column">\n						<span class="file-name">{{file.File.name}}</span>\n						<span>{{formatBytes(file.File.size)}}</span>\n					</div>\n				</div>\n			</div>\n		</md-dialog-content>\n		<div class="md-actions" layout="row">\n			<span flex></span>\n			<md-button ng-disabled="!uploadedFile || uploading" ng-click="upload()">\n				{{ uploading ? \'Uploading\' : (saveText || "Upload") }}\n			</md-button>\n			<md-button ng-click="cancel()">\n				Cancel\n			</md-button>\n		</div>\n	</form>\n</md-dialog>\n\n'),$templateCache.put("directives/upload-dialog/upload-dialog-image.directive.html",'<md-dialog class="upload-dialog" aria-label="Upload Image">\n	<form>\n		<md-toolbar>\n			<div class="md-toolbar-tools">\n				<h2>Upload image</h2>\n				<span flex></span>\n			</div>\n		</md-toolbar>\n		<md-dialog-content>\n				<div class="upload-dialog__help-text">{{ helpText }}</div>\n			<div class="upload-modal-dropzone">\n				<input class="file-upload-input" type="file" fileread="uploadedFile" fileType="{{ fileType }}">\n				<div class="dropzone-message" ng-show="!uploadedFile" layout="column">\n					<i class="material-icons upload-message-icon">image</i>\n					Drag an image here (or click)\n				</div>\n				<img class="file-upload-preview" ng-show="uploadedFile.dataURL" ng-src="{{uploadedFile.dataURL}}">\n			</div>\n		</md-dialog-content>\n		<div class="md-actions" layout="row">\n			<div class="warning upload-dialog__invalid-text" ng-hide="isValid()">{{ invalidText }}</div>\n			<span flex></span>\n			<md-button class="upload-dialog__upload-btn" ng-disabled="!uploadedFile || !isValid()" ng-click="upload()">\n				Upload\n			</md-button>\n			<md-button ng-click="cancel()">\n				Cancel\n			</md-button>\n		</div>\n	</form>\n</md-dialog>\n\n'),$templateCache.put("directives/upload-dialog/upload-dropzone.tpl.html",'<div class="upload-preview-wrapper">-d\n\n	<div id="template" class="file-row">\n		<!-- This is used as the file preview template -->\n		<div>\n			<span class="preview"><img data-dz-thumbnail /></span>\n		</div>\n		<div>\n			<p class="name" data-dz-name></p>\n			<strong class="error text-danger" data-dz-errormessage></strong>\n		</div>\n		<div>\n			<p class="size" data-dz-size></p>\n			<div class="progress progress-striped active" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">\n				<div class="progress-bar progress-bar-success" style="width:0%;" data-dz-uploadprogress></div>\n			</div>\n		</div>\n		<div>\n			<md-button data-dz-remove class="btn btn-danger delete">\n				<i class="glyphicon glyphicon-trash"></i>\n				<span>Delete</span>\n			</md-button>\n		</div>\n	</div>\n</div>\n')}]),function(){angular.module("common.filters",[])}(),function(){function cleanArray(value,preventEmptyArray){var cleaned=_.isArray(value)?_.filter(value,_.identity):value;return cleaned.length||!preventEmptyArray?cleaned:[0]}function maxFilter(_){return function(value){return _.max(cleanArray(value,!0))}}function minFilter(){return function(value){return _.min(cleanArray(value,!0))}}angular.module("common.filters").filter("max",maxFilter).filter("min",minFilter)}(),function(){"use strict";function OptionsFilter(){return function(object){return Object.keys(object).map(function(k){return{value:object[k],key:k}})}}angular.module("common.filters").filter("options",OptionsFilter)}(),function(){"use strict";function DisplayFilter(ConstantsService){return function(value,constantName){var c=ConstantsService.get(constantName);for(var key in c)if(value==c[key])return key;return"Value not found"}}angular.module("common").filter("display",DisplayFilter)}(),function(){"use strict";function ConstantCaseToSentenceCaseFilter(){return function(value){var ret=(value||"").replace(/[_]+/g," ").toLowerCase();return ret?ret[0].toUpperCase()+ret.substr(1):""}}angular.module("common.filters").filter("constantCaseToSentenceCase",ConstantCaseToSentenceCaseFilter)}(),function(){function markdownFilter(MarkdownService){return function(text){return MarkdownService(text)}}angular.module("common.filters").filter("markdown",markdownFilter)}(),function(undefined){function markdownService(_,$sce,marked){function emptyString(){return""}function render(text){if(null===text||text===undefined)return"";var rendered=marked(text,options);return $sce.trustAs("html",rendered)}var renderer=new marked.Renderer,options={renderer:renderer,sanitize:!0},renderHeading=_.bind(renderer.heading,renderer);return renderer.heading=function(text,level,raw){return renderHeading(text,3,raw)},renderer.image=emptyString,renderer.blockquote=emptyString,renderer.hr=emptyString,render}angular.module("common.filters").constant("marked",marked).service("MarkdownService",markdownService)}(),function(){function yesNoFilter(){return function(value,text){var splitText=text?text.split(","):[],yes=splitText[0]||"yes",no=splitText[1]||"no",def=splitText[2]||no;return value?yes:value===!1?no:def}}angular.module("common.filters").filter("yesNo",yesNoFilter)}(),function(){"use strict";function FileSizeFilter(){return function(bytes,precision){if(isNaN(parseFloat(bytes))||!isFinite(bytes))return"-";"undefined"==typeof precision&&(precision=1);var units=["bytes","kB","MB","GB","TB","PB"],number=Math.floor(Math.log(bytes)/Math.log(1024));return(bytes/Math.pow(1024,Math.floor(number))).toFixed(precision)+" "+units[number]}}angular.module("common").filter("fileSize",FileSizeFilter)}(),function(){"use strict";function CodeInDateFormat(moment){function getTimeZoneFromDateString(dateString){var tzMatch=dateString.match(/\(.*\)/);return tzMatch&&tzMatch.length?tzMatch[0]:null}return function(date){var mDate=moment(date),sDate=mDate.toDate().toString(),tz=getTimeZoneFromDateString(sDate);return mDate.format("MMM Do YYYY, HH:mm")+(tz?" "+tz:" (Local time)")}}angular.module("common").filter("codeInDateFormat",CodeInDateFormat)}(),function(){"use strict";function Newlines(){return function(text){return text.split(/\n/g)}}angular.module("common").filter("newlines",Newlines)}(),function(){angular.module("common.controllers",[])}(),function(){function TabNavController($scope,$state){$scope.currentTab=$state.current.data&&$state.current.data.tabIndex?$state.current.data.tabIndex:0;var off=$scope.$on("$stateChangeSuccess",function(event,toState,toParams,fromState,fromParams){$scope.currentTab=toState.data.tabIndex});$scope.$on("$destroy",function(){off()})}angular.module("common.controllers").controller("TabNavController",TabNavController)}(),function(){angular.module("app",["app.core","app.templates","app.filters","app.services","app.resources","pages","common"])}(),function(){angular.module("app").constant("moment",window.moment).constant("_",_).constant("$",$)}(),function(){function appConfig(moment,$compileProvider,$httpProvider,$locationProvider,$logProvider,$mdThemingProvider,$urlRouterProvider,localStorageServiceProvider){var debug=$("html").data("debug")||!1;$compileProvider.debugInfoEnabled(debug),$logProvider.debugEnabled(debug),$locationProvider.html5Mode(!0),$locationProvider.hashPrefix("!"),$httpProvider.defaults.headers.common["X-CSRFToken"]=$("input[name=csrfmiddlewaretoken]").val(),$httpProvider.defaults.headers.common["Content-Type"]="application/json",$httpProvider.defaults.headers.common["X-Content-Type-Options"]="nosniff";var codeInAmber=$mdThemingProvider.extendPalette("amber",{500:"ff8f00"});$mdThemingProvider.definePalette("codeInAmber",codeInAmber),$mdThemingProvider.theme("codein").primaryPalette("codeInAmber",{"default":"800"}).accentPalette("blue",{"default":"500"}),localStorageServiceProvider.setPrefix("codein"),moment.relativeTimeThreshold("d",1e3),moment.locale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"seconds",m:"1 minute",mm:"%d minutes",h:"1 hour",hh:"%d hours",d:"1 day",dd:"%d days",M:"1 month",MM:"%d months",y:"1 year",yy:"%d years"}}),$urlRouterProvider.deferIntercept()}function appRun($rootScope,$state,SilentStateChangeService){$rootScope.csrftoken=$("input[name=csrfmiddlewaretoken]").val(),$rootScope.$on("$stateChangeError",function(event,toState,toParams,fromState,fromParams,error){console.error(error);var isHandled=error&&(error.redirect||error.redirectState);isHandled||$state.go("base.app.error.unhandled",{},{location:!1})}),SilentStateChangeService.initialise()}angular.module("app").config(appConfig).run(appRun)}(),function(){angular.module("app.core",["ngAnimate","ngMaterial","ngCookies","ngMessages","ui.router","LocalStorageModule","angularMoment","angular-svg-round-progress","md.data.table","angulartics","angulartics.google.analytics"])}(),function(){function config(_,$stateProvider,$urlRouterProvider){$stateProvider.state("base",{"abstract":!0,template:"<ui-view>",resolve:{Constants:function(ConstantsService){return ConstantsService.getConstants()},CurrentUser:function(UserService){return UserService.getCurrentUser({forceRequest:!0})},CurrentProgram:function(ProgramService){var currentProgram=ProgramService.findCurrent();return currentProgram}}}).state("base.app",{"abstract":!0,url:"/",templateUrl:"app/app.base.html",controller:"AppController",controllerAs:"AppCtrl"}).state("base.app.public",{"abstract":!0,template:"<ui-view>",resolve:{PublishedOrgs:function(Constants,ProgramService){return ProgramService.getPublishedOrgs()}},data:{pendingParentalConsentState:!0}}).state("base.app.error",{"abstract":!0,template:"<ui-view>"}).state("base.app.public.home",{url:"",templateUrl:"pages/public/home/pages.home.html",controller:"HomePageCtrl",controllerAs:"ctrl",resolve:{BounceAuthedUsersToDashboard:function($state,CurrentUser,UserService){CurrentUser&&UserService.getUserType(CurrentUser)&&$state.go("base.app.management.dashboard")}}}).state("base.app.public.winners",{url:"winners/",templateUrl:"pages/public/home/pages.home.html",controller:"HomePageCtrl",controllerAs:"ctrl"}).state("base.app.public.about",{url:"about/",templateUrl:"pages/public/about/pages.about.html",data:{title:"About"}}).state("base.app.public.organizations",{url:"organizations/","abstract":!0,template:"<ui-view>",data:{title:"Organizations",onlyAccessibleInStates:["orgs_published","competition_open","no_claims","grace_period","winners_choosing","winners_published"]}}).state("base.app.public.organizations.list",{url:"",templateUrl:"pages/public/organizations/pages.organizations-list.html",controller:"PublicOrganizationsListCtrl",controllerAs:"ctrl",data:{onlyAccessibleInStates:["orgs_published","competition_open","no_claims","grace_period","winners_choosing","winners_published"]}}).state("base.app.public.organizations.detail",{url:":slug/",templateUrl:"pages/public/organizations/pages.organizations-detail.html",resolve:{Organization:function(PublishedOrgs,OrganizationModel,PageService,$state,$stateParams){var orgs=OrganizationModel.filter({slug:$stateParams.slug});return orgs.length?(PageService.setPageTitle(orgs[0].name+" - Organizations"),orgs[0]):void $state.go("base.app.error.404")}},controller:function($scope,Organization){$scope.org=Organization},controllerAs:"ctrl"}).state("base.app.public.tasks",{url:"tasks/:id/?sp-organization&sp-is_beginner&sp-categories",templateUrl:"pages/public/tasks/pages.tasks-list.html",controller:"PublicTaskListController",controllerAs:"ctrl",params:{id:{value:void 0,squash:!0}},data:{title:"Tasks",onlyAccessibleInStates:["competition_open","no_claims","grace_period","winners_choosing","winners_published"]
},reloadOnSearch:!1}).state("base.app.public.terms",{url:"terms/",templateUrl:"pages/public/terms/pages.terms.html",data:{title:"Terms and conditions"}}).state("base.app.public.student-terms",{url:"student-terms/",templateUrl:"pages/public/terms/pages.student-terms.html",data:{title:"Contest rules"}}).state("base.app.public.org-terms",{url:"org-terms/",templateUrl:"pages/public/terms/pages.org-terms.html",data:{title:"Organization agreement"}}).state("base.app.public.user-terms",{url:"user-terms/",templateUrl:"pages/public/terms/pages.user-terms.html",data:{title:"Mentor participant agreement"}}).state("base.app.error.404",{url:"404/",templateUrl:"pages/public/error/pages.404.html",data:{title:"Not found"}}).state("base.app.error.403",{url:"403/",templateUrl:"pages/public/error/pages.403.html",data:{title:"Forbidden"}}).state("base.app.error.unhandled",{url:"error/",templateUrl:"pages/public/error/pages.error.html",data:{title:"Error"}}),$urlRouterProvider.otherwise("/404/")}var app=angular.module("app");app.config(config)}(),function(){function AppController(moment,$rootScope,$scope,$state,$window,$location,$mdSidenav,$mdDialog,PageService,ManifestService,UserCapabilitiesService,FormUtilsService,CurrentUser,CurrentProgram,Constants){function userHasAnyRole(roles){return CurrentUser?(Array.isArray(roles)||(roles=[roles]),roles.some(function(role){return CurrentUser["is_"+role]})):!1}function programIsInAnyState(states){return Array.isArray(states)||(states=[states]),states.indexOf(CurrentProgram.state)>-1}function userHasAccessToState(state){var hasAccess=!0;return state.data&&state.data.onlyAccessibleToRoles&&!userHasAnyRole(state.data.onlyAccessibleToRoles)&&(hasAccess=!1),state.data&&state.data.onlyAccessibleInStates&&!programIsInAnyState(state.data.onlyAccessibleInStates)&&(hasAccess=!1),!(CurrentUser&&CurrentUser.is_disabled&&_.startsWith(state.name,"base.app.management"))||state.data&&state.data.allowDisabledUser||(hasAccess=!1),hasAccess}function studentPendingParentalConsentRedirect(user,toState,event){user&&user.is_student&&user.parental_consent_status===Constants.ParentalConsentStatus.PENDING&&(toState.data&&toState.data.pendingParentalConsentState||(event.preventDefault(),$state.go("base.app.parental-consent.offline-form")))}function canAccessStateWithoutSave(state){return state.data&&state.data.isUnsavedDataSafe}function startStateChange(event,toState,toParams,fromState,fromParams){$mdSidenav("menu").close(),studentPendingParentalConsentRedirect(CurrentUser,toState,event),userHasAccessToState(toState)?FormUtilsService.isPendingSave()&&!canAccessStateWithoutSave(toState)?(event.preventDefault(),FormUtilsService.showFormNotSavedWarning(event,FormUtilsService.getPendingSaveModalDef()).then(function(){FormUtilsService.setPendingSave(!1),$state.go(toState,toParams)})):($state.transitioningToState=toState,PageService.setPageTitle(toState.data&&toState.data.title?toState.data.title:null)):(event.preventDefault(),$state.go("base.app.error.403",{},{location:!1}))}function finishStateChange(ev,to,toParams,from,fromParams){AppCtrl.pageState.previousState=from.name,$state.transitioningToState=null,to.data=to.data||{},to.data&&to.data.keepScrollPos?to.data.keepScrollPos.from&&-1===to.data.keepScrollPos.from.indexOf(from.name)&&$window.scrollTo(0,0):$window.scrollTo(0,0)}var AppCtrl=this;AppCtrl.CurrentUser=CurrentUser,AppCtrl.loggedUserEmail=CurrentUser?CurrentUser.display_email:angular.element("html").data("user-email"),AppCtrl.program=CurrentProgram,AppCtrl.pageState=PageService.getState(),AppCtrl.programStartDate=moment(CurrentProgram.competition_open_starts).format("ll"),AppCtrl.programEndDate=moment(CurrentProgram.no_claims_ends).format("ll"),AppCtrl.formNeedsSaving=!1,AppCtrl.isChildState=function(state){return $state.includes(state)},AppCtrl.isManagementSection=function(){var isTaskView=$state.is("base.app.public.tasks");return AppCtrl.isChildState("base.app.management")||isTaskView&&null!==CurrentUser},AppCtrl.isOrgState=function(){return-1!==[Constants.ProgramState.ORG_SIGNUP_OPEN,Constants.ProgramState.ORG_APPROVAL,Constants.ProgramState.ORGS_PUBLISHED].indexOf(CurrentProgram.state)},AppCtrl.tasksAreEditable=function(){return UserCapabilitiesService.tasksAreEditable(CurrentProgram)},AppCtrl.instanceReadOnly=function(){return!CurrentProgram.tasks_approvable},AppCtrl.competitionHasEnded=function(){return!CurrentProgram.competition_open},AppCtrl.isStudentTasksSection=function(){return $state.is("base.app.management.taskInstance.detail")||$state.is("base.app.public.tasks")},AppCtrl.homeLink=function(){return AppCtrl.userIsLoggedIn()&&AppCtrl.CurrentUser?"base.app.management.dashboard":"base.app.public.home"},AppCtrl.userIsLoggedIn=function(){return CurrentUser||AppCtrl.loggedUserEmail},AppCtrl.userCanSeeManagementSections=function(){return CurrentUser&&(CurrentUser.accepted_org_user_tos||CurrentUser.accepted_student_tos||CurrentUser.is_program_admin)},AppCtrl.userCanManageOrgApplications=function(){return CurrentUser&&CurrentUser.is_program_admin&&(AppCtrl.program.org_signup_open||AppCtrl.program.org_approval)},AppCtrl.userCanManageMentors=function(){return CurrentUser&&CurrentUser.is_org_admin&&CurrentUser.admin_on_org()&&CurrentUser.admin_on_org().is_accepted},AppCtrl.userCanManageTaskDefinitions=function(){return CurrentUser&&CurrentProgram.orgs_published&&(CurrentUser.is_program_admin||CurrentUser.is_mentor||CurrentUser.is_org_admin&&CurrentUser.admin_on_org()&&CurrentUser.admin_on_org().is_accepted)},AppCtrl.fromCompetitionOpen=function(){return CurrentProgram.competition_open||CurrentProgram.grace_period||CurrentProgram.winners_choosing||CurrentProgram.winners_published},AppCtrl.userCanManageTaskInstances=function(){return CurrentUser&&AppCtrl.fromCompetitionOpen()&&(CurrentUser.is_mentor||CurrentUser.is_org_admin&&CurrentUser.admin_on_org().is_accepted)},AppCtrl.studentCanSeeTaskList=function(){return UserCapabilitiesService.studentCanSeeTaskList(CurrentUser,CurrentProgram)},AppCtrl.isEmpty=_.isEmpty,AppCtrl.scrollToTop=function(){$window.scrollTo(0,0)},AppCtrl.toggleSideMenu=function(){$mdSidenav("menu").toggle()},userHasAccessToState($state.current)||$state.go("base.app.error.403",{},{location:!1}),$state.current.data&&$state.current.data.title&&PageService.setPageTitle($state.current.data.title),$rootScope.$on("$stateChangeStart",startStateChange),$rootScope.$on("$stateChangeError",finishStateChange),$rootScope.$on("$stateChangeSuccess",finishStateChange),$rootScope.$on("$stateNotFound",finishStateChange),ManifestService.startListening()}angular.module("app").controller("AppController",AppController)}(),angular.module("app.templates",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/app.base.html",'<header class="app-header">\n	<md-toolbar layout="row" layout-align="space-between center" class="fixed-outer-width md-menu-toolbar">\n		<a class="brand header-column" layout="row" layout-align="center center" ui-sref="{{ AppCtrl.homeLink() }}">\n			<img class="brand__logo" src="/static/img/codein-logo.svg" alt="Google Code-in">\n			<div layout="column">\n				<h1 class="brand__title"><span class="brand__google-title">Google</span> Code-in</h1>\n				<div class="brand__subtitle">{{ AppCtrl.programStartDate }} - {{ AppCtrl.programEndDate }}</div>\n			</div>\n		</a>\n		<div class="header-column" layout="row" layout-align="end center" flex>\n			<div class="header-menu header-menu--big hide-sm hide-md" layout="row" layout-align="end center" flex>\n				<div ng-if="!AppCtrl.userIsLoggedIn()" layout="row" layout-align="end center" layout-wrap class="header-column__links">\n					<ng-include src="\'app/menu/_public.menu.html\'"></ng-include>\n				</div>\n				<div ng-if="AppCtrl.userIsLoggedIn()" layout="row" layout-align="end center" layout-wrap class="header-column__links">\n					<ng-include src="\'app/menu/_management.menu.html\'"></ng-include>\n				</div>\n				<div layout="row" layout-align="center center" ng-if="AppCtrl.userIsLoggedIn()">\n					<md-menu md-position-mode="target-right target">\n						<md-button aria-label="User menu" class="header-menu__user-button md-icon-button" ng-click="$mdOpenMenu($event)">\n							<i class="material-icons">person</i>\n							<i class="material-icons">more_vert</i>\n						</md-button>\n						<md-menu-content width="4">\n							<md-menu-item>\n								<p class="hint">{{ AppCtrl.loggedUserEmail }} <span ng-if="AppCtrl.CurrentUser">({{ AppCtrl.CurrentUser.display_name }})</span></p>\n							</md-menu-item>\n							<md-menu-item ng-if="AppCtrl.CurrentUser && AppCtrl.CurrentUser.is_complete">\n								<md-button layout="column" layout-align="start center" ui-sref="base.app.management.profile.mine">User profile</md-button>\n							</md-menu-item>\n							<md-menu-item ng-if="AppCtrl.CurrentUser.is_org_admin && !AppCtrl.program.org_approval">\n								<md-button layout="column" layout-align="start center" ui-sref="base.app.management.orgProfile">Organization profile</md-button>\n							</md-menu-item>\n							<md-menu-item>\n								<md-button layout="column" layout-align="start center" href="/logout/" target="_self">Sign out</md-button>\n							</md-menu-item>\n						</md-menu-content>\n					</md-menu>\n				</div>\n				<div layout="row" layout-align="center center" ng-if="!AppCtrl.userIsLoggedIn()" class="signin-link">\n					<a href="/login" target="_self">Sign in</a>\n				</div>\n			</div>\n			<div class="header-menu--small hide-gt-md">\n				<md-button class="header-menu__hamburger" ng-click="AppCtrl.toggleSideMenu()">\n					<i class="material-icons">menu</i>\n				</md-button>\n			</div>\n		</div>\n\n	</md-toolbar>\n</header>\n\n<div class="app-banner" layout="column" flex\n	ng-class="{ \'management\': AppCtrl.isManagementSection(), \'orgs\': AppCtrl.isOrgState() }">\n	<div ng-show="AppCtrl.pageState.loading" class="app-banner__progress">\n		<md-progress-linear md-mode="indeterminate"></md-progress-linear>\n	</div>\n	<div class="app-banner__container" ng-if="AppCtrl.isManagementSection()" layout="column" layout-fill flex>\n		<div class="right-background"></div>\n		<div class="fixed-outer-width" layout="column" layout-align="center start" layout-fill flex>\n			<div layout="column" class="page-sub-nav__wrapper">\n				<h1 transclude-receive="page-title">Google Code-in</h1>\n				<div transclude-receive="page-sub-nav" layout="row" layout-align="start end" class="page-sub-nav"></div>\n			</div>\n		</div>\n	</div>\n</div>\n\n<div class="app-body" ui-view autoscroll="false"></div>\n<div class="app-footer">\n	<div layout="column" class="footer-wrapper wrapper-top">\n		<div layout="row" layout-align="end center" class="back-top-row fixed-outer-width">\n			<md-button class="back-to-top" ng-click="AppCtrl.scrollToTop()">Back to the top <i class="material-icons">keyboard_arrow_up</i></md-button>\n		</div>\n		<div layout="row" layout-sm="column" layout-align="end center" class="links-row fixed-outer-width">\n			<div class="links-container" layout-padding>\n				<div class="md-title">Learn</div>\n				<div layout="column" >\n					<div><a ui-sref="base.app.public.about">About</a></div>\n					<div><a href="https://developers.google.com/open-source/gci/faq" target="_blank">FAQs</a></div>\n					<div><a href="https://developers.google.com/open-source/gci/timeline" target="_blank">Timeline</a></div>\n					<div><a href="https://developers.google.com/open-source/gci/resources/example-tasks" target="_blank">Example tasks</a></div>\n					<div><a href="https://www.google-melange.com/gci/homepage/google/gci2014" target="_blank">Google Code-in 2014</a></div>\n				</div>\n			</div>\n			<div class="links-container" layout-padding>\n				<div class="md-title">Guides</div>\n				<div layout="column">\n					<div><a href="https://developers.google.com/open-source/gci/resources/etiquette" target="_blank">Etiquette</a></div>\n					<div><a href="https://developers.google.com/open-source/gci/resources/irc" target="_blank">How to use IRC</a></div>\n					<div><a href="https://developers.google.com/open-source/gci/resources/getting-started" target="_blank">Getting started</a></div>\n				</div>\n			</div>\n			<div ng-if="AppCtrl.program.orgs_published" class="links-container" layout-padding>\n				<div class="md-title">{{ AppCtrl.program.competition_open ? \'Find tasks\' : \'Organizations\' }}</div>\n				<div layout="column">\n					<div><a ui-sref="base.app.public.organizations.list" ng-if="AppCtrl.program.orgs_published">Organizations</a></div>\n					<div><a ui-sref="base.app.public.tasks" ng-if="::AppCtrl.fromCompetitionOpen()">Tasks</a></div>\n				</div>\n			</div>\n			<div class="social-icons" layout="row" layout-padding>\n				<md-button aria-label="Google+" href="https://plus.google.com/u/0/111547824495682912814/posts" target="_blank">\n					<md-icon md-svg-icon="/static/img/google-plus-icon.svg"></md-icon>\n				</md-button>\n				<md-button aria-label="Blogger" href="http://google-opensource.blogspot.com/" target="_blank">\n					<md-icon md-svg-icon="/static/img/blogger-icon.svg"></md-icon>\n				</md-button>\n			</div>\n		</div>\n	</div>\n	<div class="footer-wrapper wrapper-bottom fixed-outer-width">\n		<div layout="row" layout-sm="column" layout-align="space-between center">\n			<div layout="row" layout-sm="column" layout-align="start center" class="logo-row">\n				<a href="http://www.google.com" target="_blank">\n					<svg class="google-logo" focusable="false" class="svg-icon" width="180" height="62"\n						 viewBox="-0.1 0 180 62" version="1.1" xmlns="http://www.w3.org/2000/svg"\n						 xmlns:xlink="http://www.w3.org/1999/xlink">\n						<path d="M23.4 46.9c-12.5 0-23-10.2-23-22.7s10.5-22.7 23-22.7c6.9 0 11.9 2.7 15.6 6.3l-4.4 4.4c-2.7-2.5-6.3-4.4-11.2-4.4C14.2 7.7 7.1 15 7.1 24.2c0 9.1 7.1 16.5 16.3 16.5 5.9 0 9.3-2.4 11.5-4.5 1.8-1.8 2.9-4.3 3.4-7.8H23.5v-6.2h20.7c.2 1.1.3 2.4.3 3.9 0 4.7-1.3 10.4-5.4 14.5-3.9 4.1-9 6.3-15.7 6.3zm52.7-14.6c0 8.4-6.6 14.6-14.7 14.6s-14.7-6.2-14.7-14.6c0-8.5 6.6-14.6 14.7-14.6 8.1-.1 14.7 6.1 14.7 14.6zm-6.4 0c0-5.3-3.8-8.9-8.3-8.9-4.4 0-8.3 3.6-8.3 8.9 0 5.2 3.8 8.9 8.3 8.9 4.5-.1 8.3-3.7 8.3-8.9zm38.3 0c0 8.4-6.6 14.6-14.7 14.6s-14.7-6.2-14.7-14.6c0-8.5 6.6-14.6 14.7-14.6 8.1-.1 14.7 6.1 14.7 14.6zm-6.5 0c0-5.3-3.8-8.9-8.3-8.9-4.4 0-8.3 3.6-8.3 8.9 0 5.2 3.8 8.9 8.3 8.9 4.5-.1 8.3-3.7 8.3-8.9zm37-13.8v26.3c0 10.8-6.4 15.2-13.9 15.2-7.1 0-11.4-4.8-13-8.6l5.6-2.3c1 2.4 3.4 5.2 7.4 5.2 4.8 0 7.8-3 7.8-8.6v-2.1h-.2c-1.4 1.8-4.2 3.3-7.7 3.3-7.3 0-14-6.4-14-14.6 0-8.3 6.7-14.7 14-14.7 3.5 0 6.3 1.6 7.7 3.3h.2v-2.4h6.1zm-5.7 13.8c0-5.2-3.4-8.9-7.8-8.9s-8.1 3.8-8.1 8.9c0 5.1 3.7 8.8 8.1 8.8 4.4 0 7.8-3.7 7.8-8.8zm16-29.2V46h-6.2V3.1h6.2zm24.9 34l5 3.3c-1.6 2.4-5.5 6.5-12.2 6.5-8.3 0-14.5-6.4-14.5-14.6 0-8.7 6.3-14.6 13.8-14.6 7.6 0 11.3 6 12.5 9.3l.7 1.7-19.6 8.1c1.5 2.9 3.8 4.4 7.1 4.4s5.5-1.7 7.2-4.1zm-15.3-5.3l13.1-5.4c-.7-1.8-2.9-3.1-5.4-3.1-3.4 0-7.9 2.9-7.7 8.5z"></path>\n						<path fill="none" d="M0 1h180v59.5H0z"></path>\n					</svg>\n				</a>\n				<md-button href="http://www.google.com/intl/en/policies/privacy/" target="_blank">Privacy Policy</md-button>\n				<md-button ui-sref="base.app.public.student-terms">Contest Rules</md-button>\n				<md-button ui-sref="base.app.public.terms">Terms and Conditions</md-button>\n			</div>\n			<div>\n				<md-button href="https://developers.google.com/open-source/gci/contact" target="_blank">Contact</md-button>\n			</div>\n		</div>\n	</div>\n</div>\n\n<md-sidenav class="sidenav-menu md-sidenav-right md-whiteframe-z2" md-component-id="menu">\n	<md-content>\n		<div layout layout-align="end center">\n			<md-button class="sidenav-menu__close-button" ng-click="AppCtrl.toggleSideMenu()">\n				<i class="material-icons">close</i>\n			</md-button>\n		</div>\n		<div class="sidenav-menu__links">\n			<div ng-if="AppCtrl.userIsLoggedIn()">\n				<div layout="row" layout-align="start center" class="sidenav-menu__user hint">\n					<i class="material-icons">person</i>\n					<div layout="column">\n						<div>{{ AppCtrl.loggedUserEmail }}</div>\n						<div ng-if="AppCtrl.CurrentUser">({{ AppCtrl.CurrentUser.display_name }})</div>\n					</div>\n				</div>\n				<a ui-sref="base.app.management.profile.mine">User profile</a>\n				<a ng-if="AppCtrl.CurrentUser.is_org_admin && !AppCtrl.program.org_approval"\n					ui-sref="base.app.management.orgProfile"\n				>Organization profile</a>\n				<a href="/logout/" target="_self">Sign out</a>\n			</div>\n			<a ng-if="!AppCtrl.userIsLoggedIn()" href="/login/" target="_self">Sign in</a>\n			<md-divider></md-divider>\n		</div>\n\n		<div ng-if="!AppCtrl.userIsLoggedIn()"\n			layout="column"\n			layout-align="start start"\n			layout-wrap\n			class="sidenav-menu__links"\n			ng-include="\'app/menu/_public.menu.html\'"\n		></div>\n		<div ng-if="AppCtrl.userIsLoggedIn()"\n			layout="column"\n			layout-align="start start"\n			layout-wrap\n			class="sidenav-menu__links"\n			ng-include="\'app/menu/_management.menu.html\'"\n		></div>\n	</md-content>\n</md-sidenav>\n'),$templateCache.put("app/menu/_management.menu.html",'<a ng-if="AppCtrl.userCanSeeManagementSections()"\n	ui-sref="base.app.management.dashboard"\n	ui-sref-active="active"\n	>Dashboard</a>\n<a ng-if="AppCtrl.userCanManageOrgApplications()"\n	ui-sref="base.app.management.orgApplicationsManagement.complete"\n	ng-class="{\'active\': AppCtrl.isChildState(\'base.app.management.orgApplicationsManagement\')}"\n	>Manage Applications</a>\n<a ng-if="AppCtrl.CurrentUser.is_program_admin && AppCtrl.program.orgs_published"\n	ui-sref="base.app.management.organizations.list"\n	ng-class="{\'active\': AppCtrl.isChildState(\'base.app.management.organizations\')}"\n	>Organizations</a>\n<a ng-if="AppCtrl.CurrentUser.is_student && AppCtrl.CurrentUser.parental_consent_approved && AppCtrl.program.competition_open"\n	ui-sref="base.app.public.organizations.list"\n	ng-class="{\'active\': AppCtrl.isChildState(\'base.app.public.organizations\')}"\n	>Organizations</a>\n<a ng-if="AppCtrl.userCanManageMentors() && AppCtrl.program.orgs_published"\n	ui-sref="base.app.management.mentors"\n	ui-sref-active="active"\n	>Members</a>\n<a ng-if="AppCtrl.CurrentUser.is_org_admin && AppCtrl.program.org_signup_open"\n	ui-sref="base.app.management.orgApplication"\n	ui-sref-active="active"\n	>Code-in Application</a>\n<a ng-if="AppCtrl.userCanManageTaskDefinitions()"\n	ui-sref="base.app.management.tasks.all"\n	ui-sref-opts="{reload:true, inherit: false}"\n	ng-class="{\'active\': AppCtrl.isChildState(\'base.app.management.tasks\')}"\n	>Tasks</a>\n<a ng-if="AppCtrl.userCanManageTaskInstances()"\n	ui-sref="base.app.management.taskInstance.list.inProgress"\n	ui-sref-opts="{reload:true, inherit: false}"\n	ng-class="{\'active\': AppCtrl.isChildState(\'base.app.management.taskInstance\')}"\n	>Instances</a>\n<a ng-if="AppCtrl.studentCanSeeTaskList()"\n	ui-sref="base.app.public.tasks"\n	ui-sref-opts="{reload:true, inherit: false}"\n	ng-class="{\'active\': AppCtrl.isStudentTasksSection()}"\n	>Tasks</a>\n<a ng-if="AppCtrl.CurrentUser.is_org_admin && AppCtrl.program.org_signup_open"\n	ui-sref="base.app.management.orgProfile"\n	ui-sref-active="active"\n	>Organization Profile</a>\n<a ng-if="AppCtrl.fromCompetitionOpen() && AppCtrl.CurrentUser.is_program_admin"\n	ui-sref="base.app.management.students.list"\n	ui-sref-opts="{reload:true, inherit: false}"\n	ui-sref-active="active"\n	>Students</a>\n<a ng-if="AppCtrl.fromCompetitionOpen() && AppCtrl.CurrentUser.is_program_admin"\n	ui-sref="base.app.management.parental-consent.list.pending"\n	ui-sref-active="active"\n	>Parental consent</a>\n<a ng-if="AppCtrl.CurrentUser.is_program_admin"\n	ui-sref="base.app.management.profiles.list"\n	ui-sref-opts="{reload:true, inherit: false}"\n	ng-class="{\'active\': AppCtrl.isChildState(\'base.app.management.profiles\')}"\n	>Users</a>\n'),$templateCache.put("app/menu/_public.menu.html",'<a ui-sref="base.app.public.about" ui-sref-active="active">About</a>\n<a ng-if="::AppCtrl.program.orgs_published" ui-sref="base.app.public.organizations.list" ng-class="{\'active\': AppCtrl.isChildState(\'base.app.public.organizations\')}">Organizations</a>\n<a ng-if="::AppCtrl.fromCompetitionOpen()" ui-sref-opts="{reload:true, inherit: false}" ui-sref="base.app.public.tasks" ui-sref-active="active">Tasks</a>\n<a ng-if="::AppCtrl.program.org_signup_open" href="/org-signup/">Organization registration</a>\n<a ng-if="::AppCtrl.program.state === \'competition_open\'" href="/student-signup/">Student registration</a>\n'),$templateCache.put("directives/winners/winners.directive.html",""),$templateCache.put("pages/age-verification/pages.age-verification.html",'<div class="fixed-width no-background" ng-controller="AgeVerificationCtrl as ctrl">\n	<md-card class="md-padding hero__card">\n		<md-card-content layout-align="start start" layout-padding>\n			<h2>Please enter your date of birth</h2>\n			<form ng-show="!ctrl.failedAgeVerification" layout="column" class="verification__form" method="post" action="{{ ctrl.action }}" name="ageForm" ng-submit="ctrl.submit($event)" novalidate>\n				<input type="hidden" name="csrfmiddlewaretoken" value="{{ ctrl.csrftoken }}">\n				<input type="hidden" name="next" value="{{ ctrl.next }}">\n				<input type="hidden" name="age" value="{{ ctrl.age }}">\n				<div>\n					<label for="age">Your date of birth</label>\n					<date-picker-select id="age" layout="row" name="age" ng-model="ctrl.age" days="ctrl.days" months="ctrl.months" years="ctrl.years" min="ctrl.minAge" max="ctrl.maxAge" required></date-picker-select>\n					<div ng-messages="ageForm.age.$error"\n						 ng-show="ageForm.$submitted" class="errors">\n						<div ng-message="lasttry">Please re-enter your date of birth and confirm.</div>\n						<div ng-message="required">You must select your date of birth</div>\n					</div>\n					<div>\n						<md-button type="submit" class="md-raised md-primary">Confirm and log me in</md-button>\n						<md-button ui-sref="base.app.public.home" class="md-primary">Cancel registration</md-button>\n					</div>\n				</div>\n			</form>\n			<div ng-show="ctrl.failedAgeVerification" class="errors">\n				<p>You are not eligible to participate in the Google Code-in contest. Please see the <a href="https://developers.google.com/open-source/gci/resources/contest-rules" target="_blank">Contest Rules</a> for further details.</p>\n				<div>\n					<md-button ui-sref="base.app.public.home" class="md-raised md-primary">Visit homepage</md-button>\n				</div>\n			</div>\n		</md-card-content>\n	</md-card>\n</div>\n'),$templateCache.put("pages/common/address-fields.html",'<md-input-container flex>\n	<label>Address</label>\n	<input ng-model="ctrl.user.home_address_line_1" name="home_address_line_1" required>\n\n	<div ng-messages="profileForm.home_address_line_1.$error"\n		 ng-if="(profileForm.home_address_line_1.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.home_address_line_1.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n	<tooltip-help>Used to verify your enrollment eligibility and for shipping program materials (unless another shipping address is specified below).</tooltip-help>\n</md-input-container>\n<md-input-container flex>\n	<input ng-model="ctrl.user.home_address_line_2" name="home_address_line_2" aria-label="Address line 2">\n</md-input-container>\n<md-input-container flex>\n	<label>City</label>\n	<input ng-model="ctrl.user.home_address_city" name="home_address_city" required>\n\n	<div ng-messages="profileForm.home_address_city.$error"\n		 ng-if="(profileForm.home_address_city.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.home_address_city.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n<md-input-container flex>\n	<label>State/Province</label>\n	<input ng-model="ctrl.user.home_address_province" name="home_address_province">\n\n	<div ng-messages="profileForm.home_address_province.$error"\n		 ng-if="(profileForm.home_address_province.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.home_address_province.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n<md-input-container flex>\n	<md-select ng-model="ctrl.user.home_address_country" name="home_address_country"\n			   placeholder="Select a country" required>\n		<md-option ng-repeat="t in ctrl.countries" ng-value="t[0]">{{ t[0] }}</md-option>\n	</md-select>\n	<div ng-messages="profileForm.home_address_country.$error"\n		 ng-if="(profileForm.home_address_country.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.home_address_country.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n<md-input-container flex>\n	<label>Postal/Zip Code</label>\n	<input ng-model="ctrl.user.home_address_postcode" name="home_address_postcode" required>\n\n	<div ng-messages="profileForm.home_address_postcode.$error"\n		 ng-if="(profileForm.home_address_postcode.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.home_address_postcode.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n'),$templateCache.put("pages/common/education-fields.html",'<md-input-container flex>\n	<label>School Name</label>\n	<input ng-model="ctrl.user.school_name" name="school"\n		   ng-required="!ctrl.user.is_homeschooled" ng-disabled="ctrl.user.id">\n	<div ng-messages="profileForm.school_name.$error"\n		 ng-if="(profileForm.school_name.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.school_name.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n<md-input-container flex>\n	<label>School City</label>\n	<input ng-model="ctrl.user.school_city" name="school_city"\n		   ng-required="!ctrl.user.is_homeschooled" ng-disabled="ctrl.user.id">\n	<div ng-messages="profileForm.school_city.$error"\n		 ng-if="(profileForm.school_city.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.school_city.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n<md-input-container flex>\n	<label>School State/Province</label>\n	<input ng-model="ctrl.user.school_province" name="school_province" ng-disabled="ctrl.user.id">\n\n	<div ng-messages="profileForm.school_province.$error"\n		 ng-if="(profileForm.school_province.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.school_province.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n<md-input-container flex>\n	<md-select ng-model="ctrl.user.school_country" name="school_country"\n			   placeholder="School country" ng-required="!ctrl.user.is_homeschooled" ng-disabled="ctrl.user.id">\n		<md-option ng-repeat="t in ctrl.countries" ng-value="t[0]">{{ t[0] }}</md-option>\n	</md-select>\n	<div ng-messages="profileForm.school_country.$error"\n		 ng-if="(profileForm.school_country.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.school_country.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n<md-input-container flex>\n	<label>School Website</label>\n	<input http-prefix ci-validate-url ng-model="ctrl.user.school_website" name="school_website" ng-disabled="ctrl.user.id">\n	<div ng-messages="profileForm.school_website.$error"\n		 ng-if="(profileForm.school_website.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.school_website.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n'),$templateCache.put("pages/common/org-detail/org-detail.directive.html",'<div layout="row" layout-sm="column" class="org-detail__wrapper">\n	<md-card flex class="org-detail__left-section">\n		<md-card-content class="md-padding">\n			<h2 class="org__name md-headline">{{ org.name }}</h2>\n			<p>\n				<a href="{{ org.website_url }}" target="_blank">{{ org.website_url }}</a>\n			</p>\n			<div class="org__precis md-title">{{ org.precis }}</div>\n			<div ng-bind-html="org.description|markdown"></div>\n			<p>Primary Open Source License: {{ org.primary_open_source_license }}</p>\n			<div class="social-icons-container" layout="row" layout-align="start start">\n				<a class="md-button" ng-if="org.gplus_url" href="{{ org.gplus_url }}" target="_blank">\n					<md-icon md-svg-icon="/static/img/google-plus-icon.svg"></md-icon>\n				</a>\n				<a class="md-button" ng-if="org.twitter_url" href="{{ org.twitter_url }}" target="_blank">\n					<md-icon md-svg-icon="/static/img/twitter-icon.svg"></md-icon>\n				</a>\n				<a class="md-button" ng-if="org.facebook_url" href="{{ org.facebook_url }}" target="_blank">\n					<md-icon md-svg-icon="/static/img/facebook-icon.svg"></md-icon>\n				</a>\n				<a class="md-button" ng-if="org.blog_url" href="{{ org.blog_url }}" target="_blank">\n					<md-icon md-svg-icon="/static/img/blogger-icon.svg"></md-icon>\n				</a>\n			</div>\n		</md-card-content>\n	</md-card>\n	<div flex-sm class="org-detail__right-section">\n		<md-card>\n			<md-card-content layout="column" layout-padding class="central-section__left-column md-padding">\n				<div class="org-detail__right-section__row org__logo__wrapper">\n					<img class="org__logo" ng-src="{{ org.image_url }}=s300" alt="{{ org.name }}" />\n				</div>\n				<div ng-if="program.competition_open || program.competition_closed" class="org-detail__right-section__row">\n					<md-button\n						class="md-raised md-primary org__view-tasks flex"\n						ng-click="viewTasks(org)"\n					>View tasks</md-button>\n				</div>\n				<div ng-if="org.programming_languages.length" class="org-detail__right-section__row">\n					<div class="org-detail__right-section__row__header">Programming Languages:</div>\n					<div class="tags-container" layout="row" layout-align="start start" layout-wrap>\n						<span class="org__tag" ng-repeat="lang in org.programming_languages">{{ lang }}</span>\n					</div>\n				</div>\n				<div ng-if="org.tags.length" class="org-detail__right-section__row">\n					<div class="org-detail__right-section__row__header">Tags:</div>\n					<div class="tags-container" layout="row" layout-align="start start" layout-wrap>\n						<span class="org__tag--light" ng-repeat="tag in org.tags">{{ tag }}</span>\n					</div>\n				</div>\n				<div ng-if="org.contact_email" class="org-detail__right-section__row">\n					<a ng-if="org.contact_email" class="md-button md-primary org__contact-button" href="mailto:{{ org.contact_email }}">\n						<i class="material-icons">mail</i> Email\n					</a>\n				</div>\n				<div ng-if="org.mailing_list" class="org-detail__right-section__row">\n					<a class="md-button md-primary org__contact-button" href="{{ org.mailing_list }}">\n						<i class="material-icons">mail</i> Mailing List\n					</a>\n				</div>\n				<div ng-if="org.irc_channel" class="org-detail__right-section__row bottom">\n					<a class="md-button md-primary org__contact-button" href="{{ org.irc_channel }}">\n						<i class="material-icons">chat</i> IRC channel\n					</a>\n				</div>\n			</md-card-content>\n	 	</md-card>\n	</div>\n</div>\n'),$templateCache.put("pages/common/pages.org-member-tos.html",'<div layout="column" class="fixed-width">\n	<md-card>\n		<md-card-content class="md-padding">\n			<form ng-submit="ctrl.submit()">\n				<h2 class="md-headline">{{ ctrl.isMentor ? \'Mentor \' : \'\' }}Participant Agreement</h2>\n				<div class="tos">\n					<p>This Participant Agreement is for your participation as {{ ctrl.isMentor ? \'a mentor\' : \'an administrator\' }} for your organization in Google Code-in {{ AppCtrl.program.year }}.</p>\n					<md-content layout-padding class="tos__scrolling-box" scrolled-to-bottom="ctrl.tosRead">\n						<ng-include src="\'pages/public/terms/_user-terms.html\'"></ng-include>\n					</md-content>\n				</div>\n				<div layout="column">\n					<md-checkbox\n								 ng-disabled="!ctrl.tosRead"\n								 ng-model="ctrl.signUpState.profile.accepted_org_user_tos"\n								 ng-true-value=true\n								 ng-false-value=false\n								 required\n								 aria-label="I have read and agree to this Organization Agreement">I have read and agree to this Participant Agreement\n					</md-checkbox>\n				</div>\n				<div>\n					<md-button\n						ng-disabled="!ctrl.signUpState.profile.accepted_org_user_tos || ctrl.saving || !ctrl.tosRead"\n						class="md-primary md-raised"\n						type="submit"\n					>{{ ctrl.saving ? \'Please wait\':\'Next\' }}</md-button>\n					<md-button class="md-primary" ui-sref="base.app.public.home">Cancel registration</md-button>\n				</div>\n				<ng-include src="\'pages/public/terms/extra-privacy.html\'"></ng-include>\n			</form>\n		</md-card-content>\n	</md-card>\n</div>\n'),
$templateCache.put("pages/common/pages.student-profile-fields.html",'<md-input-container class="has-tooltip" flex>\n	<label>Display Name</label>\n	<input\n		ng-model="ctrl.user.display_name"\n		name="display_name"\n		ng-disabled="ctrl.user.id"\n		ng-model-options="{updateOn: \'default blur\', debounce: {default: 500, blur: 250}}"\n		display-name-unique\n		md-maxlength="50"\n		required\n	>\n	<div ng-messages="profileForm.display_name.$error"\n		 ng-if="(profileForm.display_name.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.display_name.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n\n	<tooltip-help>The name that will be displayed on the contest site to mentors and the public.</tooltip-help>\n</md-input-container>\n<md-input-container flex>\n	<label>First Name</label>\n	<input ng-model="ctrl.user.given_name" name="given_name" required>\n\n	<div ng-messages="profileForm.given_name.$error"\n		 ng-if="(profileForm.given_name.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.given_name.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n<md-input-container flex>\n	<label>Last Name</label>\n	<input ng-model="ctrl.user.other_names" name="other_names" required>\n\n	<div ng-messages="profileForm.other_names.$error"\n		 ng-if="(profileForm.other_names.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.other_names.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n<md-input-container class="has-tooltip" flex>\n	<label>Email</label>\n	<input ng-model="ctrl.user.display_email" type="email" disabled>\n	<tooltip-help>You cannot change your email address.  It must match the primary address on your Google account.</tooltip-help>\n</md-input-container>\n<div layout="row">\n	<md-input-container class="has-tooltip" flex>\n		<label>Phone Number</label>\n		<input type="tel" ng-model="ctrl.user.phone_number" pattern="\\+?1?[\\d -]{9,20}"\n			   name="phone_number" required>\n\n		<div ng-messages="profileForm.phone_number.$error"\n			 ng-if="(profileForm.phone_number.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.phone_number.$error)">\n			<div ng-messages-include="pages/validation-messages.html"></div>\n			<div ng-message="pattern">Invalid phone number</div>\n		</div>\n\n		<tooltip-help>Your phone number, including country code.  Example:\n		+1 123-555-1212 or +61 2 1234 4321.  Used for shipment delivery.</tooltip-help>\n	</md-input-container>\n</div>\n<md-input-container flex>\n	<div layout="column" class="has-tooltip">\n		<p>Gender</p>\n		<tooltip-help>Only used for statistical purposes.</tooltip-help>\n	</div>\n	<md-radio-group ng-model="ctrl.user.gender" name="gender" required>\n		<md-radio-button ng-repeat="g in ctrl.genders" value="{{ g[0] }}" class="md-primary">{{ g[1] }}\n		</md-radio-button>\n	</md-radio-group>\n	<div ng-messages="profileForm.gender.$error"\n		 ng-if="(profileForm.gender.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.gender.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n<md-input-container flex>\n	<p>T-Shirt Style</p>\n	<md-radio-group ng-model="ctrl.user.tshirt_style" name="tshirt_style" required>\n		<md-radio-button ng-repeat="t in ctrl.tshirtStyles" value="{{ t[0] }}" class="md-primary">{{ t[1] }}\n		</md-radio-button>\n	</md-radio-group>\n	<div ng-messages="profileForm.tshirt_style.$error"\n		 ng-if="(profileForm.tshirt_style.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.tshirt_style.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n<md-input-container flex>\n	<p>T-Shirt Size</p>\n\n	<div ng-switch on="ctrl.user.tshirt_style">\n		<md-radio-group ng-switch-when="F" ng-model="ctrl.user.tshirt_size" name="tshirt_size" required>\n			<md-radio-button ng-repeat="t in ctrl.femaleTshirtSizes" value="{{ t[0] }}" class="md-primary">{{ t[1] | uppercase }}\n			</md-radio-button>\n		</md-radio-group>\n		<md-radio-group ng-switch-default ng-model="ctrl.user.tshirt_size" name="tshirt_size" required>\n			<md-radio-button ng-repeat="t in ctrl.tshirtSizes" value="{{ t[0] }}" class="md-primary">{{ t[0] | uppercase }}\n			</md-radio-button>\n		</md-radio-group>\n	</div>\n	<div ng-messages="profileForm.tshirt_size.$error"\n		 ng-if="(profileForm.tshirt_size.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.tshirt_size.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n	<tooltip-help><a target="_blank" href="https://docs.google.com/document/d/1OSRFXJm9ENs8TUpHY9sggdkzC3XiIeSGfNDiMUM7znQ/preview">Sizing Chart</a></tooltip-help>\n</md-input-container>\n<md-input-container flex>\n	<p>How did you hear about Google Code-in?</p>\n\n	<div ng-switch on="ctrl.user.heard_about_codein_from">\n		<md-radio-group ng-model="ctrl.user.heard_about_codein_from" name="heard_about_codein_from" required>\n			<md-radio-button ng-repeat="t in ctrl.heardAboutCodeinChoices" value="{{ t[0] }}" class="md-primary">{{ t[1] }}\n			</md-radio-button>\n		</md-radio-group>\n	</div>\n	<div ng-messages="profileForm.heard_about_codein_from.$error"\n		 ng-if="(profileForm.heard_about_codein_from.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.heard_about_codein_from.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n	<div ng-if="ctrl.user.heard_about_codein_from === \'other\'">\n		<p>Other</p>\n		<md-input-container md-no-float ng-switch on="ctrl.user.heard_about_codein_from_other" class="layout layout-column">\n			<input ng-model="ctrl.user.heard_about_codein_from_other" name="heard_about_codein_from_other" required aria-label="Heard about Google Code-in from other" placeholder="Explain how you heard about Google Code-in">\n\n			<div ng-messages="profileForm.heard_about_codein_from_other.$error"\n				 ng-if="(profileForm.heard_about_codein_from_other.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.heard_about_codein_from_other.$error)">\n				<div ng-messages-include="pages/validation-messages.html"></div>\n			</div>\n		</md-input-container>\n	</div>\n</md-input-container>\n\n<md-input-container class="has-tooltip" flex>\n	<p>Opt In to Alumni List</p>\n	<md-radio-group ng-model="ctrl.user.opt_in_to_alumni_list" name="opt_in_to_alumni_list" required>\n		<md-radio-button ng-value="true" class="md-primary" ng-disabled="ctrl.user.id">Yes</md-radio-button>\n		<md-radio-button ng-value="false" class="md-primary" ng-disabled="ctrl.user.id">No</md-radio-button>\n	</md-radio-group>\n	<div ng-messages="profileForm.opt_in_to_alumni_list.$error"\n		 ng-if="(profileForm.opt_in_to_alumni_list.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.opt_in_to_alumni_list.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n	<tooltip-help>Optional: This is a mailing list for GCI alumni. This is an optional list; you are not required to sign up. You will receive occasional emails for program surveys/feedback; possible gatherings for GCI in your area; and other related contests, events, giveaways, and educational programs.  If you choose to sign up, your name will be added to the list at the conclusion of the contest.  If you change your mind during the contest period, you can update your preference through your contest profile.</tooltip-help>\n</md-input-container>\n'),$templateCache.put("pages/common/parental-consent/parental-consent-approval.html",'<div class="fixed-width" flex>\n	<md-card class="md-padding" ng-if="!student.is_disabled">\n		<div layout="row" layout-align="start center">\n			<div ng-hide="parentalConsent.is_accepted">\n				<md-button ng-click="ctrl.approveStudent()"><i class="material-icons">assignment_turned_in</i> Approve</md-button>\n			</div>\n			<div ng-show="parentalConsent.is_accepted">\n				<span class="parental-consent-status"><i class="material-icons success">assignment_turned_in</i> Approved</span>\n			</div>\n\n			<div ng-hide="parentalConsent.is_rejected">\n				<md-button ng-click="ctrl.rejectStudent()"><i class="material-icons">assignment_late</i> Reject</md-button>\n			</div>\n			<div ng-show="parentalConsent.is_rejected">\n				<span class="parental-consent-status"><i class="material-icons warning">assignment_late</i> Rejected</span>\n			</div>\n			<span flex></span>\n			<div>\n				<md-button ng-click="ctrl.disableAccount()" ng-if="ctrl.showDisableAction()"><i class="material-icons">assignment_late</i> Freeze account</md-button>\n			</div>\n		</div>\n\n	</md-card>\n\n	<md-card class="md-padding">\n		<div layout="row" layout-align="start center">\n			<div layout="column" flex="50" class="medium-label upper">\n				<a ui-sref="base.app.management.students.profile.detail({ id: student.id })">{{ student.given_name }} {{ student.other_names }}</a>\n			</div>\n\n			<div layout="column" layout-align="start end" flex="50" class="medium-label upper">\n				<nobr><span> {{ student.email }}</span>\n				<i class="material-icons">email</i></nobr>\n			</div>\n		</div>\n	</md-card>\n\n	<md-card class="md-padding" flex>\n		<div layout="row" layout-align="start center">\n			<div layout="column" flex="50"><h1 class="md-headline">Parental Consent Form</h1></div>\n			<div layout="column" flex="50" class="submitted-on" layout-align="start end"><p>Submitted on {{ parentalConsent.completed_on | codeInDateFormat }}</p></div>\n		</div>\n\n		<div layout="row" layout-align="space-between start" class="parental_consent_approval__online" ng-if="parentalConsent && !parentalConsent.offline_form_id">\n			<div>\n				<div class="md-title">Parent Details</div>\n\n				<p>\n					<div class="parental_consent_approval__label">First Name:&nbsp;</div>{{ parentalConsent.first_name }}\n				</p>\n				<p>\n					<div class="parental_consent_approval__label">Last Name:&nbsp;</div>{{ parentalConsent.last_name }}\n				</p>\n				<p>\n					<div class="parental_consent_approval__label">Address:&nbsp;</div><!--\n				--><div class="parental-consent-approval__address">\n						<div>&nbsp;{{ parentalConsent.address_street }}</div>\n						<div>&nbsp;{{ parentalConsent.address_city }}</div>\n						<div>&nbsp;{{ parentalConsent.address_province }}</div>\n						<div>&nbsp;{{ parentalConsent.address_postcode }}</div>\n						<div>&nbsp;{{ parentalConsent.address_country }}</div>\n					</div>\n				</p>\n				<p><div class="parental_consent_approval__label">Has accepted agreement:&nbsp;</div>{{ parentalConsent.is_agreement_accepted | yesNo }}</p>\n\n				<div class="md-title">Student details</div>\n				<p><div class="parental_consent_approval__label">First Name:&nbsp;</div>{{ parentalConsent.child_first_name }}</p>\n				<p><div class="parental_consent_approval__label">Last Name:&nbsp;</div>{{ parentalConsent.child_last_name }}</p>\n			</div>\n		</div>\n		<div ng-hide="parentalConsent.is_accepted">\n			<p><div class="parental_consent_approval__label">Link to supply parents for resubmission:&nbsp;</div></p>\n			<p><a href="{{ parentalConsent.share_link }}">{{ parentalConsent.share_link }}</a></p>\n		</div>\n\n		<div ng-if="parentalConsent.offline_form_id">\n			<p><div class="parental_consent_approval__label">Link to offline parental consent form:&nbsp;</div></p>\n			<p><a href="{{ parentalConsent.offline_form_url }}" target="_blank">See submitted form</a></p>\n		</div>\n\n		<div class="parental_consent_approval__offline" ng-if="parentalConsent.offline_form_id">\n			<object ng-attr-data="{{ parentalConsent.offline_form_url }}" type="application/pdf"></object>\n		</div>\n\n	</md-card>\n</div>\n'),$templateCache.put("pages/common/profile-fields.html",'<md-input-container flex>\n	<label>Display Name</label>\n	<input\n		ng-model="ctrl.user.display_name"\n		name="display_name"\n		ng-disabled="ctrl.user.id && !ctrl.memberSignup"\n		ng-model-options="{updateOn: \'default blur\', debounce: {default: 500, blur: 250}}"\n		md-maxlength="50"\n		display-name-unique\n		required\n		flex\n	/>\n	<div ng-messages="profileForm.display_name.$error"\n		 ng-if="(profileForm.display_name.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.display_name.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n	<tooltip-help>The name that will be displayed on the contest site to students and the public.</tooltip-help>\n</md-input-container>\n<md-input-container flex>\n	<label>Email Address</label>\n	<input ng-model="ctrl.user.display_email" type="email" disabled>\n	<tooltip-help>You cannot change your email address. It must match the primary address on your Google account.</tooltip-help>\n</md-input-container>\n<md-input-container flex>\n	<label>First Name</label>\n	<input ng-model="ctrl.user.given_name" name="given_name" required>\n\n	<div ng-messages="profileForm.given_name.$error"\n		 ng-if="(profileForm.given_name.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.given_name.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n<md-input-container flex>\n	<label>Last Name</label>\n	<input ng-model="ctrl.user.other_names" name="other_names" required>\n\n	<div ng-messages="profileForm.other_names.$error"\n		 ng-if="(profileForm.other_names.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.other_names.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n<div layout="row">\n	<md-input-container class="has-tooltip" flex>\n		<label>Phone Number</label>\n		<input type="tel" ng-model="ctrl.user.phone_number" pattern="\\+?1?[\\d -]{9,20}"\n			   name="phone_number" required>\n		<tooltip-help>Your phone number, including country code. Example: +1 123-555-1212 or +61 2 1234 4321. Used for shipment delivery assistance.</tooltip-help>\n		<div ng-messages="profileForm.phone_number.$error"\n			 ng-if="(profileForm.phone_number.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.phone_number.$error)">\n			<div ng-messages-include="pages/validation-messages.html"></div>\n			<div ng-message="pattern">Invalid phone number</div>\n		</div>\n	</md-input-container>\n</div>\n\n<md-input-container class="has-tooltip" flex>\n	<div layout="row">\n		<p>Gender</p>\n	</div>\n	<md-radio-group ng-model="ctrl.user.gender" name="gender" required>\n		<md-radio-button ng-repeat="g in ctrl.genders" value="{{ g[0] }}" class="md-primary">{{ g[1] }}\n		</md-radio-button>\n	</md-radio-group>\n	<div ng-messages="profileForm.gender.$error"\n		 ng-if="(profileForm.gender.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.gender.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n	<tooltip-help>Only used for statistical purposes.</tooltip-help>\n</md-input-container>\n<md-input-container flex>\n	<p>T-Shirt Style</p>\n	<md-radio-group ng-model="ctrl.user.tshirt_style" name="tshirt_style" required>\n		<md-radio-button ng-repeat="t in ctrl.tshirtStyles" value="{{ t[0] }}" class="md-primary">{{ t[1] }}\n		</md-radio-button>\n	</md-radio-group>\n	<div ng-messages="profileForm.tshirt_style.$error"\n		 ng-if="(profileForm.tshirt_style.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.tshirt_style.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n	<tooltip-help><a target="_blank" href="https://docs.google.com/document/d/1OSRFXJm9ENs8TUpHY9sggdkzC3XiIeSGfNDiMUM7znQ/preview">Sizing Chart</a></tooltip-help>\n</md-input-container>\n<md-input-container flex>\n	<p>T-Shirt Size</p>\n\n	<div ng-switch on="ctrl.user.tshirt_style">\n		<md-radio-group ng-switch-when="F" ng-model="ctrl.user.tshirt_size" name="tshirt_size" required>\n			<md-radio-button ng-repeat="t in ctrl.femaleTshirtSizes" value="{{ t[0] }}" class="md-primary">{{ t[0] }}\n			</md-radio-button>\n		</md-radio-group>\n		<md-radio-group ng-switch-default ng-model="ctrl.user.tshirt_size" name="tshirt_size" required>\n			<md-radio-button ng-repeat="t in ctrl.tshirtSizes" value="{{ t[0] }}" class="md-primary">{{ t[0] }}\n			</md-radio-button>\n		</md-radio-group>\n	</div>\n	<div ng-messages="profileForm.tshirt_size.$error"\n		 ng-if="(profileForm.tshirt_size.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.tshirt_size.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n\n<md-input-container class="has-tooltip" flex>\n	<p>Opt In to Mentor List</p>\n	<md-radio-group ng-model="ctrl.user.opt_in_to_mentor_list" name="opt_in_to_mentor_list" required>\n		<md-radio-button ng-value="true" class="md-primary" ng-disabled="ctrl.user.id && !ctrl.memberSignup">Yes</md-radio-button>\n		<md-radio-button ng-value="false" class="md-primary" ng-disabled="ctrl.user.id && !ctrl.memberSignup">No</md-radio-button>\n	</md-radio-group>\n	<div ng-messages="profileForm.opt_in_to_mentor_list.$error"\n		 ng-if="(profileForm.opt_in_to_mentor_list.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.opt_in_to_mentor_list.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n	<tooltip-help>\n	OPTIONAL: This is the GCI mentor only mailing list, which is similar to the GSoC mentor mailing list, for mentors to seek advice and discuss best practices for the contest.  This is an optional list; you are not required to sign up. If you would like to be included on this mailing list, please check here and we will send you an invite.  Invites will be sent about once a week until the end of the contest.  If you choose to sign up, you can remove yourself from the list at any time through the Google Groups interface.\n	</tooltip-help>\n</md-input-container>\n\n<md-input-container class="has-tooltip" flex>\n	<p>Opt In to Alumni List</p>\n	<md-radio-group ng-model="ctrl.user.opt_in_to_alumni_list" name="opt_in_to_alumni_list" required>\n		<md-radio-button ng-value="true" class="md-primary" ng-disabled="ctrl.user.id && !ctrl.memberSignup">Yes</md-radio-button>\n		<md-radio-button ng-value="false" class="md-primary" ng-disabled="ctrl.user.id && !ctrl.memberSignup">No</md-radio-button>\n	</md-radio-group>\n	<div ng-messages="profileForm.opt_in_to_alumni_list.$error"\n		 ng-if="(profileForm.opt_in_to_alumni_list.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.opt_in_to_alumni_list.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n	<tooltip-help>\n	OPTIONAL: This is a mailing list for GCI alumni.  You will receive occasional emails for program surveys/feedback; possible gatherings for GCI in your area; and other related contests, events, giveaways, and educational programs.  If you choose to sign up, your name will be added to the list at the conclusion of the contest.  If you change your mind during the contest period, you can update your preference through your contest profile.\n	</tooltip-help>\n</md-input-container>\n'),$templateCache.put("pages/common/shipping-address-fields.html",'<md-input-container flex>\n	<label>Address</label>\n	<input ng-model="ctrl.user.shipping_address_line_1" name="shipping_address_line_1"\n		   ng-required="!ctrl.user.shipping_address_is_home_address">\n\n	<div ng-messages="profileForm.shipping_address_line_1.$error"\n		 ng-if="(profileForm.shipping_address_line_1.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.shipping_address_line_1.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n<md-input-container flex>\n	<input ng-model="ctrl.user.shipping_address_line_2" name="shipping_address_line_2" aria-label="Address line 2">\n</md-input-container>\n<md-input-container flex>\n	<label>City</label>\n	<input ng-model="ctrl.user.shipping_address_city" name="shipping_address_city"\n		   ng-required="!ctrl.user.shipping_address_is_home_address">\n\n	<div ng-messages="profileForm.shipping_address_city.$error"\n		 ng-if="(profileForm.shipping_address_city.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.shipping_address_city.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n<md-input-container flex>\n	<label>State/Province (optional)</label>\n	<input ng-model="ctrl.user.shipping_address_province" name="shipping_address_province">\n\n	<div ng-messages="profileForm.shipping_address_province.$error"\n		 ng-if="(profileForm.shipping_address_province.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.shipping_address_province.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n<md-input-container flex>\n	<label>Country</label>\n	<md-select ng-model="ctrl.user.shipping_address_country" name="shipping_address_country"\n			   placeholder="Select a Country"\n			   ng-required="!ctrl.user.shipping_address_is_home_address">\n		<md-option ng-repeat="t in ctrl.countries" ng-value="t[0]">{{ t[0] }}</md-option>\n	</md-select>\n	<div ng-messages="profileForm.shipping_address_country.$error"\n		 ng-if="(profileForm.shipping_address_country.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.shipping_address_country.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n<md-input-container flex>\n	<label>Postal/Zip Code</label>\n	<input ng-model="ctrl.user.shipping_address_postcode" name="shipping_address_postcode"\n		   ng-required="!ctrl.user.shipping_address_is_home_address">\n\n	<div ng-messages="profileForm.shipping_address_postcode.$error"\n		 ng-if="(profileForm.shipping_address_postcode.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.shipping_address_postcode.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n'),$templateCache.put("pages/common/task-detail/task-detail.directive.html",'<div class="task-definition" layout="column" class="md-padding">\n	<div class="task-definition__description" layout="row" layout-sm="column">\n		<div class="task-definition__main" layout-padding layout-align="start start" flex>\n			<div ng-if="showHeader" class="md-subhead task-definition__organization">{{ task.organization.name }}</div>\n			<div ng-if="showHeader" class="md-headline task-definition__name">{{ task.name }}</div>\n			<div class="task-definition__description-text" ng-bind-html="task.description|markdown" flex></div>\n			<span flex></span>\n			<div class="task-definition__subheader">Task tags:</div>\n			<div class="task-definition__tags" layout="row" layout-wrap layout-align="start center">\n				<div class="task-definition__tag" ng-repeat="tag in task.tags">{{ tag }}</div>\n			</div>\n		</div>\n		<div class="task-definition__meta" layout-padding>\n			<div class="task-definition__org-logo" layout layout-align="center center" ng-if="showLogo">\n				<img ng-src="{{ task.organization.image_url }}=s100" alt="Logo for {{ task.organization.name }}">\n			</div>\n			<md-button ng-disabled="showActions && ctrl.claimingTask" ng-if="ctrl.showClaimAction" class="md-raised md-primary task-definition__claim-btn" ng-click="ctrl.claimTask(task)">{{ctrl.claimingTask ? \'Claiming task\' : \'Claim this task\'}}</md-button>\n			<div class="task-definition__time-to-complete">\n				<div class="task-definition__subheader">Time available</div>\n				<div>\n					<i class="material-icons task-definition__deadline-icon">access_time</i>\n					<span>{{ task.time_to_complete_in_days }} days</span>\n				</div>\n			</div>\n\n			<div class="task-definition__categories" layout="column" layout-align="start start">\n				<div class="task-definition__subheader">Task type</div>\n				<div class="task-definition__category" ng-repeat="category in task.categories">\n					<task-category id="{{ category }}"></task-category>\n				</div>\n			</div>\n\n			<div class="task-definition__is-beginner" ng-if="task.is_beginner" layout="column" layout-align="start start">\n				<div class="task-definition__subheader">Level</div>\n				<div class="task-definition__tag task-definition__tag--beginner">Beginner</div>\n			</div>\n\n			<div class="task-definition__mentors" layout="column" layout-align="start start">\n				<div class="task-definition__subheader">Mentors</div>\n				<div class="task-definition__mentor" ng-repeat="mentor in task.assignments_profiles">{{ mentor.display_name }}</div>\n			</div>\n		</div>\n	</div>\n	<div class="task-definition__guide-to-working" ng-if="task.organization.guide_to_working" layout="row" layout-sm="column">\n		<div class="task-definition__guide-to-working__main" flex layout-padding>\n			<div class="md-headline">Working with {{ task.organization.name }}</div>\n			<div class="task-definition__guide-to-working__text" ng-bind-html="task.organization.guide_to_working|markdown"></div>\n		</div>\n	</div>\n</div>\n'),$templateCache.put("pages/management/dashboard/directives/member-card/member-card.directive.html",'<md-list\n	class="dashboard__list org-member-card"\n	flex\n>\n	<md-list-item\n	 ng-repeat=\'member in ctrl.filteredMembers\'\n	 layout="row"\n	 class="dashboard__list__row org-member-card__row org-member-card__row--pending"\n	>\n		<span\n		 class="org-member-card__icon"\n		>\n			<i class="material-icons">person_outline</i>\n		</span>\n		<span\n		 flex\n		 class="org-member-card__email"\n		>\n			{{ member.profile.email }}\n		</span>\n	</md-list-item>\n</md-list>\n\n<invite-email invite-method="ctrl.inviteMember"></invite-email>\n'),$templateCache.put("pages/management/dashboard/pages.dashboard.html",'<h1 transclude-send="page-title">\n	<span>Dashboard </span>\n	<span ng-if="::ctrl.orgNames.length">for {{::ctrl.orgNames.join(\', \')}}</span>\n	<span ng-if="::ctrl.studentName">for {{ ctrl.studentName }}</span>\n</h1>\n<div transclude-send="page-sub-nav"></div>\n\n<dashboard ng-hide="AppCtrl.CurrentUser.is_archived || AppCtrl.CurrentUser.is_disabled" user-type="{{ctrl.userType}}" app-state="{{ctrl.program.state}}" class="fixed-outer-width"></dashboard>\n\n<md-card class="md-padding" ng-if="AppCtrl.CurrentUser.is_archived" layout="row" layout-align="center center">\n	<h2 class="md-display-1">Your account is pending deletion</h2>\n</md-card>\n\n<md-card class="md-padding" ng-if="AppCtrl.CurrentUser.is_disabled" layout="row" layout-align="center center">\n	<h2 class="md-display-1">Your account has been frozen</h2>\n</md-card>\n'),$templateCache.put("pages/management/dashboard/partials/common/contest-over.html",'<md-card class="info-box" flex>\n	<md-card-content>\n		<div ng-if="!ctrl.program.winners_published" layout="column" layout-align="center center">\n			<p class="info-box__message md-title">Contest is over, no more work can be submitted</p>\n		</div>\n		<div ng-if="ctrl.program.winners_published" layout="column" layout-align="center center">\n			<p class="info-box__message md-title">Winners announced!</p>\n			<p class="info-box__message md-title"><a ui-sref="base.app.public.winners">See winners</a></p>\n		</div>\n	</md-card-content>\n</md-card>\n'),$templateCache.put("pages/management/dashboard/partials/common/invite-admins.html",'<md-card class="dashboard__info dashboard__info--administrators" ng-class="{\'signup-progress\': ctrl.program.org_signup_open}">\n	<md-card-content class="md-padding">\n		<h3 class="md-title"><a ui-sref="base.app.management.mentors">Administrators</a></h3>\n		<p ng-if="ctrl.activeOrgAdmins.length == 1 && AppCtrl.program.org_signup_open">\n			You are the only registered Organization Administrator for {{ ctrl.org.name }}. Please add at least one additional Organization Administrator.\n		</p>\n\n		<p ng-show="ctrl.activeOrgAdmins.length">\n			You have <a ui-sref="base.app.management.mentors"><ng-pluralize count="ctrl.activeOrgAdmins.length" when="{\'1\': \'1 active admin\', \'other\': \'{} active admins\'}">\n			</ng-pluralize></a>\n		</p>\n\n		<span flex></span>\n		<member-card role=\'admin\' org=\'ctrl.org\'></member-card>\n\n		<div ng-if="ctrl.program.org_signup_open" class="status-icon" layout-align="center center">\n			<div\n			 class="circle big"\n			 ng-class="{\n			 	\'ok\': ctrl.adminsInvited(),\n			 	\'in-progress\': !ctrl.adminsInvited()\n			 }"\n			>\n				<md-icon md-font-library="material-icons">{{ ctrl.adminsInvited() ? \'done\' : \'close\' }}</md-icon>\n			</div>\n		</div>\n	</md-card-content>\n</md-card>\n'),$templateCache.put("pages/management/dashboard/partials/common/overview.html",'<!-- TODO: this should be a directive -->\n<md-card class="dashboard__info" flex>\n	<md-content class="md-padding" layout="column">\n		<h3 class="md-title">{{ ctrl.program.year }} overview</h3>\n		<p ng-if="AppCtrl.program.org_signup_open">\n			<time-to-go date="::ctrl.stateDates.orgSignupClosedAt"></time-to-go> until registration closes.\n		</p>\n		<p ng-if="AppCtrl.program.org_approval">\n			<time-to-go date="::ctrl.stateDates.orgsPublishedOpenAt"></time-to-go> until organizations published.\n		</p>\n		<p ng-if="AppCtrl.program.state == \'orgs_published\'">\n			<time-to-go date="::ctrl.stateDates.competitionOpenAt"></time-to-go> until competition opens.\n		</p>\n		<p ng-if="AppCtrl.program.competition_open">\n			<time-to-go date="::ctrl.stateDates.competitionClosedAt"></time-to-go> until competition closes.\n		</p>\n		<p ng-if="AppCtrl.program.winners_choosing">\n			<time-to-go date="::ctrl.stateDates.winnersPublishedAt"></time-to-go> until winners published.\n		</p>\n\n		<ul class="program-overview-list">\n			<li ng-class="{\'active-state\': AppCtrl.program.org_signup_open}">Organization registration open {{ ::ctrl.stateDates.orgSignupOpenAt | codeInDateFormat }}</li>\n			<li ng-class="{\'active-state\': AppCtrl.program.org_approval}">Organization registration closed {{ ::ctrl.stateDates.orgSignupClosedAt | codeInDateFormat }}</li>\n			<li ng-class="{\'active-state\': AppCtrl.program.state == \'orgs_published\'}">Organizations published {{ ::ctrl.stateDates.orgsPublishedOpenAt | codeInDateFormat }}</li>\n			<li ng-class="{\'active-state\': AppCtrl.program.competition_open}">Competition opens {{ ::ctrl.stateDates.competitionOpenAt | codeInDateFormat }}</li>\n			<li ng-class="{\'active-state\': AppCtrl.program.grace_period || AppCtrl.program.winners_choosing}">Competition closed {{ ::ctrl.stateDates.competitionClosedAt | codeInDateFormat }}</li>\n			<li ng-class="{\'active-state\': AppCtrl.program.winners_published}">Winners published {{ ::ctrl.stateDates.winnersPublishedOpenAt | codeInDateFormat }}</li>\n		</ul>\n	</md-content>\n</md-card>\n'),$templateCache.put("pages/management/dashboard/partials/common/published-organization-list.html",'<md-card class="dashboard__info dashboard__info--org-shortlist md-padding" flex="50" flex-sm="100">\n	<h3 class="md-title">Organizations</h3>\n	<md-list class="dashboard__list">\n		<md-list-item class="dashboard__list__row" flex layout="row" ng-repeat="org in ctrl.shortListedOrgs">\n			<p flex>\n				<a ui-sref="base.app.management.organizations.detail.tasks({ id: org.id })">{{ org.name }}</a>\n			</p>\n\n			<div flex layout="row" layout-align="end">\n				<div class="dashboard__icon" layout="row" layout-align="end center">\n					<div class="dashboard__icon__text">{{org.active_membership_count}}</div>\n					<i class="material-icons">group</i>\n					<md-tooltip>\n						Active members\n					</md-tooltip>\n				</div>\n				<div class="dashboard__icon" ng-class="{\'task-count-alert\': ctrl.orgsBelowTaskThreshold.indexOf(org) !== -1}" layout="row" layout-align="end center">\n					<div class="dashboard__icon__text">{{ org.published_task_definition_count + (ctrl.program.competition_open ? \'/\' + org.available_task_instance_count : \'\') }}</div>\n					<i class="material-icons">assignment</i>\n					<md-tooltip>\n'+"						Published task definitions{{ ctrl.program.competition_open ? ' / Available task instances' : '' }}\n					</md-tooltip>\n				</div>\n			</div>\n		</md-list-item>\n	</md-list>\n</md-card>\n"),
$templateCache.put("pages/management/dashboard/partials/common/reject_org_admin.html",'<md-card class="dashboard__info">\n	<div class="md-padding">\n		<h1 class="md-display-1">Your application was not successful</h1>\n\n		<p>Sorry, your organization\'s application to participate in Google Code-in {{AppCtrl.program.year}} was not successful</p>\n	</div>\n</md-card>\n'),$templateCache.put("pages/management/dashboard/partials/competition-open/mentor/messages.html",'<md-card flex>\n	<md-card-content class="md-padding">\n		<h3 class="md-title">Messages</h3>\n		<p>Messages</p>\n	</md-card-content>\n</md-card>\n'),$templateCache.put("pages/management/dashboard/partials/competition-open/mentor/tasks.html",'<md-card class="dashboard__info" flex-sm="100" flex>\n	<md-card-content class="md-padding" ng-show="user">\n		<h3 class="md-title">Tasks</h3>\n		<p>There\n			<a ui-sref="base.app.management.taskInstance.list.all({ \'sp-status\': ctrl.taskStatus.SUBMITTED, \'sp-my_tasks\': true })">\n				<ng-pluralize count="user.submitted_assigned_task_instance_count"\n'+"					when=\"{'0': 'are no students', '1': 'is 1 student', 'other': 'are {} students'}\"></ng-pluralize>\n			</a>\n			waiting for review.\n		</p>\n		<p>\n			<a ui-sref=\"base.app.management.taskInstance.list.all({ 'sp-my_tasks': true })\">\n				<ng-pluralize count=\"user.assigned_task_instance_count\"\n					when=\"{'0': 'No students are working', '1': '1 student is working', 'other': '{} students are working'}\"></ng-pluralize>\n			</a>\n			on your assigned tasks, with\n			<a ui-sref=\"base.app.management.tasks.all({ 'sp-is_exhausted': 'False', 'sp-status': ctrl.taskDefinitionStatus.PUBLISHED, 'sp-my_tasks': true })\">\n				<ng-pluralize count=\"user.claimable_task_definition_count\"\n					when=\"{'0': 'no tasks left available to claim', '1': '1 task available to be claimed', 'other': '{} tasks available to be claimed'}\"></ng-pluralize></a>.\n		</p>\n	</md-card-content>\n</md-card>\n"),$templateCache.put("pages/management/dashboard/partials/competition-open/mentor/welcome.html",'<md-card class="dashboard__info" flex="50" flex-sm="100">\n	<md-card-content class="md-padding">\n		<h1 class="md-display-1">Welcome</h1>\n		<p ng-if="ctrl.program.competition_open && !ctrl.program.no_claims">This contest is now open for students to start completing tasks with your organization.</p>\n		<p ng-if="ctrl.program.competition_open && ctrl.program.no_claims">Students can no longer claim new tasks, but tasks already in progress may still be submitted for review.</p>\n		<p ng-if="ctrl.program.grace_period">You now have\n			<time-to-go date="ctrl.program.grace_period_ends" time-exhausted-text="no time left"></time-to-go> to review outstanding tasks that have been submitted for review.</p>\n		<p ng-if="ctrl.program.grace_period"></p>\n	</md-card-content>\n</md-card>\n\n\n'),$templateCache.put("pages/management/dashboard/partials/competition-open/org-admin/tasks.html",'<md-card flex="1" class="dashboard__info">\n	<md-card-content class="md-padding">\n		<div\n		 layout="row"\n		 layout-fill\n		>\n			<md-list\n			 flex\n			>\n				<h2 class="md-headline upper">Status</h2>\n				<md-list-item>\n					<p>There\n						<a class="dashboard-status-big-links" ui-sref="base.app.management.tasks.all({ \'sp-is_exhausted\': \'False\', \'sp-status\': ctrl.taskDefinitionStatus.PUBLISHED })">\n							<ng-pluralize count="ctrl.org.claimable_task_definition_count"\n'+"								when=\"{'0': 'are no claimable tasks', '1': 'is 1 claimable task', 'other': 'are {} claimable tasks'}\"></ng-pluralize>\n						</a> remaining,\n					</p>\n				</md-list-item>\n				<md-list-item>\n					<p>and\n						<a class=\"dashboard-status-big-links\" ui-sref=\"base.app.management.tasks.all({ 'sp-status':ctrl.taskDefinitionStatus.DRAFT })\">\n							<ng-pluralize count=\"ctrl.org.draft_task_definition_count\"\n								when=\"{'0': 'no unpublished tasks', '1': '1 unpublished task', 'other': '{} unpublished tasks'}\"></ng-pluralize>.\n						</a>\n					</p>\n				</md-list-item>\n				<md-list-item>\n					<p>There\n						<a class=\"dashboard-status-big-links\" ui-sref=\"base.app.management.taskInstance.list.all({ 'sp-status': ctrl.taskStatus.SUBMITTED })\">\n							<ng-pluralize count=\"ctrl.org.submitted_task_instance_count\"\n								when=\"{'0': 'are no students', '1': 'is 1 student', 'other': 'are {} students'}\"></ng-pluralize>\n								waiting for review,\n						</a>\n					</p>\n				</md-list-item>\n				<md-list-item>\n					<p> and\n						<a class=\"dashboard-status-big-links\" ui-sref=\"base.app.management.taskInstance.list.inProgress\">\n								<ng-pluralize count=\"ctrl.org.working_students_count\" when=\"{'0': 'no students', '1': '1 student', 'other': '{} students'}\"></ng-pluralize>\n							currently working on tasks.\n						</a>\n					</p>\n				</md-list-item>\n				<md-list-item>\n					<md-button ng-if=\"::AppCtrl.tasksAreEditable()\" type=\"submit\" class=\"upper md-primary\"\n					 ui-sref=\"base.app.management.task.edit(ctrl.org && !AppCtrl.CurrentUser.is_org_admin ? {organization_id: ctrl.org.id, id: 'new'} : {id :'new'})\">Create new task</md-button>\n				</md-list-item>\n			</md-list>\n		</div>\n	</md-card-content>\n</md-card>\n"),$templateCache.put("pages/management/dashboard/partials/competition-open/program-admin/status.html",'<md-card flex="1" class="dashboard__info md-padding">\n	<div\n	 layout="row"\n	 layout-fill\n	>\n		<div flex="50">\n			<h3 class="md-title upper">Status</h3>\n\n			<p ng-if="ctrl.submittedParentConsentCount !== null"><a class="dashboard-status-big-links" ui-sref="base.app.management.parental-consent.list.pending">\n				<ng-pluralize count="ctrl.submittedParentConsentCount"\n					when="{\'0\': \'No parental consents need\', \'1\': \'1 parental consent needs\', \'other\': \'{} parental consents need\'}"\n				></ng-pluralize>\n				approval.\n			</a></p>\n\n			<p ng-if="ctrl.allActiveTaskInstanceCount !== null"><a class="dashboard-status-big-links" ui-sref="base.app.management.taskInstance.list.inProgress">\n				<ng-pluralize count="ctrl.allActiveTaskInstanceCount"\n					when="{\'0\': \'No tasks in progress\', \'1\': \'1 task in progress\', \'other\': \'{} tasks in progress\'}"\n				></ng-pluralize>\n			</a> right now.</p>\n\n			<p ng-if="ctrl.orgsBelowTaskThreshold.length">\n				<span ng-repeat="org in ctrl.orgsBelowTaskThreshold">{{ $middle ? \', \' : ($last && $index ? \' and \' : \'\') }}\n					<a ui-sref="base.app.management.organizations.detail.tasks({ id: org.id })">{{ org.name }}</a>\n				</span>\n				<ng-pluralize\n					count="ctrl.orgsBelowTaskThreshold.length"\n					when="{\'0\': \'are\', \'1\': \'is\', \'other\': \'are\'}"\n				></ng-pluralize> below the task definition threshold of 25, or the task instance threshold of 75.\n			</p>\n		</div>\n		<div\n		 flex-offset="0"\n		 flex-offset-gt-sm="10"\n		 flex="100"\n		 flex-gt-sm="50"\n		 layout="column"\n		 layout-align="center center"\n		 >\n			<div class="upper" ng-hide="true">\n				Task visualization\n			</div>\n		</div>\n	</div>\n</md-card>\n'),$templateCache.put("pages/management/dashboard/partials/competition-open/student/completed-tasks.html",'<md-card class="md-padding">\n	<h3 class="md-title dashboard-header">My Completed Tasks ({{ctrl.completedTasks.length || 0}})</h3>\n	<md-list class="dashboard__list">\n		<md-list-item class="dashboard__list__row" flex layout="row" ng-repeat="task in ctrl.completedTasks">\n			<p flex>{{ ::task.task_definition.name }}</p>\n			<div flex layout="row" layout-align="end center">\n				<md-button ui-sref="base.app.management.taskInstance.detail({id: task.id})" layout-align="end center">\n					<i class="material-icons button-icon--blue">assignment</i>\n					<span>View task</span>\n				</md-button>\n			</div>\n		</md-list-item>\n	</md-list>\n</md-card>\n'),$templateCache.put("pages/management/dashboard/partials/competition-open/student/current-task.html",'<md-card>\n	<md-card-content class="md-padding">\n		<div ng-if="!ctrl.currentTask">\n			<h1 class="md-display-1 dashboard-header" ng-if="!AppCtrl.program.no_claims && ctrl.completedTasks.length === 0">You\'re in, let\'s get started!</h1>\n			<h1 class="md-display-1" ng-if="!AppCtrl.program.no_claims && ctrl.completedTasks.length !== 0">Claim another task</h1>\n			<h1 class="md-title" ng-if="AppCtrl.program.no_claims">You can no longer claim any tasks for Google Code-in</h1>\n\n			<div ng-if="!AppCtrl.program.no_claims">\n				<p>There are thousands of tasks to choose from across {{ ctrl.allOrganizations.length }} organizations. Whether you want to write Code, work for User Interfaces, improve Documentation and Training, help out with Quality Assurance or do some Outreach and Research there\'s plenty for everybody.</p>\n\n				<md-button ui-sref="base.app.public.tasks">\n					<i class="material-icons button-icon--blue">assignment</i>\n					<span>Find a task</span>\n				</md-button>\n			</div>\n		</div>\n		<current-task ng-if="ctrl.currentTask" task="ctrl.currentTask"></current-task>\n	</md-card-content>\n</md-card>\n'),$templateCache.put("pages/management/dashboard/partials/competition-open/student/no-tasks-grace-period.html",'<md-card>\n	<md-card-content class="md-padding">\n		<h3 class="md-title">Contest over</h3>\n		<p>You have no completed tasks to view.</p>\n	</md-card-content>\n</md-card>\n'),$templateCache.put("pages/management/dashboard/partials/competition-open/student/published-orgs.html",'<md-card>\n	<md-card-content class="md-padding">\n		<h3 class="md-title">Organizations</h3>\n		<md-list class="dashboard__list">\n			<md-list-item class="dashboard__list__row" flex layout="row" ng-repeat="org in ctrl.allOrganizations">\n				<p flex>\n					{{::org.name}}\n				</p>\n\n				<div flex layout="row" layout-align="end center">\n					<md-button layout-align="end center" ui-sref="base.app.public.tasks({\'sp-organization\':org.id})">\n						<i class="material-icons button-icon--blue">assignment</i>\n						<span>View tasks</span>\n					</md-button>\n				</div>\n			</md-list-item>\n		</md-list>\n	</md-card-content>\n</md-card>\n'),$templateCache.put("pages/management/dashboard/partials/competition-open/student/student-help.html",'<md-card flex>\n	<md-card-content class="md-padding">\n		<h1 class="md-display-1">Need help?</h1>\n\n		<p>For general questions about the contest read the <a href="https://developers.google.com/open-source/gci/faq">FAQs</a> and the <a href="https://developers.google.com/open-source/gci/resources/getting-started">Getting Started Guide</a>. Join the <a href="https://groups.google.com/forum/#!forum/gci-discuss">contest discussion list</a> to ask questions of other students and mentors.</p>\n\n		<p>To contact an organization, for specific questions about their tasks, go to their <a ui-sref="base.app.public.organizations.list">homepage</a> to find their contact information.</p>\n\n		<p>For technical questions related to the contest or contest website, email <a href="mailto:gci-support@google.com">gci-support@google.com</a>.</p>\n	</md-card-content>\n</md-card>\n'),$templateCache.put("pages/management/dashboard/partials/competition-open/student/student-left.html",'<div layout="column" ng-if="::!AppCtrl.competitionHasEnded()" flex>\n	<ng-include src="\'pages/management/dashboard/partials/competition-open/student/current-task.html\'"></ng-include>\n	<ng-include src="\'pages/management/dashboard/partials/competition-open/student/student-help.html\'"></ng-include>\n</div>\n'),$templateCache.put("pages/management/dashboard/partials/competition-open/student/student-right.html",'<div layout="column" flex>\n	<ng-include ng-if="ctrl.completedTasks.length === 0 && !AppCtrl.competitionHasEnded()" src="\'pages/management/dashboard/partials/competition-open/student/published-orgs.html\'"></ng-include>\n	<ng-include ng-if="::ctrl.completedTasks.length === 0 && AppCtrl.competitionHasEnded()" src="\'pages/management/dashboard/partials/competition-open/student/no-tasks-grace-period.html\'"></ng-include>\n	<ng-include ng-if="ctrl.completedTasks.length > 0" src="\'pages/management/dashboard/partials/competition-open/student/completed-tasks.html\'"></ng-include>\n</div>\n\n\n'),$templateCache.put("pages/management/dashboard/partials/org-approval/org-admin/welcome.html",'<md-card class="dashboard__info">\n	<md-card-content class="md-padding">\n		<h1 class="md-display-1">Welcome</h1>\n\n		<div layout="row" layout-sm="column" layout-align="start start">\n			<div flex flex-gt-sm="50">\n				<p>You have registered your organization for Google Code-in and can return to this dashboard at any time\n					by signing in on the <a href="{{ ::ctrl.homeLink }}">Google Code-in home page</a>.</p>\n\n				<h3 class="md-title upper">Awaiting review</h3>\n\n				<p>Your application is currently being reviewed. You will be notified if your organization has been accepted via email.</p>\n			</div>\n			<div class="dashboard__app-deadline" flex flex-get-sm="45" flex-offset-gt-sm="5">\n				<h3 class="md-title upper">Organizations will be published on</h3>\n\n				<div class="md-display-1">{{ ::ctrl.stateDates.orgsPublishedOpenAt | codeInDateFormat }}</div>\n			</div>\n		</div>\n	</md-card-content>\n</md-card>\n'),$templateCache.put("pages/management/dashboard/partials/org-approval/program-admin/orgs-shortlisted.html",'<div flex="50" flex-sm="100">\n	<md-card class="dashboard__info">\n		<md-card-content class="md-padding">\n			<h3 class="md-title">SHORTLIST ({{ctrl.shortListedOrgs.length || 0}})</h3>\n			<md-list class="dashboard__list">\n				<md-list-item class="dashboard__list__row" flex layout="row" ng-repeat="org in ctrl.shortListedOrgs">\n					<p flex>\n						{{::org.name}}\n					</p>\n\n					<div flex layout="row" layout-align="end center">\n						<div ng-if="org.accepted_email_sent" class="material-icons md-24 email">emailed</div>\n						<md-button layout-align="end center"  ui-sref="base.app.management.orgApplicationsManagement.shortlist({organization_id: org.id})">\n							VIEW\n						</md-button>\n					</div>\n				</md-list-item>\n			</md-list>\n		</md-card-content>\n	</md-card>\n</div>\n'),$templateCache.put("pages/management/dashboard/partials/org-signup-open/common/edit-application.html",'<md-card class="dashboard__info signup-progress" flex-sm="100">\n	<md-card-content class="md-padding" layout="row">\n		<div layout-align="start start" flex="70">\n			<h3 class="md-title upper">{{ ctrl.program.year }} application</h3>\n			<p>Organization Applications will be evaluated to select this year\'s Google Code-in Mentoring Organizations.</p>\n			<md-button class="md-primary" ui-sref="base.app.management.orgApplication">Edit your application</md-button>\n		</div>\n		<div class="status-icon" layout-align="center center" flex="30">\n			<div\n			 class="circle big"\n			 ng-class="{\n			 	\'ok\': ctrl.applicationCompleted,\n			 	\'in-progress\': !ctrl.applicationCompleted\n			 }"\n			>\n				<md-icon md-font-library="material-icons">{{ ctrl.applicationCompleted ? \'done\' : \'close\' }}</md-icon>\n			</div>\n		</div>\n	</md-card-content>\n</md-card>\n'),$templateCache.put("pages/management/dashboard/partials/org-signup-open/common/edit-org-profile.html",'<md-card class="dashboard__info signup-progress" flex flex-sm="100" layout="row">\n	<md-card-content class="md-padding" layout="row" flex="100">\n		<div layout-align="start start" flex="70">\n			<h3 class="md-title upper">Organization profile</h3>\n			<p>This is information the public can read to learn more about your organization.</p>\n			<md-button class="md-primary" ui-sref="base.app.management.orgProfile">Edit your profile</md-button>\n		</div>\n		<div class="status-icon" layout-align="center center">\n			<div\n			 class="circle big"\n			 ng-class="{\n			 	\'ok\': ctrl.profileCompleted,\n			 	\'in-progress\': !ctrl.profileCompleted\n			 }"\n			>\n				<md-icon md-font-library="material-icons">{{ ctrl.profileCompleted ? \'done\' : \'close\' }}</md-icon>\n			</div>\n		</div>\n	</md-card-content>\n</md-card>\n'),$templateCache.put("pages/management/dashboard/partials/org-signup-open/common/progress-bar.html",'<div flex="45" flex-sm="100">\n	<md-card class="dashboard__info signup-progress">\n		<md-card-content class="md-padding">\n			<h3 class="md-title">Your progress</h3>\n\n			<p>To be eligible for Google Code-in {{ ctrl.program.year }} organization review, you must:</p>\n			<ul class="signup-progress">\n				<li layout="row" layout-align="start start">\n					<div class="circle ok" ng-if="ctrl.applicationCompleted">\n						<md-icon md-font-library="material-icons">done</md-icon>\n					</div>\n					<div class="circle in-progress" ng-if="!ctrl.applicationCompleted">\n						<md-icon md-font-library="material-icons">close</md-icon>\n					</div>\n					<div>Complete your organization {{ ctrl.program.year }} application form</div>\n				</li>\n				<li layout="row" layout-align="start start">\n					<div class="circle ok" ng-if="ctrl.profileCompleted">\n						<md-icon md-font-library="material-icons">done</md-icon>\n					</div>\n					<div class="circle in-progress" ng-if="!ctrl.profileCompleted">\n						<md-icon md-font-library="material-icons">close</md-icon>\n					</div>\n					<div>Complete your organization profile</div>\n				</li>\n				<li layout="row" layout-align="start start">\n					<div class="circle ok" ng-if="ctrl.adminsInvited()">\n						<md-icon md-font-library="material-icons">done</md-icon>\n					</div>\n					<div class="circle in-progress" ng-if="!ctrl.adminsInvited()">\n						<md-icon md-font-library="material-icons">close</md-icon>\n					</div>\n					<div>Have at least one other active organization administrator</div>\n				</li>\n			</ul>\n			<form-progress no-details radius=200 stroke=100 color="#8bc249">\n				<form-progress-item\n						form-item="ctrl"\n						item-key="applicationCompleted">\n				</form-progress-item>\n				<form-progress-item\n						form-item="ctrl"\n						item-key="profileCompleted">\n				</form-progress-item>\n				<form-progress-item\n						form-item="ctrl"\n						item-key="activeOrgAdmins"\n						item-validation="ctrl.activeOrgAdminsValidation"\n				>\n				</form-progress-item>\n			</form-progress>\n		</md-card-content>\n	</md-card>\n</div>\n'),$templateCache.put("pages/management/dashboard/partials/org-signup-open/org-admin/welcome.html",'<md-card class="dashboard__info">\n	<md-card-content class="md-padding">\n		<h1 class="md-display-1">Welcome</h1>\n\n		<div layout="row" layout-sm="column" layout-align="start start">\n			<div flex flex-gt-sm="50">\n				<p class="bottom-margin">You have registered your organization for Google Code-in and can return to this dashboard at any time\n					by signing in on the <a href="{{ ::ctrl.homeLink }}">Google Code-in home page</a>.</p>\n\n				<h3 class="md-title">Next steps</h3>\n\n				<p>Complete your <a ui-sref="base.app.management.orgProfile">Organization Profile</a> and <a ui-sref="base.app.management.orgApplication">Google Code-in Application</a> by the deadline and we\'ll review all eligible Organizations. We will notify all applicants of their results once Participating Organizations have been chosen.</p>\n			</div>\n			<div class="dashboard__app-deadline" flex flex-get-sm="45" flex-offset-gt-sm="5">\n				<h3 class="md-title upper">Deadline for applications</h3>\n\n				<div class="md-display-1">{{ ::ctrl.stateDates.orgSignupClosedAt | codeInDateFormat }}</div>\n				<p>\n					Your application is complete! If you wish to make any changes you have\n					<strong><time-to-go date="::ctrl.stateDates.orgSignupClosedAt"></time-to-go></strong>\n					to make changes to your\n					<a ui-sref="base.app.management.orgApplication">Google Code-in Application</a> and <a ui-sref="base.app.management.orgProfile">Organization Profile</a></p>\n				</p>\n			</div>\n		</div>\n	</md-card-content>\n</md-card>\n'),$templateCache.put("pages/management/dashboard/partials/org-signup-open/program-admin/invite-orgs.html",'<md-card class="dashboard__info">\n	<md-card-content class="md-padding">\n		<h3 class="md-title">INVITE AN ORGANIZATION</h3>\n		<form layout-fill ci-submit="ctrl.inviteOrg($event)" name="adminInviteForm" novalidate>\n			<md-input-container flex>\n				<label>Google Account</label>\n				<input name="orgInviteEmail" ng-model="ctrl.orgInviteEmail" required>\n\n				<div ng-messages="adminInviteForm.orgInviteEmail.$error" ng-show="adminInviteForm.orgInviteEmail.$dirty || adminInviteForm.$submitted">\n					<div ng-messages-include="pages/validation-messages.html"></div>\n				</div>\n			</md-input-container>\n			<md-button type="submit" ng-disabled="!adminInviteForm.$valid || adminInviteForm.$state.inProgress" class="upper accent-button-inverted md-button md-default-theme">\n				<span ng-if="!adminInviteForm.$state.inProgress && !adminInviteForm.$state.success">Send invitation</span>\n				<span ng-if="adminInviteForm.$state.inProgress">Sending...</span>\n				<span ng-if="adminInviteForm.$state.success">Sent!</span>\n			</md-button>\n		</form>\n	</md-card-content>\n</md-card>\n'),$templateCache.put("pages/management/dashboard/partials/org-signup-open/program-admin/orgs_registered.html",'<md-card class="dashboard__info">\n	<md-content class="md-padding" layout="column">\n		<h1 class="md-display-1">Welcome back</h1>\n\n		<p>There\n			<ng-pluralize count="ctrl.allOrganizations.length"\n						  when="{\'one\': \'is\', \'other\': \'are\'}"></ng-pluralize>\n		</p>\n\n		<ng-pluralize class="md-title" count="ctrl.allOrganizations.length"\n'+"					  when=\"{'0': 'No registered organizations', 'one': 'One registered organization', 'other': '{} registered organizations'}\"></ng-pluralize>\n\n		<p>Registration closes</p>\n\n		<div class=\"md-title\">{{ ::ctrl.stateDates.orgSignupClosedAt | codeInDateFormat }}</div>\n	</md-content>\n</md-card>\n"),$templateCache.put("pages/management/dashboard/partials/orgs-published/mentor/tasks.html",'<md-card class="dashboard__info" flex-sm="100">\n	<div class="md-padding">\n		<h2 class="md-headline">Tasks</h2>\n\n		<div ng-hide="ctrl.user.assigned_task_definition_count">\n			<p><i class="material-icons warning">report_problem</i> You do not have any tasks assigned to you.</p>\n			<p>Start creating tasks.</p>\n		</div>\n\n		<div ng-show="ctrl.user.assigned_task_definition_count">\n			<p>\n				You have <a ui-sref="base.app.management.tasks.all({ \'sp-mentors\': ctrl.user.id })">\n					<ng-pluralize count="ctrl.user.assigned_task_definition_count"\n'+"						when=\"{'1': '1 assigned task', 'other': '{} assigned tasks'}\"></ng-pluralize></a>\n			</p>\n			<p>\n				and <a ui-sref=\"base.app.management.tasks.all({ 'sp-mentors': ctrl.user.id, 'sp-status': ctrl.taskDefinitionStatus.DRAFT })\">\n					<ng-pluralize count=\"ctrl.user.draft_assigned_task_definition_count\"\n							when=\"{'0': 'no unpublished tasks', '1': '1 unpublished task', 'other': '{} unpublished tasks'}\"></ng-pluralize>\n				</a>.\n			</p>\n		</div>\n\n		<div ng-if=\"::AppCtrl.tasksAreEditable()\">\n			<md-button class=\"md-primary md-raised\" ui-sref=\"base.app.management.task.edit({ id: 'new'})\">Create task</md-button>\n		</div>\n	</div>\n</md-card>\n"),$templateCache.put("pages/management/dashboard/partials/orgs-published/mentor/welcome.html",'<md-card class="dashboard__info" flex-sm="100">\n	<div class="md-padding">\n		<h1 class="md-display-1">Welcome</h1>\n\n		<p>Contest opens:</p>\n		<div class="md-display-1">{{ ::ctrl.stateDates.competitionOpenAt | codeInDateFormat }}</div>\n		<p>You have <strong><time-to-go date="ctrl.stateDates.competitionOpenAt"></time-to-go></strong> to create your minimum of 75 tasks for the initial launch and invite and assign mentors to the tasks.</p>\n	</div>\n</md-card>\n\n\n'),$templateCache.put("pages/management/dashboard/partials/orgs-published/org-admin/mentor-counts.html",'<md-card class="dashboard__info" flex flex-sm="100">\n	<md-card-content class="md-padding">\n		<h3 class="md-title"><a ui-sref="base.app.management.mentors">Mentors</a></h3>\n\n		<p ng-hide="ctrl.activeMentors.length">You will need to invite all of the mentors that you wish to participate with {{ ctrl.org.name }} for Google Code-in. You can continue to invite mentors throughout the contest period.</p>\n\n		<p ng-show="ctrl.activeMentors.length">\n			You have <a ui-sref="base.app.management.mentors"><ng-pluralize count="ctrl.activeMentors.length" when="{\'1\': \'1 active mentor\', \'other\': \'{} active mentors\'}">\n			</ng-pluralize></a>\n		</p>\n\n		<span flex></span>\n'+"		<member-card role='mentor' org='ctrl.org'></member-card>\n	</md-card-content>\n</md-card>\n"),$templateCache.put("pages/management/dashboard/partials/orgs-published/org-admin/tasks.html",'<md-card class="dashboard__info md-padding">\n	<div layout="row">\n		<div flex="50">\n			<h3 class="md-title upper">Tasks</h3>\n			<p ng-if="ctrl.org.published_task_definition_count < 75"><i class="material-icons warning">report_problem</i> You are <strong>below</strong> the minimum required number of available tasks.</p>\n\n			<p ng-hide="ctrl.org.task_definition_count">\n				Start creating more tasks and publish ASAP. Remember to get a good spread across each of the 5 categories and ensure there are enough beginner tasks.\n			</p>\n\n			<div ng-show="ctrl.org.task_definition_count">\n				<p>\n					There are <a ui-sref="base.app.management.tasks.all({ \'sp-status\':ctrl.taskDefinitionStatus.PUBLISHED })"><ng-pluralize count="ctrl.org.published_task_definition_count"\n						when="{\'0\': \'No published tasks\', \'1\': \'1 published task\', \'other\': \'{} published tasks\'}"></ng-pluralize></a>,\n				</p>\n				<p>\n				and <a ui-sref="base.app.management.tasks.all({ \'sp-status\':ctrl.taskDefinitionStatus.DRAFT })"><ng-pluralize count="ctrl.org.draft_task_definition_count"\n						when="{\'0\': \'No unpublished tasks\', \'1\': \'1 unpublished task\', \'other\': \'{} unpublished tasks\'}"></ng-pluralize>\n				</a></p>\n			</div>\n\n			<md-button ng-if="::AppCtrl.tasksAreEditable()" type="submit" class="upper md-primary"\n				 ui-sref="base.app.management.task.edit(ctrl.org && !AppCtrl.CurrentUser.is_org_admin ? {organization_id: ctrl.org.id, id: \'new\'} : {id: \'new\'})">Create new task</md-button>\n		</div>\n		<div\n		 flex-offset="0"\n		 flex-offset-gt-sm="10"\n		 flex="100"\n		 flex-gt-sm="50"\n		 layout="column"\n		 layout-align="center center"\n		 >\n			<div class="upper" ng-hide="true">\n				Task visualization\n			</div>\n		</div>\n	</div>\n</md-card>\n'),$templateCache.put("pages/management/dashboard/partials/orgs-published/org-admin/welcome.html",'<md-card class="dashboard__info" flex="50" flex-sm="100">\n	<div class="md-padding">\n		<h1 class="md-display-1">Welcome back</h1>\n\n		<p>Contest begins:</p>\n		<div class="md-display-1">{{ ::ctrl.stateDates.competitionOpenAt | codeInDateFormat }}</div>\n		<p>You have <strong><time-to-go date="::ctrl.stateDates.competitionOpenAt"></time-to-go></strong> to create your minimum of 75 tasks for the initial launch and invite and assign mentors to the tasks.</p>\n	</div>\n</md-card>\n\n\n'),$templateCache.put("pages/management/dashboard/partials/orgs-published/program-admin/notify-orgs.html",'<md-card\n class="dashboard__info"\n ng-controller="NotifyOrgsController as ctrl"\n ng-if="!AppCtrl.program.org_confirmation_emails_sent"\n>\n	<md-card-content\n	 class="md-padding"\n	 layout-gt-md="row"\n	 layout-align-gt-md="space-between center"\n	 layout-padding\n	>\n		<div flex-gt-md="55">\n			<h2 class="md-title">Notify organizations of their application result</h2>\n		</div>\n		<div\n			layout="column"\n			layout-align-gt-md="center end"\n			flex-gt-md="45"\n		>\n			<md-button\n			 class="md-primary md-raised"\n			 ng-click="ctrl.send()"\n			 ng-disabled="!isInteractive"\n			>{{ buttonText }}</md-button>\n		</div>\n	</md-card-content>\n</md-card>\n'),$templateCache.put("pages/management/dashboard/partials/orgs-published/program-admin/tasks.html",'<md-card class="dashboard__info md-padding" flex>\n	<div\n	 layout="row"\n	 layout-fill\n	 flex\n	>\n		<div flex="50">\n			<h3 class="md-title upper">Tasks</h3>\n			<p>\n				There are:\n			</p>\n\n			<a ng-if="ctrl.allPublishedTaskDefinitionCount !== null" ui-sref="base.app.management.tasks.all({ \'sp-status\':ctrl.taskDefinitionStatus.PUBLISHED })">\n				<p class="md-title"><ng-pluralize count="ctrl.allPublishedTaskDefinitionCount"\n					when="{\'0\': \'No published tasks\', \'1\': \'1 published task\', \'other\': \'{} published tasks\'}"></ng-pluralize></p>\n			</a>and:<a ng-if="ctrl.allDraftTaskDefinitionCount !== null" ui-sref="base.app.management.tasks.all({ \'sp-status\':ctrl.taskDefinitionStatus.DRAFT })">\n				<p class="md-title"><ng-pluralize count="ctrl.allDraftTaskDefinitionCount"\n					when="{\'0\': \'No unpublished tasks\', \'1\': \'1 unpublished task\', \'other\': \'{} unpublished tasks\'}"></ng-pluralize></p>\n			</a>\n\n			<p ng-if="ctrl.orgsBelowTaskThreshold.length">and <span ng-repeat="org in ctrl.orgsBelowTaskThreshold">{{ $middle ? \', \' : ($last ? \' and \' : \'\') }}<a ui-sref="base.app.management.organizations.detail.tasks({ id: org.id })">{{ org.name }}</a></span>	are below task definition threshold of 75.</p>\n		</div>\n		<div\n		 flex-offset="0"\n		 flex-offset-gt-sm="10"\n		 flex="100"\n		 flex-gt-sm="50"\n		 layout="column"\n		 layout-align="center center"\n		 >\n			<div class="upper" ng-hide="true">\n				Task visualization\n			</div>\n		</div>\n	</div>\n</md-card>\n'),$templateCache.put("pages/management/dashboard/partials/winners-choosing/mentor/top-students.html",'<div flex>\n	<md-card ng-if="ctrl.program.winners_published">\n		<md-card-content>\n			<p class="md-title" layout layout-align="center center"><a ui-sref="base.app.public.winners">Winners have been published.</a></p>\n		</md-card-content>\n	</md-card>\n	<md-card ng-repeat="org in ctrl.orgs">\n		<md-card-content>\n			<h3 class="md-title">Top students for {{ org.name }}</h3>\n\n			<md-list class="dashboard__list" ng-show="!org.findingTopStudents">\n				<md-list-item class="dashboard__list__row" flex layout="row" ng-repeat="student in org.topStudents" ng-if="student.completed_task_instance_count > 0">\n					<div flex><a ui-sref="base.app.management.taskInstance.list.completed({\'sp-claimed_by\': student.student.id})">{{ student.student.display_name }}</a></div>\n					<div flex layout="row" layout-align="end">\n						<div class="dashboard__icon" layout="row" layout-align="end center">\n							<div class="dashboard__icon__text">{{ student.completed_task_instance_count }}</div>\n							<i class="material-icons">assignment</i>\n							<md-tooltip>\n								Completed tasks\n							</md-tooltip>\n						</div>\n					</div>\n				</md-list-item>\n			</md-list>\n			<div ng-show="org.findingTopStudents" flex layout layout-align="center center">\n				<md-progress-circular md-mode="indeterminate"></md-progress-circular>\n			</div>\n		</md-card-content>\n	</md-card>\n</div>\n'),$templateCache.put("pages/management/dashboard/partials/winners-choosing/org-admin/_winner-select.html",'<md-select ng-disabled="::AppCtrl.program.winners_selection_locked" ng-model="ctrl.winnersSelected[winnerType]" aria-label="Please select winner">\n	<md-option ng-value="null">(No winner selected)</md-option>\n	<md-option ng-repeat="student in ctrl.topStudents[winnerType]" ng-value="{{ student.student.id }}">\n		{{ student.student.display_name }}\n	</md-option>\n</md-select>\n'),$templateCache.put("pages/management/dashboard/partials/winners-choosing/org-admin/top-students.html",'<md-card flex>\n	<md-card-content>\n		<h3 class="md-title">Top students</h3>\n\n		<md-list class="dashboard__list" ng-show="!ctrl.findingTopStudents">\n			<md-list-item class="dashboard__list__row" flex layout="row" ng-repeat="student in ctrl.topStudents.all" ng-if="student.completed_task_instance_count > 0">\n				<div flex><a ui-sref="base.app.management.taskInstance.list.completed({\'sp-claimed_by\': student.student.id})">{{ student.student.display_name }}</a></div>\n				<div flex layout="row" layout-align="end">\n					<div class="dashboard__icon" layout="row" layout-align="end center">\n						<div class="dashboard__icon__text">{{ student.completed_task_instance_count }}</div>\n						<i class="material-icons">assignment</i>\n						<md-tooltip>\n							Completed tasks\n						</md-tooltip>\n					</div>\n				</div>\n			</md-list-item>\n		</md-list>\n		<div ng-show="ctrl.findingTopStudents" flex layout layout-align="center center">\n			<md-progress-circular md-mode="indeterminate"></md-progress-circular>\n		</div>\n	</md-card-content>\n</md-card>\n'),
$templateCache.put("pages/management/dashboard/partials/winners-choosing/org-admin/welcome.html",'<md-card flex>\n	<md-card-content>\n		<h1 class="md-display-1">Welcome back</h1>\n\n		<div ng-if="ctrl.program.winners_choosing">\n			<p>Winners published on:</p>\n			<div class="md-display-1">{{ ::ctrl.stateDates.winnersPublishedOpenAt | codeInDateFormat }}</div>\n			<p>Please choose your winners by <strong><time datetime="{{ ::ctrl.submitWinnersDeadline }}">{{ ctrl.submitWinnersDeadline | codeInDateFormat }}</time></strong>.\n				You have <strong><time-to-go date="ctrl.submitWinnersDeadline" time-exhausted-text="no time left"></time-to-go></strong> to choose the winners.</p>\n		</div>\n\n		<div ng-if="ctrl.program.winners_published">\n			<p class="md-headline"><a ui-sref="base.app.public.winners">Winners have been published.</a></p>\n		</div>\n	</md-card-content>\n</md-card>\n'),$templateCache.put("pages/management/dashboard/partials/winners-choosing/org-admin/winners-corner.html",'<md-card flex class="winners-corner">\n	<md-card-content>\n		<h3 class="md-title">Winners corner</h3>\n\n		<form ng-show="!ctrl.findingTopStudents" ci-submit="ctrl.saveOwnWinners($event)" name="ctrl.winnersForm" novalidate form-focus-invalid>\n			<p ng-show="::!AppCtrl.program.winners_selection_locked">Choose which of your students you think deserve to win:</p>\n			<p ng-show="::AppCtrl.program.winners_selection_locked">Winners selected.</p>\n			<h4 class="winners-corner__subtitle md-subhead">Winners</h4>\n			<div ng-repeat="winnerType in [\'winner_1\', \'winner_2\']" ng-include="\'pages/management/dashboard/partials/winners-choosing/org-admin/_winner-select.html\'"></div>\n\n			<h4 class="winners-corner__subtitle md-subhead">Reserve Winner (Finalist)</h4>\n			<div ng-repeat="winnerType in [\'runner_up\']" ng-include="\'pages/management/dashboard/partials/winners-choosing/org-admin/_winner-select.html\'"></div>\n\n			<h4 class="winners-corner__subtitle md-subhead">Finalists</h4>\n			<div ng-repeat="winnerType in [\'finalist_1\', \'finalist_2\']" ng-include="\'pages/management/dashboard/partials/winners-choosing/org-admin/_winner-select.html\'"></div>\n\n			<md-button type="submit" class="md-primary md-raised" ng-disabled="AppCtrl.program.winners_selection_locked || !ctrl.winnersForm.$dirty || !ctrl.winnersForm.$valid || ctrl.winnersForm.$state.inProgress" aria-label="Save winners">\n				<span ng-if="!ctrl.winnersForm.$state.inProgress && !ctrl.winnersForm.$state.success">Save</span>\n				<span ng-if="ctrl.winnersForm.$state.inProgress">Saving...</span>\n				<span ng-if="ctrl.winnersForm.$state.success">Saved!</span>\n			</md-button>\n		</form>\n		<div ng-show="ctrl.findingTopStudents" flex layout layout-align="center center">\n			<md-progress-circular md-mode="indeterminate"></md-progress-circular>\n		</div>\n	</md-card-content>\n</md-card>\n'),$templateCache.put("pages/management/dashboard/partials/winners-choosing/program-admin/_winner-select.html",'<md-input-container class="md-block winner-select-container">\n	<md-select ng-model="org.winnersSelected[winnerType]" ng-disabled="ctrl.program.winners_published" aria-label="Select winner">\n		<md-option ng-value="null">(No winner selected)</md-option>\n		<md-option ng-repeat="student in org.topStudents" value="{{ student.student.id }}">\n			{{ student.student.display_name }}\n		</md-option>\n	</md-select>\n	<div ng-show="ctrl.isDuplicatedWinner(org.winnersSelected[winnerType])" class="winner-duplicate-warning warning md-caption">This winner is duplicated</div>\n</md-input-container>\n'),$templateCache.put("pages/management/dashboard/partials/winners-choosing/program-admin/status.html",'<md-card flex>\n	<md-card-content>\n		<h1 class="md-display-1">Welcome</h1>\n\n		<div ng-if="ctrl.program.winners_choosing">\n			<p>Winners need to be published by:</p>\n			<div class="md-display-1">{{ ::ctrl.stateDates.winnersPublishedOpenAt | codeInDateFormat }}</div>\n		</div>\n\n		<div ng-if="ctrl.program.winners_published">\n			<p class="md-headline"><a ui-sref="base.app.public.winners">Winners have been published.</a></p>\n		</div>\n\n		<p ng-if="ctrl.allPublishedTaskDefinitionCount !== null && ctrl.tasksWithNoInstancesCount !== null">\n			There were\n			<a class="dashboard-status-big-links"\n				ui-sref="base.app.management.tasks.all({\'sp-status\': ctrl.taskDefinitionStatus.PUBLISHED})"\n			><ng-pluralize count="ctrl.allPublishedTaskDefinitionCount"\n					when="{\'0\': \'no tasks\', \'1\': \'1 task\', \'other\': \'{} tasks\'}"\n				></ng-pluralize></a>\n			created and\n			<span class="dashboard-status-big-links">\n				<ng-pluralize count="ctrl.tasksWithNoInstancesCount"\n					when="{\'0\': \'no unclaimed tasks\', \'1\': \'1 unclaimed task\', \'other\': \'{} unclaimed tasks\'}"\n				></ng-pluralize>.\n			</span>\n		</p>\n		<div layout-sm="column" layout-gt-sm="row" layout layout-align="space-between center">\n			<div>\n				<md-switch\n					ng-if="!ctrl.program.winners_published"\n					ng-disabled="ctrl.program.winners_and_finalist_emails_sent"\n					ng-model="ctrl.winnersSelectionLocked"\n					aria-label="Lock winners selection for Organization Admins"\n				>Lock winners selection for Organization Admins</md-switch>\n			</div>\n			<md-button\n				ng-if="!ctrl.program.winners_and_finalist_emails_sent"\n				class="md-raised md-primary"\n				ng-disabled="!ctrl.winnersSelectionLocked"\n				ng-click="ctrl.sendWinnersEmails()"\n				>Finalize winners and send emails</md-button>\n			<div ng-if="ctrl.program.winners_and_finalist_emails_sent"><strong>Winners emails sent</strong></div>\n		</div>\n	</md-card-content>\n</md-card>\n'),$templateCache.put("pages/management/dashboard/partials/winners-choosing/program-admin/winners.html",'<md-card flex>\n	<md-card-content>\n		<div layout="horizontal">\n			<h2 flex class="md-headline winners-headline">Winners</h2>\n			<a\n				ui-sref="base.app.management.winnersPreview"\n				class="md-secondary"\n				md-button\n			>Preview</a>\n		</div>\n\n		<p ng-show="ctrl.duplicatedWinners.length > 0" class="warning">One or more prizes have been won by the same students. Please check and select different winners.</p>\n\n		<div ng-repeat="org in ctrl.shortListedOrgs">\n			<h3 class="md-title">{{ org.name }}</h3>\n			<div ng-show="org.savingWinners">\n				<md-progress-linear md-mode="indeterminate"></md-progress-linear>\n			</div>\n			<div layout-gt-sm="row" layout="column" layout-align="space-between" layout-padding ng-if="org.winnersSelected && !org.findingTopStudents">\n				<div flex>\n					<h4 class="md-subhead winner-type-title">Winners</h4>\n					<div ng-repeat="winnerType in [\'winner_1\', \'winner_2\']" ng-include="\'pages/management/dashboard/partials/winners-choosing/program-admin/_winner-select.html\'"></div>\n					<h4 class="md-subhead winner-type-title">Backup winner (finalist)</h4>\n					<div ng-repeat="winnerType in [\'runner_up\']" ng-include="\'pages/management/dashboard/partials/winners-choosing/program-admin/_winner-select.html\'"></div>\n					<h4 class="md-subhead winner-type-title">Finalists</h4>\n					<div ng-repeat="winnerType in [\'finalist_1\', \'finalist_2\']" ng-include="\'pages/management/dashboard/partials/winners-choosing/program-admin/_winner-select.html\'"></div>\n				</div>\n				<div flex>\n					<h4 class="md-subhead winner-type-title">Top students</h4>\n					<md-list class="dashboard__list">\n						<md-list-item class="dashboard__list__row" flex layout="row" ng-repeat="student in org.topStudents" ng-if="student.completed_task_instance_count > 0">\n							<div flex><a ui-sref="base.app.management.students.profile.detail({ id: student.student.id })">{{ student.student.display_name }}</a></div>\n							<div flex layout="row" layout-align="end">\n								<a class="winner-tasks-link" ui-sref="base.app.management.taskInstance.list.completed({\'sp-claimed_by\': student.student.id})">\n									<div class="dashboard__icon" layout="row" layout-align="end center">\n										<div class="dashboard__icon__text">{{ student.completed_task_instance_count }}</div>\n										<i class="material-icons">assignment</i>\n										<md-tooltip>\n											Completed tasks\n										</md-tooltip>\n									</div>\n								</a>\n							</div>\n						</md-list-item>\n					</md-list>\n				</div>\n			</div>\n			<div ng-if="!org.winnersSelected">\n				<p>Winners not yet selected by organization.</p>\n			</div>\n			<div ng-if="org.findingTopStudents" layout layout-align="center center">\n				<md-progress-circular md-mode="indeterminate"></md-progress-circular>\n			</div>\n		</div>\n	</md-card-content>\n</md-card>\n'),$templateCache.put("pages/management/mentors/pages.mentor-emails.html",'<md-dialog aria-label="Member emails" md-theme="codein" flex>\n	<md-dialog-content>\n		<md-input-container class="md-block" flex>\n			<label>Member emails</label>\n			<textarea readonly ng-model="emails"></textarea>\n		</md-input-container>\n	</md-dialog-content>\n</md-dialog>\n'),$templateCache.put("pages/management/mentors/pages.mentors.html",'<h1 transclude-send="page-title">Members</h1>\n<page-search\n search-term=\'MentorsController.searchParams.search\'\n></page-search>\n<div\n flex-offset-gt-lg="5"\n flex-gt-lg="90"\n>\n	<h1 transclude-send="page-title">\n		Members\n		<span ng-if="AppCtrl.CurrentUser.is_program_admin && MentorsController.org"> for {{ MentorsController.org.name }}</span>\n	</h1>\n	<md-card>\n		<item-table>\n			<ci-data-table-header>\n				<ci-data-table-title>Members</ci-data-table-title>\n			</ci-data-table-header>\n\n			<ci-data-table-body\n			 cols="MentorsController.tableConfig"\n			 order-by="MentorsController.searchParams.order"\n			 items="MentorsController.mentors"\n			 deferred="MentorsController.mentors.$promise"\n			 selected="MentorsController.selected"\n			 locals="MentorsController.columnLocals"\n			>\n				<ci-data-table-cell-template\n				 cell-id="display_name"\n				>\n					{{ listItem.profile.display_name }}\n					<span ng-show="listItem.profile.is_disabled">(Frozen Account)</span>\n				</ci-data-table-cell-template>\n\n				<ci-data-table-cell-template\n				 cell-id="first_name"\n				>\n					{{ listItem.profile.given_name }}\n				</ci-data-table-cell-template>\n\n				<ci-data-table-cell-template\n				 cell-id="last_name"\n				>\n					{{ listItem.profile.other_names }}\n				</ci-data-table-cell-template>\n\n				<ci-data-table-cell-template\n				 cell-id="role"\n				 >\n					<span ng-show="listItem.is_admin">Administrator</span>\n					<span ng-show="listItem.is_mentor">Mentor</span>\n				</ci-data-table-cell-template>\n\n				<ci-data-table-cell-template\n				 cell-id="email"\n				>\n					{{ listItem.profile.email }}\n				</ci-data-table-cell-template>\n\n			</ci-data-table-body>\n\n			<ci-data-table-footer\n			 model="MentorsController.mentors"\n			 search-model="::MentorsController.searchModel"\n			 search-params="MentorsController.searchParams"\n			 ignored-url-params="MentorsController.ignoredUrlParams"\n			></ci-data-table-footer>\n		</item-table>\n	</md-card>\n	<md-button ng-click="MentorsController.showEmails($event)">View all Member emails</md-button>\n</div>\n'),$templateCache.put("pages/management/org-application/pages.org-application.html",'<h1 transclude-send="page-title">Your Google Code-in {{AppCtrl.program.year}} Application</h1>\n<div flex layout="column" layout-gt-sm="row" class="admin-form fixed-outer-width">\n	<div flex flex-gt-sm="65" flex-order="1" flex-order-gt-sm="0">\n		<md-card class="form-panel form-left-panel">\n			<md-card-content layout-padding class="md-padding">\n\n				<p ng-show="applicationForm.$submitted && applicationForm.$invalid" class="errors">This form has errors</p>\n\n				<form class="signup__form" ci-submit="OrgApplicationCtrl.submit($event)"\n					  name="applicationForm" novalidate form-focus-invalid>\n\n					<h2 class="md-title">General Information</h2>\n					<md-input-container flex>\n						<label id="generalWhy">\n							Why does your organization want to participate in Google Code-in {{AppCtrl.program.year}}?\n						</label>\n						<textarea md-maxlength="500"\n								  ng-model="OrgApplicationCtrl.formData.why_do_you_want_to_participate"\n								  name="general_why">\n						</textarea>\n\n						<div ng-messages="applicationForm.general_why.$error"\n							 ng-if="(applicationForm.general_why.$dirty || applicationForm.$submitted) && !AppCtrl.isEmpty(applicationForm.general_why.$error)">\n							<div ng-messages-include="pages/validation-messages.html"></div>\n						</div>\n					</md-input-container>\n\n					<md-input-container flex>\n						<label id="generalHow">How has your organization prepared for Google Code-in {{AppCtrl.program.year}}?</label>\n						<textarea md-maxlength="500" ng-model="OrgApplicationCtrl.formData.how_have_you_prepared"\n								  name="general_how">\n						</textarea>\n\n						<div ng-messages="applicationForm.general_how.$error"\n							 ng-if="(applicationForm.general_how.$dirty || applicationForm.$submitted) && !AppCtrl.isEmpty(applicationForm.general_how.$error)">\n							<div ng-messages-include="pages/validation-messages.html"></div>\n						</div>\n					</md-input-container>\n\n						<h2 class="md-title">Prior Experience</h2>\n						<md-input-container flex>\n							<p id="priorGCI">Has your organization participated in Google Code-in before?</p>\n							<md-radio-group\n									ng-model="OrgApplicationCtrl.formData.participated_in_codein_before"\n									name="prior_code_ins"\n									ng-change="OrgApplicationCtrl.resetCodeInYears()">\n								<md-radio-button ng-value="{{true}}" class="md-primary">Yes</md-radio-button>\n								<md-radio-button ng-value="{{false}}" class="md-primary">No</md-radio-button>\n							</md-radio-group>\n							<div ng-messages="applicationForm.prior_code_ins.$error"\n								 ng-if="(applicationForm.prior_code_ins.$dirty || applicationForm.$submitted) && !AppCtrl.isEmpty(applicationForm.prior_code_ins.$error)"\n								 aria-live="assertive" class="ng-active" aria-hidden="false">\n								<div ng-messages-include="pages/validation-messages.html"></div>\n							</div>\n						</md-input-container>\n\n						<md-input-container ng-show="OrgApplicationCtrl.formData.participated_in_codein_before" flex>\n							<p id="participated_in_codein_years">In which years did your organization participate in Code-In?</p>\n							<md-checkbox\n									class="md-primary"\n									ng-model="OrgApplicationCtrl.formData.participated_in_codein_years[$index]"\n									ng-true-value="{{::year}}"\n									aria-label="Code In {{::year}}"\n									ng-repeat="year in OrgApplicationCtrl.formConfig.previous_codein_years">\n								{{::year}}\n							</md-checkbox>\n						</md-input-container>\n\n						<md-input-container flex>\n							<p id="prior_highly_open">Has your organization participated in Google Summer of Code before?</p>\n							<md-radio-group ng-model="OrgApplicationCtrl.formData.participated_in_highly_open"\n											name="prior_highly_open">\n								<md-radio-button ng-value="{{true}}" class="md-primary">Yes</md-radio-button>\n								<md-radio-button ng-value="{{false}}" class="md-primary">No</md-radio-button>\n							</md-radio-group>\n							<div ng-messages="applicationForm.prior_highly_open.$error"\n								 ng-if="(applicationForm.prior_highly_open.$dirty || applicationForm.$submitted) && !AppCtrl.isEmpty(applicationForm.prior_highly_open.$error)"\n								 aria-live="assertive" class="ng-active" aria-hidden="false">\n								<div ng-messages-include="pages/validation-messages.html"></div>\n							</div>\n						</md-input-container>\n\n						<md-input-container flex ng-if="OrgApplicationCtrl.formData.participated_in_highly_open">\n							<p id="participated_in_soc_years">In which years did your organization participate in Google Summer of\n								Code?</p>\n							<md-checkbox\n									class="md-primary"\n									ng-model="OrgApplicationCtrl.formData.participated_in_soc_years[$index]"\n									ng-true-value="{{::year}}"\n									aria-label="Summer of Code {{::year}}"\n									ng-repeat="year in OrgApplicationCtrl.formConfig.previous_soc_years">\n								{{::year}}\n							</md-checkbox>\n						</md-input-container>\n\n						<h2 class="md-title">Mentors</h2>\n						<md-input-container>\n							<label id="mentorCount">How many mentors have agreed to participate?</label>\n							<md-select ng-model="OrgApplicationCtrl.formData.how_many_mentors">\n								<md-option ng-value="mentor"\n										   ng-repeat="mentor in OrgApplicationCtrl.formConfig.how_many_mentors">{{ mentor }}\n								</md-option>\n							</md-select>\n						</md-input-container>\n\n						<md-input-container flex>\n							<label id="assistStudents">How do you plan to deal with any holidays or vacations mentors may have planned during the contest period?</label>\n							<textarea class="flex" md-maxlength="500" ng-model="OrgApplicationCtrl.formData.how_do_you_plan_to_assist_students"\n									  name="assist_students"\n			  						  rows="3">\n							</textarea>\n\n							<div ng-messages="applicationForm.assist_students.$error"\n								 ng-if="(applicationForm.assist_students.$dirty || applicationForm.$submitted) && !AppCtrl.isEmpty(applicationForm.assist_students.$error)">\n								<div ng-messages-include="pages/validation-messages.html"></div>\n							</div>\n						</md-input-container>\n						<md-input-container flex>\n							<label id="unresponsiveMentors">How do you plan to deal with unresponsive mentors?</label>\n							<textarea class="flex" md-maxlength="500" ng-model="OrgApplicationCtrl.formData.how_to_deal_with_unresponsive_members"\n									  name="unresponsive_students"\n			  						  rows="3">\n							</textarea>\n							<div ng-messages="applicationForm.unresponsive_students.$error"\n								 ng-if="(applicationForm.unresponsive_students.$dirty || applicationForm.$submitted) && !AppCtrl.isEmpty(applicationForm.unresponsive_students.$error)">\n								<div ng-messages-include="pages/validation-messages.html"></div>\n							</div>\n						</md-input-container>\n\n						<h2>Example Tasks</h2>\n\n						<p>We would like to see 25 example tasks.</p>\n\n						<div layout="row" layout-align="start middle">\n							<md-input-container class="has-tooltip" flex>\n								<label id="examplesUrl">URL to sample tasks page</label>\n								<input ng-model="OrgApplicationCtrl.formData.example_tasks_url"\n									   name="example_tasks_url" http-prefix>\n\n								<div ng-messages="applicationForm.example_tasks_url.$error"\n									 ng-if="(applicationForm.example_tasks_url.$dirty || applicationForm.$submitted) && !AppCtrl.isEmpty(applicationForm.example_tasks_url.$error)">\n									<div ng-messages-include="pages/validation-messages.html"></div>\n									<div ng-message="server">{{applicationForm.example_tasks_url.serverErrorMsg}}</div>\n								</div>\n\n								<tooltip-help>Provide a link to a web page describing at least 25 sample tasks for your organization. Be sure to include tasks from all 5 categories.</tooltip-help>\n							</md-input-container>\n						</div>\n\n						<md-button type="submit" class="md-primary md-raised" ng-disabled="!applicationForm.$dirty || !applicationForm.$valid || applicationForm.$state.inProgress" aria-label="Save">\n							<span ng-if="!applicationForm.$state.inProgress && !applicationForm.$state.success">Save</span>\n							<span ng-if="applicationForm.$state.inProgress">Saving...</span>\n							<span ng-if="applicationForm.$state.success">Saved!</span>\n						</md-button>\n				</form>\n			</md-card-content>\n		</md-card>\n	</div>\n	<div flex flex-gt-sm="35">\n		<md-card sticky-panel class="form-panel">\n			<md-card-content layout-align="start start" layout-padding>\n				<form-progress title="{{ ::OrgApplicationCtrl.formProgressTitle }}"\n							   warning-text="Without this information we cannot review your application"\n							   no-progress-bar>\n					<form-progress-item ng-repeat="item in OrgApplicationCtrl.validationCriteria"\n							form-item="OrgApplicationCtrl.formData"\n							item-key="{{ item.key }}"\n							item-config="item.config"\n							item-validation="item.validation"\n							item-dependency="item.dependency">\n					</form-progress-item>\n				</form-progress>\n				<div class="progress-complete" ng-show="OrgApplicationCtrl.formData.is_application_complete && !applicationForm.$dirty" layout="column" layout-align="center center">\n					<p>You\'re done here!</p>\n					<md-button ui-sref="base.app.management.dashboard" class="md-primary">View the dashboard</md-button>\n				</div>\n			</md-card-content>\n		</md-card>\n	</div>\n</div>\n'),$templateCache.put("pages/management/org-applications-management/pages-application-management-base.html",'<tab-nav>\n	<tab-nav-item\n	 sref="base.app.management.orgApplicationsManagement.complete"\n	 title="Complete"\n	></tab-nav-item>\n\n	<tab-nav-item\n	 sref="base.app.management.orgApplicationsManagement.shortlist"\n	 title="Shortlist"\n	></tab-nav-item>\n\n	<tab-nav-item\n	 sref="base.app.management.orgApplicationsManagement.incomplete"\n	 title="Incomplete"\n	></tab-nav-item>\n</tab-nav>\n<div class="fixed-outer-width tab-panel app-body__space-above">\n	<md-card>\n		<ui-view></ui-view>\n	</md-card>\n</div>\n'),$templateCache.put("pages/management/org-applications-management/pages.org-applications-management.html",'<h1 transclude-send="page-title">Organization applications</h1>\n<div class="org-application__list">\n	<div class="item-table-body">\n		<accordion>\n			<accordion-empty>\n				<h2>No organizations</h2>\n			</accordion-empty>\n			<accordion-group ng-repeat="org in ManageOrgApplicationsCtrl.orgs | filter:{\'name\': searchText}"\n							 class=\'item-table-item org-application__item\'\n							 initially-open="org.id===ManageOrgApplicationsBaseCtrl.expandOrgId"\n							 scroll-if="org.id===ManageOrgApplicationsBaseCtrl.expandOrgId">\n				<accordion-heading on-open="ManageOrgApplicationsBaseCtrl.getOrgAdmins(org)">\n					<h2 class="item-table-item-title no-space">{{::org.name}}</h2>\n					<span flex></span>\n					<md-button ui-sref="base.app.management.organizations.detail.profile({id: org.id})">Profile</md-button>\n					<div class="no-space org-application__shortlist"\n						ng-if="AppCtrl.program.org_approval"\n						layout-align="end center"\n						layout="row">\n						<md-button ng-click="ManageOrgApplicationsBaseCtrl.toggleOrgListing(org)">\n							{{org.status === ManageOrgApplicationsBaseCtrl.CONSTANTS.DEFAULT_STATE ? \'Shortlist\' : \'Delist\'}}\n						</md-button>\n					</div>\n				</accordion-heading>\n				<md-content class="org-application__detail">\n\n					<div class="org-application__info">\n						<div layout="row"\n							 layout-align="start center" class="org-application__info__header">\n							<a class="org-application__website"\n							   href="{{ ::org.website_url }}" ng-if="org.website_url">\n								{{ ::org.website_url }}\n							</a>\n							<span class="org-application__website" ng-if="!org.website_url">No url added</span>\n							<span class="org-application__languages">{{ ::(org.programming_languages.length ? org.programming_languages.join(\',\') : \'-\') }}</span>\n							|<span\n								class="org-application__license">{{ ::org.primary_open_source_license || \'-\' }}</span>|\n							<a class="org-application__view_tasks"\n							   href="{{ ::org.example_tasks_url }}" ng-if="org.example_tasks_url">\n								View sample tasks\n							</a>\n						</div>\n\n						<div flex layout="row" class="org-application__info__main">\n\n							<div class="org-application__contact">\n\n							</div>\n							<div flex="80" class="org-application__precis">\n								{{ ::org.precis }}\n							</div>\n\n							<div flex="20" layout-align="end center" class="org-application__stats">\n								<div class="org-application__how-many-mentors">\n									{{ ::org.how_many_mentors || "-" }} mentors\n								</div>\n								<div class="org-application__gci-years">\n									GCI participant {{ ::org.participated_in_codein_years | min }}-{{ ::org.participated_in_codein_years|max }}\n								</div>\n								<div class="org-gsoc-years">\n									GSOC participant {{ ::org.participated_in_soc_years | min }}-{{ ::org.participated_in_soc_years|max }}\n								</div>\n							</div>\n						</div>\n\n						<span flex></span>\n\n						<div class="org-application__info__sidebar">\n\n						</div>\n					</div>\n\n					<div class="org-application__application">\n						<h3>Application</h3>\n						<div class="org-application__why-take-part">\n							<h4>Why they would like to take part</h4>\n\n							<p>{{ ::org.why_do_you_want_to_participate }}</p>\n						</div>\n						<div\n								class="org-application__how-prepared">\n							<h4>How have they prepared?</h4>\n\n							<p>{{ ::org.how_have_you_prepared }}</p>\n						</div>\n						<div\n								class="org-application__assisting-students">\n							<h4>Assisting students outside of term time</h4>\n\n							<p>{{ ::org.how_do_you_plan_to_assist_students }}</p>\n						</div>\n						<div\n								class="org-application__unresponsive-mentors">\n							<h4>Dealing with unresponsive mentors</h4>\n\n							<p>{{ ::org.how_to_deal_with_unresponsive_members }}</p>\n						</div>\n					</div>\n					<div class="org-application__admins">\n						<h3>Organization Administrators</h3>\n						<div layout layout-wrap>\n							<div ng-repeat="org_admin in org.admins" class="md-padding">\n								<div>{{ org_admin.profile.display_name }} <strong>{{ org_admin.status == ManageOrgApplicationsBaseCtrl.membershipStatus.PENDING ? \'(Pending)\':\'\' }}</strong></div>\n								<div><a href="mailto:{{ org_admin.profile.email }}">{{ org_admin.profile.email }}</a></div>\n							</div>\n							<div ng-if="ManageOrgApplicationsBaseCtrl.loadingAdmins(org)">\n								<md-progress-circular class="md-hue-2" md-mode="indeterminate"></md-progress-circular>\n							</div>\n						</div>\n					</div>\n					<div class="org-application__profile">\n						<h3>Profile</h3>\n						<org-detail id="org.id"></org-detail>\n					</div>\n				</md-content>\n			</accordion-group>\n		</accordion>\n	</div>\n</div>\n'),$templateCache.put("pages/management/org-detail/pages.org-detail.html",'<h1 transclude-send="page-title">Organization</h1>\n\n<div transclude-send="page-sub-nav" ng-if="AppCtrl.program.orgs_published">\n	<md-button\n		ui-sref="base.app.management.organizations.detail.tasks"\n		ui-sref-active="active"\n		>Tasks</md-button>\n	<md-button\n		ui-sref="base.app.management.organizations.detail.mentors"\n		ui-sref-active="active"\n		>{{ AppCtrl.CurrentUser.is_program_admin ? \'Members\' : \'Mentors\' }}</md-button>\n	<md-button\n		ui-sref="base.app.management.organizations.detail.profile"\n		ui-sref-active="active"\n		>Profile</md-button>\n</div>\n\n<div ui-view></div>\n'),$templateCache.put("pages/management/org-list/pages.org-list.html",'<h1 transclude-send="page-title">Organizations</h1>\n\n<md-sidenav md-component-id="filterpanel" class="md-sidenav-right">\n	<task-filter\n		model="ctrl.data.searchModel"\n		on-change="ctrl.onFilterStateChange(state)"\n		control-config="ctrl.data.controlConfig"\n	></task-filter>\n</md-sidenav>\n<div\n flex-offset-gt-lg="5"\n flex-gt-lg="90"\n>\n	<md-card>\n		<item-table>\n			<ci-data-table-header>\n\n				<ci-data-table-title>Organizations</ci-data-table-title>\n\n				<ci-data-table-header-actions>\n					<div ng-if="AppCtrl.page.user.is_program_admin || AppCtrl.page.user.is_mentor">\n						<md-button class="md-icon-button" ng-click="OrgListCtrl.openFiltersPanel()">\n							<i class="material-icons">filter_list</i>\n						</md-button>\n					</div>\n				</ci-data-table-header-actions>\n\n			</ci-data-table-header>\n\n			<ci-data-table-body\n			 cols="OrgListCtrl.data.tableConfig"\n			 order-by="OrgListCtrl.data.findParams.order"\n			 items="OrgListCtrl.orgs"\n			>\n				<ci-data-table-cell-template\n				 cell-id="name"\n				>\n					<a ui-sref="base.app.management.organizations.detail.tasks({ id: listItem.id })">\n						{{ listItem.name }}\n					</a>\n				</ci-data-table-cell-template>\n\n			</ci-data-table-body>\n\n			<ci-data-table-footer\n			 model="OrgListCtrl.orgs"\n			 search-model="::OrgListCtrl.data.searchModel"\n			 search-params="::OrgListCtrl.data.findParams"\n			 ignored-url-params="::OrgListCtrl.ignoredUrlParams"\n			></ci-data-table-footer>\n		</item-table>\n	</md-card>\n</div>\n'),$templateCache.put("pages/management/org-profile/pages.org-profile.html",'<h1 transclude-send="page-title">\n	Organization Profile\n	<span ng-if="AppCtrl.CurrentUser.is_program_admin"> for {{ OrgProfileCtrl.formData.name }}</span>\n</h1>\n<div layout-gt-sm="row" layout="column" class="admin-form fixed-outer-width">\n	<div flex flex-gt-sm="{{ ::AppCtrl.program.org_signup_open ? 65 : 100 }}" flex-order="1" flex-order-gt-sm="0">\n		<md-card class="form-panel form-left-panel">\n			<md-card-content class="md-padding">\n				<p ng-if="orgProfileForm.$submitted && orgProfileForm.$invalid" class="errors">This form has errors</p>\n\n				<form class="signup__form" ci-submit="OrgProfileCtrl.submit()"\n					  name="orgProfileForm" novalidate form-focus-invalid>\n\n					<h2 class="md-title">Public profile</h2>\n\n					<md-input-container flex>\n						<label id="website_url">Website URL</label>\n						<input http-prefix ng-model="OrgProfileCtrl.formData.website_url" name="website_url" ng-required="OrgProfileCtrl.enforceValidation">\n\n						<div ng-messages="orgProfileForm.website_url.$error"\n							 ng-if="OrgProfileCtrl.showErrorsForField(orgProfileForm.website_url)">\n							<div ng-messages-include="pages/validation-messages.html"></div>\n							<div ng-message="server">{{orgProfileForm.website_url.serverErrorMsg}}</div>\n						</div>\n					</md-input-container>\n\n					<div ng-show="OrgProfileCtrl.formData.image_url" class="logo-preview-wrapper">\n						<img class="logo-preview org-logo-with-preview" ng-src="{{OrgProfileCtrl.formData.image_url}}">\n					</div>\n					<div layout="row">\n						<md-button id="logo-img" type="button" ng-click="showUploadModal()">Logo</md-button>\n						<md-input-container class="has-tooltip" flex>\n							<input type="hidden" name="logo" ng-model="OrgProfileCtrl.formData.image_url" ng-required="OrgProfileCtrl.enforceValidation" aria-label="Logo">\n							<div ng-messages="orgProfileForm.logo.$error"\n								 ng-if="OrgProfileCtrl.showErrorsForField(orgProfileForm.logo)">\n								<div ng-messages-include="pages/validation-messages.html"></div>\n							</div>\n							<tooltip-help>\n							Your organization logo. Please provide as a 24-bit PNG (against transparent background), 1:1 ratio (minimum dimensions: 300px x 300px).\n							</tooltip-help>\n						</md-input-container>\n					</div>\n\n					<div layout="row">\n						<md-input-container class="has-tooltip" flex>\n							<label id="precis">Short Description</label>\n							<input md-maxlength="200" ng-model="OrgProfileCtrl.formData.precis" name="precis" ng-required="OrgProfileCtrl.enforceValidation">\n\n							<div ng-messages="orgProfileForm.precis.$error"\n								 ng-if="OrgProfileCtrl.showErrorsForField(orgProfileForm.precis)">\n								<div ng-messages-include="pages/validation-messages.html"></div>\n							</div>\n\n							<tooltip-help>A one line description of your organization.</tooltip-help>\n						</md-input-container>\n\n					</div>\n\n					<div layout="row" layout-align="center start">\n						<md-input-container class="has-tooltip" flex>\n							<label id="description">Long Description</label>\n							<textarea class="flex long-description" md-markdown-maxlength="1500" ng-model="OrgProfileCtrl.formData.description" ng-required="OrgProfileCtrl.enforceValidation" name="description" rows="3">\n							</textarea>\n							<div ng-messages="orgProfileForm.description.$error"\n								 ng-if="OrgProfileCtrl.showErrorsForField(orgProfileForm.description)">\n								<div ng-messages-include="pages/validation-messages.html"></div>\n							</div>\n\n							<tooltip-help>An overview of your organization. May include <a tabindex="-1" href="https://docs.google.com/document/d/1tmBeOfEqrhHwtXtnm07V2PLFZXUGxz2SLuWsA-uBTT8/pub" target="_blank">limited Markdown</a>.</tooltip-help>\n						</md-input-container>\n						<md-button order="2" tabindex="-1" class="md-primary md-icon-button description-preview" type="button" ng-click="OrgProfileCtrl.showMarkdownPreview(OrgProfileCtrl.formData.description)">\n							<i class="material-icons">open_in_new</i>\n							<md-tooltip>Preview description</md-tooltip>\n						</md-button>\n					</div>\n\n					<div class="chips-container" ng-class="{\'md-input-invalid\': orgProfileForm.tags.$invalid}">\n						<label id="tags">Tags</label>\n						<div class="has-tooltip">\n							<div layout="row">\n								<md-chips ci-tab-complete ci-blur-complete flex ng-model="OrgProfileCtrl.formData.tags"\n								secondary-placeholder="+ Add tag"\n										  name="tags"\n										  md-on-remove="orgProfileForm.$setDirty()" md-on-append="$chip.toLowerCase()">\n								</md-chips>\n							</div>\n							<md-input-container>\n								<div ng-messages="orgProfileForm.tags.$error"\n									 ng-if="orgProfileForm.tags.$invalid">\n									<div ng-messages-include="pages/validation-messages.html"></div>\n								</div>\n								<tooltip-help>A few keywords to help students find your organization. Examples: Python video C++. Press Tab or Enter after each tag.</tooltip-help>\n							</md-input-container>\n						</div>\n					</div>\n\n					<div class="chips-container" ng-class="{\'md-input-invalid\': orgProfileForm.programming_languages.$invalid}">\n						<label id="programming_languages">Programming Languages and Technologies</label>\n						<div class="has-tooltip">\n							<div layout="row">\n								<md-chips ci-tab-complete ci-blur-complete flex ng-model="OrgProfileCtrl.formData.programming_languages"\n										  secondary-placeholder="+ Add languages" name="programming_languages"\n										  md-on-remove="orgProfileForm.$setDirty()" md-on-append="$chip.toLowerCase()">\n								</md-chips>\n\n							</div>\n							<md-input-container>\n								<div ng-messages="orgProfileForm.programming_languages.$error"\n									 ng-if="orgProfileForm.programming_languages.$invalid">\n									<div ng-messages-include="pages/validation-messages.html"></div>\n								</div>\n\n								<tooltip-help>List of the main programming languages/technologies used by your organization. Examples: C++, Python, CSS, Go. Press Tab or Enter after each language.</tooltip-help>\n							</md-input-container>\n						</div>\n					</div>\n\n					<div layout="row">\n						<md-input-container class="has-tooltip" flex>\n							<label id="primary_open_source-license">Primary Open Source License</label>\n							<md-select id="primary_open_source_license"\n									   ng-disabled="OrgProfileCtrl.formData.is_accepted"\n									   ng-model="OrgProfileCtrl.formData.primary_open_source_license"\n									   name="primary_open_source_license" placeholder="Primary Open Source License">\n								<md-option ng-value="license"\n										   ng-repeat="license in OrgProfileCtrl.formConfig.primary_open_source_license | orderBy">\n									{{ license }}\n								</md-option>\n							</md-select>\n							<div ng-messages="orgProfileForm.primary_open_source_license.$error"\n								 ng-if="OrgProfileCtrl.showErrorsForField(orgProfileForm.primary_open_source_license)">\n								<div ng-messages-include="pages/validation-messages.html"></div>\n							</div>\n\n							<tooltip-help>The open source license that your organization uses.</tooltip-help>\n						</md-input-container>\n					</div>\n\n					<p></p>\n\n					<h2 class="md-title">Contact Methods</h2>\n\n					<md-input-container flex>\n						<label id="irc_channel">IRC Channel</label>\n						<input ng-model="OrgProfileCtrl.formData.irc_channel" name="irc_channel" http-prefix ng-required="OrgProfileCtrl.enforceValidation && !(OrgProfileCtrl.formData.irc_channel.length || OrgProfileCtrl.formData.mailing_list.length || OrgProfileCtrl.formData.contact_email)">\n\n						<div ng-messages="orgProfileForm.irc_channel.$error"\n							 ng-if="OrgProfileCtrl.showErrorsForField(orgProfileForm.irc_channel)">\n							<div ng-message="required">IRC Channel, Mailing List, or Email is required</div>\n							<div ng-message="server">{{orgProfileForm.irc_channel.serverErrorMsg}}</div>\n						</div>\n						<tooltip-help>Link to a web page that describes how to get on your IRC channel.</tooltip-help>\n					</md-input-container>\n\n					<md-input-container class="has-tooltip" flex>\n						<label id="mailing_list">Mailing List</label>\n						<input ng-model="OrgProfileCtrl.formData.mailing_list" name="mailing_list" http-prefix ng-required="OrgProfileCtrl.enforceValidation && !(OrgProfileCtrl.formData.irc_channel.length || OrgProfileCtrl.formData.mailing_list.length || OrgProfileCtrl.formData.contact_email)">\n\n						<div ng-messages="orgProfileForm.mailing_list.$error"\n							 ng-if="OrgProfileCtrl.showErrorsForField(orgProfileForm.mailing_list)">\n							<div ng-message="required">IRC Channel, Mailing List, or Email is required</div>\n							<div ng-message="server">{{orgProfileForm.mailing_list.serverErrorMsg}}</div>\n						</div>\n\n						<tooltip-help>Link to a page describing how to join your organization\'s mailing list.</tooltip-help>\n					</md-input-container>\n\n					<md-input-container flex>\n						<label id="contact_email">General Email</label>\n						<input type="email" ci-validate-email ng-model="OrgProfileCtrl.formData.contact_email" name="contact_email" ng-required="OrgProfileCtrl.enforceValidation && !(OrgProfileCtrl.formData.irc_channel.length || OrgProfileCtrl.formData.mailing_list.length || OrgProfileCtrl.formData.contact_email)">\n\n						<div ng-messages="orgProfileForm.contact_email.$error"\n							 ng-if="OrgProfileCtrl.showErrorsForField(orgProfileForm.contact_email)">\n							<div ng-message="required">IRC Channel, Mailing List, or Email is required</div>\n							<div ng-message="server">{{orgProfileForm.contact_email.serverErrorMsg}}</div>\n							<div ng-message="email">This needs to be a valid email</div>\n						</div>\n						<tooltip-help>A general purpose contact email for your organization.</tooltip-help>\n					</md-input-container>\n\n					<md-input-container flex>\n						<label id="gplus_url">Google+ URL (optional)</label>\n						<input ng-model="OrgProfileCtrl.formData.gplus_url" name="gplus_url" http-prefix>\n\n						<div ng-messages="orgProfileForm.gplus_url.$error"\n							 ng-if="OrgProfileCtrl.showErrorsForField(orgProfileForm.gplus_url)">\n							<div ng-messages-include="pages/validation-messages.html"></div>\n							<div ng-message="server">{{orgProfileForm.gplus_url.serverErrorMsg}}</div>\n						</div>\n					</md-input-container>\n\n					<md-input-container flex>\n						<label id="twitter_url">Twitter URL (optional)</label>\n						<input ng-model="OrgProfileCtrl.formData.twitter_url" name="twitter_url" http-prefix>\n\n						<div ng-messages="orgProfileForm.twitter_url.$error"\n							 ng-if="OrgProfileCtrl.showErrorsForField(orgProfileForm.twitter_url)">\n							<div ng-messages-include="pages/validation-messages.html"></div>\n							<div ng-message="server">{{orgProfileForm.twitter_url.serverErrorMsg}}</div>\n						</div>\n					</md-input-container>\n\n					<md-input-container flex>\n						<label id="blog_url">Blog URL (optional)</label>\n						<input ng-model="OrgProfileCtrl.formData.blog_url" name="blog_url" http-prefix>\n\n						<div ng-messages="orgProfileForm.blog_url.$error"\n							 ng-if="OrgProfileCtrl.showErrorsForField(orgProfileForm.blog_url)">\n							<div ng-messages-include="pages/validation-messages.html"></div>\n							<div ng-message="server">{{orgProfileForm.blog_url.serverErrorMsg}}</div>\n						</div>\n					</md-input-container>\n\n					<p></p>\n					<h2 class="md-title">Extra Task Information</h2>\n\n					<div layout="row">\n						<md-input-container class="has-tooltip" flex>\n							<label id="guide_to_working">Common Task Information (optional)</label>\n							<textarea class="flex long-description" ng-model="OrgProfileCtrl.formData.guide_to_working" md-markdown-maxlength="250"\n								  name="guide_to_working"\n								  rows="3">\n							</textarea>\n\n							<div ng-messages="orgProfileForm.guide_to_working.$error"\n								 ng-if="OrgProfileCtrl.showErrorsForField(orgProfileForm.guide_to_working)">\n								<div ng-messages-include="pages/validation-messages.html"></div>\n							</div>\n							<tooltip-help>Short instructions or tips to be displayed on every task. May include <a href="https://docs.google.com/document/d/1tmBeOfEqrhHwtXtnm07V2PLFZXUGxz2SLuWsA-uBTT8/pub" target="_blank">limited Markdown</a>. Example: See http://link for information on how to checkout, build, and run the code. Don\'t forget to join the IRC channel to ask mentors questions.</tooltip-help>\n						</md-input-container>\n						<md-button order="2" tabindex="-1" class="md-primary md-icon-button description-preview" type="button" ng-click="OrgProfileCtrl.showMarkdownPreview(OrgProfileCtrl.formData.guide_to_working)">\n							<i class="material-icons">open_in_new</i>\n							<md-tooltip>Preview description</md-tooltip>\n						</md-button>\n					</div>\n\n					<div layout="row">\n						<md-input-container class="has-tooltip" flex>\n							<label id="guide_to_working_url">Common Task Information Link (optional)</label>\n\n							<input type="url" ng-model="OrgProfileCtrl.formData.guide_to_working_url" name="guide_to_working_url" http-prefix>\n\n							<div ng-messages="orgProfileForm.guide_to_working_url.$error"\n								 ng-if="OrgProfileCtrl.showErrorsForField(orgProfileForm.guide_to_working_url)">\n								<div ng-messages-include="pages/validation-messages.html"></div>\n							</div>\n\n							<tooltip-help>A URL for a web page with additional instructions or tips to be displayed on every task. This will be rendered as a button or text similar to "Additional Information" on the task.</tooltip-help>\n						</md-input-container>\n					</div>\n\n					<div layout="column" layout-align="center end" layout-fill>\n						<section layout="row">\n						<md-button type="button" class="md-primary" ng-click="OrgProfileCtrl.showOrgPreview(OrgProfileCtrl.formData)">See preview</md-button>\n						<md-button type="submit" class="md-primary md-raised" ng-disabled="!orgProfileForm.$dirty || !(OrgProfileCtrl.enforceValidation || orgProfileForm.$valid) || orgProfileForm.$state.inProgress" aria-label="Save">\n							<span ng-if="!orgProfileForm.$state.inProgress && !orgProfileForm.$state.success">Save</span>\n							<span ng-if="orgProfileForm.$state.inProgress">Saving...</span>\n							<span ng-if="orgProfileForm.$state.success">Saved!</span>\n						</md-button>\n						</section>\n					</div>\n				</form>\n\n			</md-card-content>\n		</md-card>\n	</div>\n	<div flex flex-gt-sm="35" ng-if="AppCtrl.program.org_signup_open">\n		<md-card sticky-panel class="form-panel" sticky-content>\n			<md-card-content layout-align="start start" layout-padding>\n				<form-progress title="{{ ::OrgProfileCtrl.formProgressTitle }}"\n							   warning-text="Without this information we cannot review your application"\n							   no-progress-bar>\n					<form-progress-item ng-repeat="item in OrgProfileCtrl.validationCriteria"\n							form-item="OrgProfileCtrl.formData"\n							item-key="{{ item.key }}"\n							item-config="item.config"\n							item-validation="item.validation"\n							item-dependency="item.dependency">\n					</form-progress-item>\n				</form-progress>\n				<div class="progress-complete" ng-show="OrgProfileCtrl.formData.is_profile_complete && !orgProfileForm.$dirty" layout="column" layout-align="center center">\n					<p>You\'re done here!</p>\n					<md-button ui-sref="base.app.management.dashboard" class="md-primary">View the dashboard</md-button>\n				</div>\n			</md-card-content>\n		</md-card>\n	</div>\n</div>\n'),
$templateCache.put("pages/management/pages.management.html",'<div ui-view class="management-page"></div>\n'),$templateCache.put("pages/management/parental-consent/pages.parental-consent-approval.html",'<h1 transclude-send="page-title">Parental Consent Approval</h1>\n\n<div flex class="tab-nav">\n	<div class="fixed-outer-width">\n		<div ng-if="AppCtrl.pageState.previousState === \'base.app.management.parental-consent.list.rejected\'">\n			<md-button\n			 ui-sref="base.app.management.parental-consent.list.rejected"\n			 ><i class="material-icons">keyboard_backspace</i> Back to rejected\n			 </md-button>\n		</div>\n		<div ng-if="AppCtrl.pageState.previousState !== \'base.app.management.parental-consent.list.rejected\'">\n			<md-button\n			 ui-sref="base.app.management.parental-consent.list.pending"\n			 ><i class="material-icons">keyboard_backspace</i> Back to pending\n			 </md-button>\n		</div>\n	</div>\n</div>\n\n<parental-consent-approval student="ctrl.student" on-action="ctrl.goBackToParentalConsentList()"></parental-consent-approval>\n'),$templateCache.put("pages/management/parental-consent/pages.parental-consent-list.html",'<h1 transclude-send="page-title">{{ ctrl.data.header }} Parental Consents</h1>\n<div\n flex-offset-gt-lg="5"\n flex-gt-lg="90"\n>\n	<md-card>\n		<item-table>\n			<ci-data-table-header>\n				<ci-data-table-title>{{ ctrl.data.header }}</ci-data-table-title>\n			</ci-data-table-header>\n\n			<ci-data-table-body\n			 cols="ctrl.data.tableConfig"\n			 order-by="ctrl.data.findParams.order"\n			 on-order="ctrl.toggleOrder()"\n			 items="ctrl.profiles"\n			 deferred="ctrl.profiles.$promise"\n			 selected="ctrl.selected"\n			>\n				<ci-data-table-cell-template\n				 cell-id="display_name"\n				>\n					<a ui-sref="base.app.management.parental-consent.approval({ id: listItem.id })">\n						{{ listItem.display_name }}\n					</a>\n				</ci-data-table-cell-template>\n\n				<ci-data-table-cell-template\n				 cell-id="active_task_last_status_change_on"\n				>\n					<span am-time-ago="listItem.active_task_last_status_change_on"></span>\n				</ci-data-table-cell-template>\n\n			</ci-data-table-body>\n\n			<ci-data-table-footer\n			 model="ctrl.profiles"\n			 search-model="::ctrl.data.searchModel"\n			 search-params="::ctrl.data.findParams"\n			 ignored-url-params="ctrl.ignoredUrlParams"\n			>\n			</ci-data-table-footer>\n		</item-table>\n	</md-card>\n</div>\n'),$templateCache.put("pages/management/parental-consent/pages.parental-consent.html",'<tab-nav>\n	<tab-nav-item\n		sref="base.app.management.parental-consent.list.pending"\n		title="Pending"\n		></tab-nav-item>\n	<tab-nav-item\n		sref="base.app.management.parental-consent.list.rejected"\n		title="Rejected"\n		></tab-nav-item>\n</tab-nav>\n<div class="tab-panel" ui-view></div>\n'),$templateCache.put("pages/management/profile-detail/pages.profile-detail.html",'<h1 transclude-send="page-title">Org Member Profile: {{ ProfileDetailCtrl.userProfile.display_name }}</h1>\n<div class="fixed-outer-width tab-panel app-body_space-above">\n	<div layout="row" ng-if="ProfileDetailCtrl.userProfile.is_disabled">\n		<md-card class="md-padding" flex layout-align="center center">\n			<h2 class="warning upper">User is disabled</h2>\n		</md-card>\n	</div>\n	<div layout="row">\n		<md-card class="md-padding" flex>\n			<md-list layout="column">\n				<md-list-item layout="column" layout-align="center start" class="upper">\n					<div class="big-label">\n						{{ProfileDetailCtrl.userProfile.given_name}} {{ProfileDetailCtrl.userProfile.other_names}}\n						<span class="medium-label">({{ProfileDetailCtrl.userProfile.display_name}})</span>\n					</div>\n				</md-list-item>\n				<md-list-item>\n					<div class="medium-label">\n						<span class="upper">{{ProfileDetailCtrl.userProfile.home_address_country}}</span>\n						<span ng-if="ProfileDetailCtrl.userProfile.home_address_province">({{ ProfileDetailCtrl.userProfile.home_address_province }})</span>\n					</div>\n				</md-list-item>\n				<md-list-item class="medium-label upper">Age: {{ProfileDetailCtrl.userProfile.age}}</md-list-item>\n				<md-list-item class="medium-label upper">\n					<i class="material-icons">email</i>\n					<span> {{ProfileDetailCtrl.userProfile.email}}</span>\n				</md-list-item>\n				<md-list-item class="medium-label upper">\n					<i class="material-icons">phone</i>\n					<span> {{ProfileDetailCtrl.userProfile.phone_number}}</span>\n				</md-list-item>\n				<p class="medium-label upper">\n					<md-button ng-hide="ProfileDetailCtrl.userProfile.is_disabled" ng-click="ProfileDetailCtrl.disableAccount()">\n						<i class="material-icons ng-scope">assignment_late</i> Freeze account\n					</md-button>\n					<md-button ng-show="ProfileDetailCtrl.userProfile.is_disabled" ng-click="ProfileDetailCtrl.enableAccount()">\n						<i class="material-icons ng-scope">assignment_late</i> Unfreeze account\n					</md-button>\n				</p>\n			</md-list>\n		</md-card>\n\n		<md-card class="md-padding" layout="row" flex>\n			<div layout="column" flex>\n				<p>\n					<span class="big-label upper">Address</span>\n				</p>\n				<div class="medium-label layout layout-column">\n					<span>{{ProfileDetailCtrl.userProfile.home_address_line_1}}</span>\n					<span>{{ProfileDetailCtrl.userProfile.home_address_line_2}}</span>\n					<span>{{ProfileDetailCtrl.userProfile.home_address_city}}</span>\n					<span>{{ProfileDetailCtrl.userProfile.home_address_province}}</span>\n					<span>{{ProfileDetailCtrl.userProfile.home_address_country}}</span>\n					<span>{{ProfileDetailCtrl.userProfile.home_address_postcode}}</span>\n				</div>\n				<p></p>\n				<div ng-if="!ProfileDetailCtrl.userProfile.shipping_address_is_home_address">\n					<p></p>\n					<p>\n						<span class="big-label upper">Shipping address</span>\n					</p>\n					<div class="medium-label layout layout-column">\n						<span>{{ProfileDetailCtrl.userProfile.shipping_address_line_1}}</span>\n						<span>{{ProfileDetailCtrl.userProfile.shipping_address_line_2}}</span>\n						<span>{{ProfileDetailCtrl.userProfile.shipping_address_city}}</span>\n						<span>{{ProfileDetailCtrl.userProfile.shipping_address_province}}</span>\n						<span>{{ProfileDetailCtrl.userProfile.shipping_address_country}}</span>\n						<span>{{ProfileDetailCtrl.userProfile.shipping_address_postcode}}</span>\n					</div>\n				</div>\n			</div>\n\n			<div layout="column" layout-align="start end" flex>\n				<p>\n					<span class="big-label upper">T-Shirt</span>\n				</p>\n				<div class="medium-label" layout="column" layout-align="start end">\n					<span ng-if="ProfileDetailCtrl.userProfile.tshirt_style == \'M\'">Male</span>\n					<span ng-if="ProfileDetailCtrl.userProfile.tshirt_style == \'F\'">Female</span>\n					<span>{{ProfileDetailCtrl.userProfile.tshirt_size}}</span>\n				</div>\n				<p></p>\n				<p>\n					<span class="big-label upper">Gender</span>\n				</p>\n				<div class="medium-label" layout="column" layout-align="start end">\n					<span ng-if="ProfileDetailCtrl.userProfile.gender == \'M\'">Male</span>\n					<span ng-if="ProfileDetailCtrl.userProfile.gender == \'F\'">Female</span>\n				</div>\n			</div>\n		</md-card>\n\n	</div>\n	<div layout="row">\n		<md-card class="md-padding" flex>\n			<p>\n				<span class="big-label upper">Organization Memberships</span>\n			</p>\n			<md-list>\n				<md-list-item ng-repeat="membership in ProfileDetailCtrl.userProfile.memberships track by membership.id">\n					<span>{{ membership.role == ProfileDetailCtrl.organizationRole.MENTOR ? \'Mentor\':\'Administrator\' }} on <a ui-sref="base.app.management.organizations.detail.profile({ id: membership.organization.id })">{{ membership.organization.name }}</a> ({{ ProfileDetailCtrl.membershipStatus[membership.status] }})</span>\n				</md-list-item>\n			</md-list>\n			<div flex></div>\n		</md-card>\n		<md-card class="md-padding" flex>\n			<p>\n				<span class="big-label upper">Contact settings</span>\n			</p>\n			<md-list layout="column">\n				<md-list-item class="medium-label upper">Opt in to mentor list: {{ProfileDetailCtrl.userProfile.opt_in_to_mentor_list | yesNo}}\n				</md-list-item>\n				<md-list-item class="medium-label upper">Opt in to alumni list: {{ProfileDetailCtrl.userProfile.opt_in_to_alumni_list | yesNo}}\n				</md-list-item>\n				<md-list-item class="medium-label upper">Opt in to task notifications: {{ProfileDetailCtrl.userProfile.opt_in_to_task_notifications | yesNo}}\n				</md-list-item>\n			</md-list>\n		</md-card>\n	</div>\n</div>\n'),$templateCache.put("pages/management/profile-list/pages.profile-list.html",'<page-search\n search-term=\'ProfileListCtrl.searchParams.search\'\n></page-search>\n<h1 transclude-send="page-title">Users</h1>\n<div\n flex-offset-gt-lg="5"\n flex-gt-lg="90"\n>\n	<md-card>\n		<item-table>\n			<ci-data-table-header>\n\n				<ci-data-table-title>Users</ci-data-table-title>\n\n			</ci-data-table-header>\n\n			<ci-data-table-body\n			 cols="ProfileListCtrl.tableConfig"\n			 order-by="ProfileListCtrl.orderBy"\n			 on-order="ProfileListCtrl.toggleOrder()"\n			 items="ProfileListCtrl.profiles"\n			 deferred="ProfileListCtrl.profiles.$promise"\n			>\n				<ci-data-table-cell-template\n				 cell-id="display_name"\n				>\n					<a ng-show="::listItem.is_student" ui-sref="base.app.management.students.profile.detail({ id: listItem.id })">\n						{{ listItem.display_name }}\n					</a>\n					<a ng-hide="::listItem.is_student" ui-sref="base.app.management.profiles.detail({ id: listItem.id })">\n						{{ listItem.display_name }}\n					</a>\n				</ci-data-table-cell-template>\n\n				<ci-data-table-cell-template\n				 cell-id="role"\n				>\n					<span ng-show="listItem.is_program_admin">PA</span>\n					<span ng-show="listItem.is_org_admin">OA</span>\n					<span ng-show="listItem.is_mentor">OM</span>\n					<span ng-show="listItem.is_student">S</span>\n				</ci-data-table-cell-template>\n\n			</ci-data-table-body>\n\n			<ci-data-table-footer\n			 model="ProfileListCtrl.profiles"\n			 search-model="::ProfileListCtrl.searchModel"\n			 search-params="::ProfileListCtrl.searchParams"\n			 >\n				<ci-data-table-footer-actions layout="row">\n					<md-button\n					 ng-if="AppCtrl.program.orgs_published"\n					 class="md-default"\n					 ng-click=\'ProfileListCtrl.cleanUnacceptedOrgMembers()\'\n					>\n						Clean unaccepted organization members\n					</md-button>\n				</ci-data-table-footer-actions>\n\n			 </ci-data-table-footer>\n		</item-table>\n	</md-card>\n</div>\n'),$templateCache.put("pages/management/student-detail/pages.student-detail.base.html",'<h1 transclude-send="page-title">Student Profile: {{ StudentDetailCtrl.student.display_name }}</h1>\n<tab-nav>\n	<tab-nav-item\n	 sref="base.app.management.students.profile.detail({ id: StudentDetailCtrl.student.id })"\n	 title="Profile"\n	></tab-nav-item>\n	<tab-nav-item\n	 ng-if="StudentDetailCtrl.student.parental_consent_completed_on"\n	 sref="base.app.management.students.profile.parental-consent({ id: StudentDetailCtrl.student.id })"\n	 title="Parental Consent"\n	></tab-nav-item>\n</tab-nav>\n<div ui-view></div>\n'),$templateCache.put("pages/management/student-detail/pages.student-detail.html",'<div class="fixed-outer-width tab-panel app-body_space-above pa-student-detail">\n	<div ng-if="StudentDetailCtrl.student.needs_parental_consent">\n		<md-card layout="row">\n			<md-card-content layout-fill>\n				<div layout="row" layout-align="start-center">\n					<div ng-if="!StudentDetailCtrl.student.parental_consent_completed_on" flex>\n						<i class="material-icons warning">warning</i> Waiting for Parental Consent\n					</div>\n					<div ng-if="StudentDetailCtrl.student.parental_consent_completed_on" flex>\n						<i class="material-icons warning">info</i> Parental Consent Completed: <span am-time-ago="StudentDetailCtrl.student.parental_consent_completed_on"></span>\n					</div>\n	 				<md-button ng-if="StudentDetailCtrl.student.parental_consent_completed_on" ui-sref="base.app.management.students.profile.parental-consent({ id: StudentDetailCtrl.student.id })">Review Form</md-button>\n				</div>\n			</md-card-content>\n		</md-card>\n	</div>\n	<div layout="row">\n		<md-card flex>\n			<md-card-content>\n				<md-list>\n					<md-list-item class="upper" layout="column" layout-align="center-start">\n						<div class="md-headline">\n							{{StudentDetailCtrl.student.given_name }} {{StudentDetailCtrl.student.other_names}}\n							<span class="medium-label">({{StudentDetailCtrl.student.display_name}})</span>\n						</div>\n					</md-list-item>\n					<md-list-item>\n						<div class="medium-label">\n								<span class="upper">{{StudentDetailCtrl.student.home_address_country}}</span>\n								<span ng-if="StudentDetailCtrl.student.home_address_province">({{ StudentDetailCtrl.student.home_address_province }})</span>\n						</div>\n					</md-list-item>\n					<md-list-item class="medium-label upper">Age: {{StudentDetailCtrl.student.age}}</md-list-item>\n\n					<md-list-item class="medium-label upper">\n						<i class="material-icons">email</i>\n						<span> {{StudentDetailCtrl.student.email}}</span>\n					</md-list-item>\n					<md-list-item class="medium-label upper">\n						<i class="material-icons">phone</i>\n						<span> {{StudentDetailCtrl.student.phone_number}}</span>\n					</md-list-item>\n					<md-list-item class="medium-label upper" ng-if="!StudentDetailCtrl.student.is_homeschooled">\n						<i class="material-icons">web</i>\n						<a ng-if="StudentDetailCtrl.student.school_website" href="{{ StudentDetailCtrl.student.school_website }}">\n							{{StudentDetailCtrl.student.school_name}}\n						</a>\n						<span ng-if="!StudentDetailCtrl.student.school_website">\n							{{StudentDetailCtrl.student.school_name}}\n						</span>\n					</md-list-item>\n					<p class="medium-label upper">\n						<md-button ng-hide="StudentDetailCtrl.student.is_disabled" ng-click="StudentDetailCtrl.disableAccount()">\n							<i class="material-icons ng-scope">assignment_late</i> Freeze account\n						</md-button>\n						<md-button ng-show="StudentDetailCtrl.student.is_disabled" ng-click="StudentDetailCtrl.enableAccount()">\n							<i class="material-icons ng-scope">assignment_late</i> Unfreeze account\n						</md-button>\n					</p>\n				</md-list>\n			</md-card-content>\n		</md-card>\n\n		<md-card flex>\n			<md-card-content class="pa-student-detail__tasks">\n				<md-tabs md-dynamic-height md-border-bottom>\n					<md-tab label="Completed">\n						<md-content>\n							<md-list>\n								<md-list-item ng-repeat="task in StudentDetailCtrl.tasks.completed track by task.id">\n									<a ui-sref="base.app.management.taskInstance.detail({ id: task.id })">\n										{{ task.task_definition.name }}\n									</a>\n								</md-list-item>\n								<md-list-item ng-if="StudentDetailCtrl.tasks.completed.length === 0">No completed tasks yet.</md-list-item>\n							</md-list>\n						</md-content>\n					</md-tab>\n					<md-tab label="Abandoned">\n						<md-content>\n							<md-list>\n								<md-list-item ng-repeat="task in StudentDetailCtrl.tasks.abandoned track by task.id">\n									<a ui-sref="base.app.management.taskInstance.detail({ id: task.id })">\n										{{ task.task_definition.name }}\n									</a><span>&nbsp;({{ StudentDetailCtrl.taskStatuses[task.status] }})</span>\n								</md-list-item>\n								<md-list-item ng-if="StudentDetailCtrl.tasks.abandoned.length === 0">No abandoned tasks yet.</md-list-item>\n							</md-list>\n						</md-content>\n					</md-tab>\n				</md-tabs>\n			</md-card-content>\n		</md-card>\n	</div>\n	<div layout="row">\n		<md-card class="md-padding" flex>\n			<md-card-content layout="row">\n				<div layout="column" flex>\n					<p>\n						<span class="md-headline upper">Address</span>\n					</p>\n					<div class="medium-label" layout="column">\n						<span>{{StudentDetailCtrl.student.home_address_line_1}}</span>\n						<span>{{StudentDetailCtrl.student.home_address_line_2}}</span>\n						<span>{{StudentDetailCtrl.student.home_address_city}}</span>\n						<span>{{StudentDetailCtrl.student.home_address_province}}</span>\n						<span>{{StudentDetailCtrl.student.home_address_country}}</span>\n						<span>{{StudentDetailCtrl.student.home_address_postcode}}</span>\n					</div>\n					<p></p>\n					<p>\n						<span class="md-headline upper">Heard about Google Code-in</span>\n					</p>\n					<div class="medium-label">\n						<span ng-if="StudentDetailCtrl.student.heard_about_codein_from_other">{{ StudentDetailCtrl.student.heard_about_codein_from_other }}</span>\n						<span ng-if="!StudentDetailCtrl.student.heard_about_codein_from_other">{{ StudentDetailCtrl.heardAbout[StudentDetailCtrl.student.heard_about_codein_from] || StudentDetailCtrl.student.heard_about_codein_from}}</span>\n					</div>\n					<div>\n						<p></p>\n						<p>\n							<span class="md-headline upper">Shipping address</span>\n						</p>\n						<div class="medium-label" layout="column">\n							<span>{{StudentDetailCtrl.student.shipping_address_line_1}}</span>\n							<span>{{StudentDetailCtrl.student.shipping_address_line_2}}</span>\n							<span>{{StudentDetailCtrl.student.shipping_address_city}}</span>\n							<span>{{StudentDetailCtrl.student.shipping_address_province}}</span>\n							<span>{{StudentDetailCtrl.student.shipping_address_country}}</span>\n							<span>{{StudentDetailCtrl.student.shipping_address_postcode}}</span>\n						</div>\n					</div>\n				</div>\n\n				<div layout="column" layout-align="start end" flex>\n					<p>\n						<span class="md-headline upper">T-Shirt</span>\n					</p>\n					<div class="medium-label" layout="column" layout-align="start end">\n						<span ng-if="StudentDetailCtrl.student.tshirt_style == \'M\'">Male</span>\n						<span ng-if="StudentDetailCtrl.student.tshirt_style == \'F\'">Female</span>\n						<span>{{StudentDetailCtrl.student.tshirt_size}}</span>\n					</div>\n					<p></p>\n					<p>\n						<span class="md-headline upper">Gender</span>\n					</p>\n					<div class="medium-label" layout="column" layout-align="start end">\n						<span ng-if="StudentDetailCtrl.student.gender == \'M\'">Male</span>\n						<span ng-if="StudentDetailCtrl.student.gender == \'F\'">Female</span>\n					</div>\n				</div>\n			</md-card-content>\n		</md-card>\n\n		<md-card ng-if="StudentDetailCtrl.tasks.current" class="md-padding" flex>\n			<md-card-content layout="start start">\n				<current-task task="StudentDetailCtrl.tasks.current"></current-task>\n			</md-card-content>\n		</md-card>\n	</div>\n\n	<div layout="row">\n		<md-card flex layout="row" class="md-padding">\n			<md-card-content>\n				<div ng-if="StudentDetailCtrl.student.is_homeschooled">\n					<p><span class="md-headline upper">School</span></p>\n					<md-list layout="column">\n						<md-list-item class="medium-label">\n							The student is homeschooled\n						</md-list-item>\n					</md-list>\n				</div>\n				<div ng-if="!StudentDetailCtrl.student.is_homeschooled">\n					<p>\n						<span class="md-headline upper">School address</span>\n					</p>\n					<div layout="column">\n						<span>{{StudentDetailCtrl.student.school_name}}</span>\n						<span>{{StudentDetailCtrl.student.school_city}}</span>\n						<span>{{StudentDetailCtrl.student.school_province}}</span>\n						<span>{{StudentDetailCtrl.student.school_country}}</span>\n					</div>\n				</div>\n			</md-card-content>\n		</md-card>\n\n		<md-card flex class="md-padding">\n			<md-card-content>\n				<p>\n					<span class="md-headline upper">Contact settings</span>\n				</p>\n				<md-list layout="column">\n					<md-list-item class="medium-label upper">Opt in to alumni list: {{StudentDetailCtrl.userProfile.opt_in_to_alumni_list | yesNo}}\n					</md-list-item>\n				</md-list>\n			</md-card-content>\n		</md-card>\n	</div>\n</div>\n'),$templateCache.put("pages/management/student-detail/pages.student-parental-consent.html",'<div class="fixed-outer-width tab-panel app-body_space-above">\n	<parental-consent-approval student="ctrl.student"></parental-consent-approval>\n</div>\n'),$templateCache.put("pages/management/student-list/pages.student-list.html",'<h1 transclude-send="page-title">Students</h1>\n<page-search\n	search-term=\'StudentListCtrl.searchParams.search\'\n></page-search>\n<div\n flex-offset-gt-lg="5"\n flex-gt-lg="90"\n>\n	<md-card>\n		<item-table>\n			<ci-data-table-header>\n\n				<ci-data-table-title>Students</ci-data-table-title>\n\n				<ci-data-table-header-actions>\n					<md-button class="md-icon-button" ng-click="StudentListCtrl.openFiltersPanel()">\n						<i class="material-icons">filter_list</i>\n					</md-button>\n				</ci-data-table-header-actions>\n\n			</ci-data-table-header>\n\n			<ci-data-table-body\n			 cols="StudentListCtrl.tableConfig"\n			 order-by="StudentListCtrl.searchParams.order"\n			 items="StudentListCtrl.students"\n			 deferred="StudentListCtrl.students.$promise"\n			 selected="StudentListCtrl.selected"\n			 locals="StudentListCtrl.cellLocals"\n			>\n				<ci-data-table-cell-template\n				 cell-id="display_name"\n				>\n					<a ui-sref="base.app.management.students.profile.detail({ id: listItem.id })">\n						{{ listItem.display_name }}\n					</a>\n				</ci-data-table-cell-template>\n\n				<ci-data-table-cell-template\n				 cell-id="role"\n				>\n					<span ng-show="listItem.is_program_admin">PA</span>\n					<span ng-show="listItem.is_org_admin">OA</span>\n					<span ng-show="listItem.is_mentor">OM</span>\n					<span ng-show="listItem.is_student">S</span>\n				</ci-data-table-cell-template>\n\n				<ci-data-table-cell-template\n				 cell-id="verified"\n				>\n					<i class="material-icons">\n						{{ listItem.parental_consent_is_accepted ? \'check\' : \'close\' }}\n					</i>\n				</ci-data-table-cell-template>\n\n			</ci-data-table-body>\n\n			<ci-data-table-footer\n			 model="StudentListCtrl.students"\n			 search-model="::StudentListCtrl.searchModel"\n			 search-params="StudentListCtrl.searchParams"\n			></ci-data-table-footer>\n		</item-table>\n	</md-card>\n</div>\n<md-sidenav md-component-id="right" class="md-sidenav-right">\n	<md-content class="md-padding">\n		<h3>Filter students</h3>\n		<md-input-container>\n			<label>Parental Consent Status</label>\n			<md-select ng-model="StudentListCtrl.searchParams.parental_consent_status">\n				<md-option ng-value="">Any</md-option>\n				<md-option ng-value="StudentListCtrl.ParentalConsentStatus.PENDING">Pending</md-option>\n				<md-option ng-value="StudentListCtrl.ParentalConsentStatus.ACCEPTED">Accepted</md-option>\n				<md-option ng-value="StudentListCtrl.ParentalConsentStatus.REJECTED">Rejected</md-option>\n			</md-select>\n		</md-input-container>\n		<md-input-container>\n			<label>Has Task?</label>\n			<md-select ng-model="StudentListCtrl.searchParams.has_task">\n				<md-option ng-value="">Any</md-option>\n				<md-option ng-value="\'True\'">Yes</md-option>\n				<md-option ng-value="\'False\'">No</md-option>\n			</md-select>\n		</md-input-container>\n		<md-input-container>\n			<label>Is Active?</label>\n			<md-select ng-model="StudentListCtrl.searchParams.is_active">\n				<md-option ng-value="">Any</md-option>\n				<md-option ng-value="\'True\'">Yes</md-option>\n				<md-option ng-value="\'False\'">No</md-option>\n			</md-select>\n		</md-input-container>\n	</md-content>\n</md-sidenav>\n'),$templateCache.put("pages/management/styleguide/styleguide.html",'\n<h1 page-title-content>Page title</h1>\n\n<tab-nav>\n	<tab-nav-item\n	 sref="abc"\n	 title="Tab 1"\n	></tab-nav-item>\n\n	<tab-nav-item\n	 sref="abc"\n	 title="Tab 2"\n	></tab-nav-item>\n\n	<tab-nav-item\n	 sref="abc"\n	 title="Tab 3"\n	></tab-nav-item>\n</tab-nav>\n\n<div class="fixed-outer-width">\n	<md-card>\n		<md-card-content>\n			<p>\n				<h3>Flat buttons</h3>\n				<span layout="row">\n					<md-button>standard</md-button>\n					<md-button class="md-primary">primary</md-button>\n					<md-button class="md-accent">accent</md-button>\n					<md-button disabled>disabled</md-button>\n					<md-button class="md-warn">warn</md-button>\n				</span>\n				<h3>Raised buttons</h3>\n				<span layout="row">\n					<md-button class="md-raised md-primary">standard</md-button>\n					<md-button class="md-raised md-primary md-primary">primary</md-button>\n					<md-button class="md-raised md-primary md-accent">accent</md-button>\n					<md-button class="md-raised md-primary" disabled>disabled</md-button>\n					<md-button class="md-raised md-primary md-warn">warn</md-button>\n				</span>\n			</p>\n		</md-card-content>\n	</md-card>\n\n	<md-card>\n		<md-card-content>\n			<h2 class="md-title">Card title</h2>\n			<p>Paragraph Lorem <a href="#">ipsum dolor sit amet</a>, consectetur adipisicing elit. Autem quibusdam nisi, quaerat, explicabo id adipisci error tempore expedita, porro excepturi esse aspernatur quo qui, veniam officia laudantium sit? Voluptates, dolores.</p>\n			<ul>\n				<li>List item</li>\n				<li>List item</li>\n				<li>List item</li>\n				<li>List item</li>\n			</ul>\n			<ol>\n				<li>List item</li>\n				<li>List item</li>\n				<li>List item</li>\n				<li>List item</li>\n			</ol>\n		</md-card-content>\n	</md-card>\n\n	<md-card>\n		<item-table>\n\n			<ci-data-table-header>\n\n				<ci-data-table-title>Data table title</ci-data-table-title>\n\n				<ci-data-table-header-actions>\n					<div>\n						<md-button class="md-icon-button">\n							<i class="material-icons">filter_list</i>\n						</md-button>\n					</div>\n				</ci-data-table-header-actions>\n\n			</ci-data-table-header>\n\n			<ci-data-table-body\n			 cols="[{\n						name: \'Title\',\n						orderBy: \'name\',\n						attr: \'name\'\n					},\n					{\n						name: \'Organization\',\n						attr: \'organization\'\n					}]"\n			 items="[{\n			 	name: \'Item 1\',\n			 	organization: \'Org 1\'\n			 },{\n			 	name: \'Item 2\',\n			 	organization: \'Org 2\'\n			 }]"\n			>\n			</ci-data-table-body>\n\n			<ci-data-table-footer\n			 model="items"\n			 search-model="::searchModel"\n			 search-params="::findParams"\n			>\n				<ci-data-table-footer-actions>\n					<md-button\n					 ui-sref="abc"\n					>\n						<i class="material-icons">add</i> thing\n					</md-button>\n				</ci-data-table-footer-actions>\n			</ci-data-table-footer>\n		</item-table>\n	</md-card>\n</div>\n'),$templateCache.put("pages/management/task-base/page.task-base.html",'<tab-nav ng-if="TaskCtrl.canEdit()">\n	<tab-nav-item\n	 sref="base.app.management.task.edit({id: TaskCtrl.taskId})"\n	 title="Edit"\n	></tab-nav-item>\n	<tab-nav-item\n	 ng-disabled="TaskCtrl.taskForm.$invalid"\n	 sref="base.app.management.task.preview({id: TaskCtrl.taskId})"\n	 title="Preview"\n	></tab-nav-item>\n</tab-nav>\n<ui-view class="tab-panel app-body_space-above fixed-outer-width"></ui-view>\n'),$templateCache.put("pages/management/task-edit/pages.edit-task.html",'<h1 transclude-send="page-title">\n	{{TaskCtrl.taskId === \'new\' ? \'Add a\' : \'Edit\'}} task<span ng-if="TaskCtrl.task.name">: {{ TaskCtrl.task.name }}</span>\n</h1>\n<div class="fixed-outer-width">\n	<md-card ng-show="TaskCtrl.task.status == TaskCtrl.draftState">\n		<md-card-content  class="task-preview task-preview__error" layout="row" layout-align="start center">\n			<i class="material-icons">warning</i>\n			<div class="task-preview__error__text" flex>This task has not been published.</div>\n		</md-card-content>\n	</md-card>\n	<md-card ng-show="!TaskCtrl.isNewTask() && TaskCtrl.task.status == TaskCtrl.publishedState">\n		<md-card-content class="task-preview task-preview__warning" layout="row" layout-align="start center">\n			<i class="material-icons">warning</i>\n			<div class="task-preview__error__text" flex>\n			<ng-pluralize count="TaskCtrl.task.active_count"\n              when="{\'1\': \'{} student is\',\n                     \'other\': \'{} students are\'}">\n			</ng-pluralize>\n				working on this task and\n			<ng-pluralize count="TaskCtrl.task.completed_count"\n          		 when="{\'1\': \'{} student has\',\n                     \'other\': \'{} students have\'}">\n			</ng-pluralize>\n			 finished.\n			<ng-pluralize count="TaskCtrl.task.available_count"\n          		when="{\'1\': \'{} claim\',\n                 \'other\': \'{} claims\'}">\n			</ng-pluralize> remaining.\n			</div>\n			<div ng-if="AppCtrl.program.competition_open">\n				<md-button ui-sref="base.app.management.taskInstance.list.all({\'sp-task_definition\': TaskCtrl.task.id})">View task instances</md-button>\n			</div>\n		</md-card-content>\n	</md-card>\n</div>\n<form name="TaskCtrl.taskForm" ng-submit="TaskCtrl.save()" novalidate form-focus-invalid>\n	<div layout="column" layout-gt-sm="row" class="admin-form fixed-outer-width">\n		<div flex flex-gt-sm="65" flex-order="1" flex-order-gt-sm="0">\n			<md-card class="form-panel form-left-panel md-padding">\n				<md-card-content layout-padding>\n					<div>\n						<div layout-align="start start" layout="row">\n							<h1 class="md-headline main-title">{{TaskCtrl.taskId === \'new\' ? \'Add a\' : \'Edit\'}} Task</h1>\n							<span flex></span>\n							<md-select ng-disabled="TaskCtrl.taskId !== \'new\'" ng-model="TaskCtrl.task.organization_id" ng-if="TaskCtrl.userOrgs.length > 1"\n									   placeholder="Select organization" id="organization_id" required>\n								<md-option ng-value="org.id" ng-repeat="org in TaskCtrl.userOrgs track by $index">{{ ::org.name }}\n								</md-option>\n							</md-select>\n						</div>\n						<p ng-if="TaskCtrl.taskForm.$submitted && TaskCtrl.taskForm.$invalid" class="errors">This form has\n							errors</p>\n\n						<div>\n							<h2 class="md-title">Task Overview</h2>\n							<md-input-container class="has-tooltip" flex>\n								<label id="name">Title</label>\n								<input md-max="500" ng-model="TaskCtrl.task.name"\n									   name="name" ng-required="true">\n\n								<div ng-messages="TaskCtrl.taskForm.name.$error"\n									 ng-if="showErrorsForField(TaskCtrl.taskForm.name)">\n									<div ng-messages-include="pages/validation-messages.html"></div>\n								</div>\n\n								<tooltip-help>A short title for your task.</tooltip-help>\n							</md-input-container>\n							<div layout="row">\n								<md-input-container class="has-tooltip" flex>\n									<label id="description">Description</label>\n										<textarea class="flex long-description" md-markdown-maxlength="1500" rows="3" ng-model="TaskCtrl.task.description"\n												  name="description">\n										</textarea>\n									<div ng-messages="TaskCtrl.taskForm.description.$error"\n										 ng-if="showErrorsForField(TaskCtrl.taskForm.description)">\n										<div ng-messages-include="pages/validation-messages.html"></div>\n									</div>\n\n									<tooltip-help>Describe your task in as much detail as possible. May include <a tabindex="-1" href="https://docs.google.com/document/d/1tmBeOfEqrhHwtXtnm07V2PLFZXUGxz2SLuWsA-uBTT8/pub" target="_blank">limited Markdown</a>.</tooltip-help>\n								</md-input-container>\n								<md-button ng-disabled="TaskCtrl.taskForm.description.$invalid" order="2" tabindex="-1" class="md-primary md-icon-button" type="button" ng-click="TaskCtrl.showTaskDescriptionPreview($event)">\n									<i class="material-icons">open_in_new</i>\n									<md-tooltip>Preview description</md-tooltip>\n								</md-button>\n							</div>\n\n							<md-input-container class="has-tooltip" flex>\n								<label id="max_instances">Instance Count</label>\n								<input\n										name="max_instances"\n										type="number"\n										min="1"\n										max="100"\n										ng-model="TaskCtrl.task.max_instances"\n										required\n										>\n\n								<div ng-messages="TaskCtrl.taskForm.max_instances.$error"\n									 ng-if="showErrorsForField(TaskCtrl.taskForm.max_instances)">\n									<div ng-messages-include="pages/validation-messages.html"></div>\n									<div ng-message="min">Must be greater than or equal to 1</div>\n\n									<div ng-message="max">Must be less than or equal to 50</div>\n								</div>\n\n								<tooltip-help>Increase this value instead of making duplicate tasks. This task can be claimed by this many students simultaneously. Each student has an independent instance. If an instance is completed, that reduces the number available to claim.</tooltip-help>\n							</md-input-container>\n\n							<md-input-container flex>\n								<label id="time_to_complete_in_days">Time to Complete (in days)</label>\n								<input\n										name="time_to_complete_in_days"\n										type="number"\n										min="3" max="7"\n										ng-model="TaskCtrl.task.time_to_complete_in_days"\n										ng-required="true"\n										>\n\n								<div ng-messages="TaskCtrl.taskForm.time_to_complete_in_days.$error"\n									 ng-if="showErrorsForField(TaskCtrl.taskForm.time_to_complete_in_days)">\n									<div ng-messages-include="pages/validation-messages.html"></div>\n									<div ng-message="min">Must be greater than 2</div>\n\n									<div ng-message="max">Must be less than 8</div>\n								</div>\n							</md-input-container>\n						</div>\n\n						<div>\n							<p>&nbsp;</p>\n						</div>\n\n						<div>\n							<h2 class="md-title">Task Categorization</h2>\n							<div>\n								<md-checkbox\n										class="md-primary"\n										ng-model="TaskCtrl.task.is_beginner"\n										aria-label="Is a beginner task?">\n									Beginner task\n								</md-checkbox>\n							</div>\n							<md-input-container flex>\n								<p id="categories">Categories</p>\n								<md-checkbox\n										class="md-primary"\n										ng-checked="TaskCtrl.categoryChecked(cat[0])"\n										ng-click="TaskCtrl.toggleCategory(cat[0])"\n										aria-label="Categories"\n										ng-repeat="cat in TaskCtrl.taskCategories">\n									{{::cat[1]}}\n								</md-checkbox>\n							</md-input-container>\n							<div class="chips-container" ng-class="{\'md-input-invalid\': TaskCtrl.taskForm.tags.$invalid}">\n								<label>Tags</label>\n								<md-chips ci-tab-complete ci-blur-complete ng-model="TaskCtrl.task.tags" secondary-placeholder="+ Add tags" name="tags"\n										  md-on-remove="TaskCtrl.taskForm.$setDirty()" md-on-append="$chip.toLowerCase()" md-autoselect="true">\n								</md-chips>\n								<md-input-container>\n									<div ng-messages="TaskCtrl.taskForm.tags.$error"\n										 ng-if="TaskCtrl.taskForm.tags.$invalid">\n										<div ng-messages-include="pages/validation-messages.html"></div>\n									</div>\n									<tooltip-help>A few keywords that describe this task. Example: C++, Video, Bugs, Design.</tooltip-help>\n								</md-input-container>\n							</div>\n						</div>\n						<div>\n							<p>&nbsp;</p>\n						</div>\n\n						<div ng-show="TaskCtrl.canAddMentors()">\n							<h2 class="md-title">Mentors</h2>\n							<mentor-picker id="mentors"\n										   org-id="TaskCtrl.task.organization_id"\n										   req-org-id="true"\n										   program-year="AppCtrl.program.year" ng-model="TaskCtrl.mentors"></mentor-picker>\n						</div>\n						<div ng-if="!TaskCtrl.canAddMentors() && !TaskCtrl.isNewTask()">\n							<h2 class="md-title">Mentors</h2>\n\n							<div ng-show="TaskCtrl.mentors.length === 0" class="md-padding">(No mentors assigned to this task)\n							</div>\n							<div layout="row" layout-wrap>\n								<div ng-repeat="mentor in TaskCtrl.mentors" class="md-padding">\n									<div>{{ mentor.display_name }}</div>\n									<div><a href="mailto:{{ mentor.email }}">{{ mentor.email }}</a></div>\n								</div>\n							</div>\n						</div>\n						<task-definition-form-actions></task-definition-form-actions>\n					</div>\n				</md-card-content>\n			</md-card>\n		</div>\n		<div flex flex-gt-sm="35">\n			<md-card sticky-panel sticky-content class="form-panel">\n				<md-card-content layout-align="start start" layout-padding>\n					<form-progress\n							headline="Task Status"\n							is-complete="TaskCtrl.progressComplete"\n							radius=100\n							stroke=40\n							warning-text="Without this information this task cannot be published"\n							>\n						<form-progress-item\n								form-item="TaskCtrl.task"\n								item-key="name"\n								item-config="{text: \'Title\', elmId: \'name\'}">\n						</form-progress-item>\n						<form-progress-item\n								form-item="TaskCtrl.task"\n								item-key="description"\n								item-config="{text: \'Task description\', elmId: \'description\'}">\n						</form-progress-item>\n						<form-progress-item\n								ng-if="TaskCtrl.userOrgs.length > 1"\n								form-item="TaskCtrl.task"\n								item-key="organization_id"\n								item-config="{text: \'Organization\', elmId: \'organization_id\'}">\n						</form-progress-item>\n						<form-progress-item\n								form-item="TaskCtrl.task"\n								item-key="categories"\n								item-validation="TaskCtrl.arrayValidation"\n								item-config="{text: \'Categories\', elmId: \'categories\'}">\n						</form-progress-item>\n						<form-progress-item\n								ng-if="TaskCtrl.canAddMentors()"\n								form-item="TaskCtrl"\n								item-key="mentors"\n								item-validation="TaskCtrl.arrayValidation"\n								item-config="{text: \'Mentors\', elmId: \'mentors\'}">\n						</form-progress-item>\n					</form-progress>\n					<div hide show-gt-sm ng-if="AppCtrl.CurrentUser.is_org_admin || AppCtrl.CurrentUser.is_program_admin">\n						<task-definition-form-actions></task-definition-form-actions>\n					</div>\n				</md-card-content>\n			</md-card>\n		</div>\n	</div>\n</form>\n'),
$templateCache.put("pages/management/task-instance-detail/_add-time-dialog.html",'<md-dialog class="md-codein-theme" aria-label="Add time to task" ng-cloak>\n	<md-dialog-content>\n		<div class="md-dialog-content">\n			<p>Please select the number of days to be added to the deadline:</p>\n			<md-input-container class="md-codein-theme" flex>\n				<label class="md-codein-theme">Days</label>\n				<md-select class="md-codein-theme" ng-model="days">\n					<md-option class="md-codein-theme" ng-repeat="option in extendDaysOptions" value="{{ option.value }}">\n						{{ option.text }}\n					</md-option>\n				</md-select>\n			</md-input-container>\n		</div>\n	</md-dialog-content>\n	<div class="md-actions" layout="row">\n		<md-button class="md-codein-theme md-primary" ng-click="cancel()">Cancel</md-button>\n		<md-button class="md-codein-theme md-primary md-raised" ng-click="addTime()">Add time</md-button>\n	</div>\n</md-dialog>\n'),$templateCache.put("pages/management/task-instance-detail/_task-description.html",'<md-card>\n	<div class="task-definition__title md-title" layout="row" layout-align="space-between center">\n		<div>Task description</div>\n		<div class="pointer" ng-click="ctrl.expandTaskDefinition()">\n			<i class="material-icons" ng-show="!ctrl.taskDefinitionExpanded">keyboard_arrow_down</i>\n			<i class="material-icons" ng-show="ctrl.taskDefinitionExpanded">keyboard_arrow_up</i>\n		</div>\n	</div>\n	<md-card-content class="task-definition__embedded" ng-class="{ \'task-definition__embedded--collapsed\': !ctrl.taskDefinitionExpanded }">\n		<md-content>\n			<task-detail id="ctrl.taskDefinition.id" task-instance="ctrl.taskInstance"></task-detail>\n		</md-content>\n	</md-card-content>\n	<div class="task-definition__expand" layout layout-align="center center">\n		<md-button class="md-primary" ng-click="ctrl.expandTaskDefinition()">\n			<i class="material-icons" ng-show="!ctrl.taskDefinitionExpanded">keyboard_arrow_down</i>\n			<i class="material-icons" ng-show="ctrl.taskDefinitionExpanded">keyboard_arrow_up</i>\n			<span ng-show="!ctrl.taskDefinitionExpanded">Expand to read task information</span>\n			<span ng-show="ctrl.taskDefinitionExpanded">Minimize task information</span>\n		</md-button>\n	</div>\n</md-card>\n'),$templateCache.put("pages/management/task-instance-detail/_task-instance-status.html",'<md-card>\n	<md-card-content class="task-instance__status" layout-sm="column" layout-gt-sm="row">\n		<div layout layout-padding flex>\n			<div>\n				<i class="material-icons task-instance__status-icon task-instance__status-icon--{{ ctrl.taskInstance.status }}">{{ ctrl.statusIcons[ctrl.taskInstance.status] }}</i>\n			</div>\n			<div flex>\n				<h3 class="task-instance__status-title md-headline">{{ ctrl.taskStatusLong[ctrl.taskInstance.status] }}</h3>\n				<div class="task-instance__status-text">\n					<div ng-if="ctrl.taskInstance.status === ctrl.taskStatus.CLAIMED">\n						<p ng-show="AppCtrl.CurrentUser.is_student">Show us your work or ask a question of a mentor for {{ ctrl.taskOrg.name }}.</p>\n						<p ng-hide="AppCtrl.CurrentUser.is_student">The student is working on this task.</p>\n					</div>\n					<div ng-if="ctrl.taskInstance.status === ctrl.taskStatus.SUBMITTED">\n						<p ng-show="AppCtrl.CurrentUser.is_student">\n							Your work is currently being reviewed by your mentor. When the mentor accepts your work, you will then be able to\n							choose another task to work on.</p>\n						<p ng-hide="AppCtrl.CurrentUser.is_student">This task is waiting for review.</p>\n					</div>\n					<div ng-if="ctrl.taskInstance.status === ctrl.taskStatus.NEEDS_WORK">\n						<p ng-show="AppCtrl.CurrentUser.is_student">The mentor has sent your task back for additional work. Read below for more details on the changes they are looking for.</p>\n						<p ng-hide="AppCtrl.CurrentUser.is_student">This task has been sent back to the student for additional work.</p>\n					</div>\n					<div ng-if="ctrl.taskInstance.status === ctrl.taskStatus.COMPLETED">\n						<p ng-show="AppCtrl.CurrentUser.is_student">Congratulations! Your work has been approved by your mentor and you can now go and claim <a ui-sref="base.app.public.tasks">another task</a>.</p>\n						<p ng-hide="AppCtrl.CurrentUser.is_student">This task has been approved.</p>\n					</div>\n					<div ng-if="ctrl.taskInstance.status === ctrl.taskStatus.OUT_OF_TIME">\n						<p ng-show="AppCtrl.CurrentUser.is_student">The deadline has passed on this task. You are now free to claim another task to work on.</p>\n						<p ng-hide="AppCtrl.CurrentUser.is_student">The deadline has passed on this task.</p>\n					</div>\n					<div ng-if="ctrl.taskInstance.status === ctrl.taskStatus.ABANDONED">\n						<p ng-show="AppCtrl.CurrentUser.is_student">You abandoned this task. You can choose a new task to work on.</p>\n						<p ng-hide="AppCtrl.CurrentUser.is_student">The student has abandoned this task.</p>\n					</div>\n					<div ng-if="ctrl.taskInstance.status === ctrl.taskStatus.UNASSIGNED_BY_MENTOR">\n						<p ng-show="AppCtrl.CurrentUser.is_student">The mentor has unassigned you from this task. You can choose a new task to work on.</p>\n						<p ng-hide="AppCtrl.CurrentUser.is_student">The student has been unassigned from this task.</p>\n					</div>\n					<div ng-if="ctrl.taskInstance.status === ctrl.taskStatus.PENDING_PARENTAL_CONSENT">\n						<p ng-show="AppCtrl.CurrentUser.is_student">Your first task has been approved, but your parental consent is still pending approval from contest administrators.\n						Your parental consent form will be reviewed within the next 24 hours. You will be notified if there are any issues with your form.</p>\n						<p ng-hide="AppCtrl.CurrentUser.is_student">The task has been approved, but the student parental consent is still pending approval from contest administrators.</p>\n					</div>\n				</div>\n			</div>\n		</div>\n		<div layout="column" layout-padding layout-align="start end">\n			<div ng-if="ctrl.taskInstance.status !== ctrl.taskStatus.COMPLETED" class="task-instance__status-label">Time remaining</div>\n			<div ng-if="ctrl.taskInstance.status !== ctrl.taskStatus.COMPLETED" class="task-instance__status-value">\n				<time-to-go\n					date="ctrl.taskInstance.getDeadline()"\n					observe="true"\n					interval="2000"\n					time-exhausted-text="{{::ctrl.taskInstance.status !== ctrl.taskStatus.OUT_OF_TIME ? \'Ending soon\' : \'No time left\'}}"\n				></time-to-go>\n			</div>\n			<div class="task-instance__status-label">Deadline</div>\n			<div class="task-instance__status-value">\n				<time datetime="ctrl.taskInstance.getDeadline()">{{ ctrl.taskInstance.getDeadline() | codeInDateFormat }}</time>\n			</div>\n		</div>\n		<div ng-if="ctrl.canEditTaskDefinition() && AppCtrl.tasksAreEditable()" layout="column" layout-align="start end" class="edit-task">\n			<md-menu md-position-mode="target-right target">\n				<md-button aria-label="Task menu" class="header-menu__user-button md-icon-button" ng-click="$mdOpenMenu($event)">\n					<i class="material-icons">more_vert</i>\n				</md-button>\n				<md-menu-content width="4">\n					<md-menu-item>\n						<md-button class="edit-task" layout="column" layout-align="start center" ui-sref="base.app.management.task.edit({ id: ctrl.taskInstance.task_definition.id })">Edit task</md-button>\n					</md-menu-item>\n				</md-menu-content>\n			</md-menu>\n		</div>\n	</md-card-content>\n	<div class="task-instance__actions" ng-if=\'::!AppCtrl.instanceReadOnly()\'>\n		<div ng-if="::ctrl.isStudentView()" layout-sm="column" layout-gt-sm="row" layout-align="start center">\n			<span ng-if="::!AppCtrl.competitionHasEnded()">\n				<md-button ng-show="ctrl.canSubmitTask()" ng-disabled="ctrl.changingStatus" ng-click="ctrl.submitTask($event)">\n					<i class="material-icons button-icon--green">assignment_turned_in</i>\n					<span>Submit task for review</span>\n				</md-button>\n				<md-button ng-show="ctrl.canAbandonTask()" ng-disabled="ctrl.changingStatus" ng-click="ctrl.abandonTask($event)">\n					<i class="material-icons button-icon--orange">assignment_late</i>\n					<span>Abandon task</span>\n				</md-button>\n				<md-button ng-show="::ctrl.canMoveToAnotherTask()" ng-disabled="ctrl.changingStatus" ui-sref="base.app.public.tasks">\n					<i class="material-icons button-icon--blue">assignment</i>\n					<span>Choose another task</span>\n				</md-button>\n			</span>\n			<md-button ng-show="!ctrl.showSubmitIndicator" ng-disabled="ctrl.changingStatus" ng-click="ctrl.saySomething()">\n				<i class="material-icons button-icon--grey">comment</i>\n				<span>Say something</span>\n			</md-button>\n		</div>\n		<div ng-if="::!ctrl.isStudentView()" layout layout-align="start center">\n			<span ng-if="::!AppCtrl.competitionHasEnded()">\n				<md-button ng-show="ctrl.canExtendDeadline()" ng-disabled="ctrl.changingStatus" ng-click="ctrl.addTimeToTask($event)">\n					<i class="material-icons button-icon--green">access_time</i>\n					<span>Add time</span>\n				</md-button>\n				<md-button ng-show="ctrl.canModerateTask()" ng-disabled="ctrl.changingStatus" ng-click="ctrl.taskNeedsWork($event)">\n					<i class="material-icons button-icon--orange">assignment_late</i>\n					<span>More work needed</span>\n				</md-button>\n			</span>\n			<md-button ng-show="ctrl.canModerateTask()" ng-disabled="ctrl.changingStatus" ng-click="ctrl.approveTask($event)">\n				<i class="material-icons button-icon--green">assignment_turned_in</i>\n				<span>Approve task</span>\n			</md-button>\n			<md-button ng-show="ctrl.canUnassignStudent() && !AppCtrl.competitionHasEnded()" ng-disabled="ctrl.changingStatus" ng-click="ctrl.unassignTask($event)">\n				<i class="material-icons button-icon--grey">assignment_late</i>\n				<span>Unassign student</span>\n			</md-button>\n		</div>\n	</div>\n</md-card>\n'),$templateCache.put("pages/management/task-instance-detail/_task-updates.html",'<div layout-sm="column" layout-gt-sm="row">\n	<div flex-gt-sm="35">\n		<md-card>\n			<md-card-content class="task-updater__help">\n				<div class="md-title">Say something</div>\n				<p>If anything is unclear, you can ask {{ ctrl.taskOrg.name }} a question here.</p>\n				<p>If you\'re ready to submit your work for review you can attach the file here or send them the link to where your work is. Be sure to click Submit Task after you have uploaded your work so the mentor can review it.</p>\n				<p>Always follow the instructions described in the task description for submitting your work.</p>\n				<div class="task-updater__title"><strong>Task Updates:</strong></div>\n				<md-checkbox class="md-primary task-updater__hide-updates" aria-label="Hide task updates" ng-model="ctrl.hideTaskActions">\n					Hide task updates\n				</md-checkbox>\n				<div class="task-updater__title" layout layout-align="start center">\n					<div class="task-updater__icon-wrapper">\n						<i class="material-icons task-updater__student-avatar">face</i>\n					</div>\n					<strong class="task-updater__label">Student:</strong>\n				</div>\n				<div class="task-updater__student">{{ ctrl.taskInstance.claimed_by.display_name }}</div>\n				<div class="task-updater__title" layout layout-align="start center">\n					<div class="task-updater__icon-wrapper">\n						<img class="task-updater__org-avatar" ng-src="{{ ctrl.taskOrg.image_url }}=s35" />\n					</div>\n					<strong class="task-updater__label">Mentors:</strong>\n				</div>\n				<ul class="task-updater__mentors-list">\n					<li ng-repeat="mentor in ctrl.taskDefinition.assignments_profiles">{{ mentor.display_name }}</li>\n				</ul>\n			</md-card-content>\n		</md-card>\n	</div>\n	<div flex-gt-sm="65" id="task-updater__messages">\n		<md-card>\n			<div class="task-updater__comment-maker" ng-if="::!AppCtrl.instanceReadOnly()" ng-hide="ctrl.showSubmitIndicator">\n				<form name="newTaskUpdateForm" ng-submit="ctrl.submitNewUpdate(newTaskUpdateForm)" novalidate>\n					<div ng-if="ctrl.isStudentView()" class="task-updater__secure">\n						<p>This conversation is only visible to you, {{ ::ctrl.taskOrg.name }} organization members, and Google contest administrators.</p>\n					</div>\n					<md-input-container class="md-block has-tooltip" flex>\n						<label for="task-updater__comment-text">Write your comment</label>\n						<textarea id="task-updater__comment-text" name="text" md-maxlength="1000" ng-model="ctrl.newTaskUpdate.text" ng-required="!ctrl.newAttachments.length"></textarea>\n						<div ng-messages="newTaskUpdateForm.text.$error" ng-show="newTaskUpdateForm.$dirty">\n							<div ng-messages-include="pages/validation-messages.html"></div>\n						</div>\n					</md-input-container>\n					<div class="task-updater__buttons" layout="row" layout-align="space-between center">\n						<div>\n							<md-button\n								type="button"\n								ng-if="!AppCtrl.competitionHasEnded()"\n								ng-click="ctrl.showUploadModal()"\n								class="task-updater__attach-file"\n							><i class="material-icons">attachment</i> Attach file</md-button>\n						</div>\n						<div>\n							<button type="submit" class="md-button md-raised md-primary md-codein-theme" ng-disabled="!newTaskUpdateForm.$valid || ctrl.sendingMessage">\n								<span ng-show="!ctrl.sendingMessage">Send</span>\n								<span ng-show="ctrl.sendingMessage">Sending</span>\n							</button>\n						</div>\n					</div>\n				</form>\n				<div class="task-update__attachment"\n					ng-repeat="attachment in ctrl.newAttachments"\n					layout="row"\n					layout-align="space-between center"\n					flex\n				>\n					<div flex>\n						<a class="task-updater__attachment-link md-primary" ng-href="{{ attachment.serving_url }}" target="_blank">\n							<i class="material-icons">attachment</i>\n							<span>{{ attachment.filename }}</span>\n							<span>({{ attachment.file_size | fileSize }})</span>\n						</a>\n					</div>\n					<div>\n						<md-button ng-click="ctrl.removeAttachment($index)" class="md-warn">Remove</md-button>\n					</div>\n				</div>\n			</div>\n			<div class="task-updater__submitter" ng-show="ctrl.showSubmitIndicator">\n				<div layout layout-padding layout-align="center center">Comment made.</div>\n				<div layout layout-padding layout-align="center center">Would you like to submit this task for review?</div>\n				<div layout layout-padding layout-align="center center">\n					<md-button class="md-primary md-raised" ng-disabled="ctrl.changingStatus" ng-click="ctrl.submitTask($event)">\n						<i class="material-icons">assignment_turned_in</i>\n						<span>Submit for review</span>\n					</md-button>\n					<md-button type="button" ng-click="ctrl.dismissSubmitIndicator()">Not now</md-button>\n				</div>\n			</div>\n			<md-card-content>\n				<div class="task-update__loading-indicator" ng-if="ctrl.loadingUpdates" layout layout-align="center center">\n					<md-progress-circular md-mode="indeterminate"></md-progress-circular>\n				</div>\n\n\n				<div class="task-update"\n					ng-repeat="update in ctrl.taskUpdates | orderBy: \'-created\'"\n					ng-if="!(update.kind === ctrl.updateKind.ACTION && ctrl.hideTaskActions)"\n					layout="row"\n					>\n					<div class="task-update__icon-wrapper">\n						<i\n							ng-if="update.kind === ctrl.updateKind.ACTION"\n							class="material-icons task-instance__status-icon task-instance__status-icon--{{ update.new_task_instance_status }}">\n							{{ ctrl.statusIcons[update.new_task_instance_status] }}\n						</i>\n						<i\n							ng-if="update.kind === ctrl.updateKind.DEADLINE_EXTENSION"\n							class="material-icons task-updater__deadline-avatar">schedule</i>\n						<i\n							ng-if="update.kind === ctrl.updateKind.COMMENT && update.author.id === ctrl.taskInstance.claimed_by_id"\n							class="material-icons task-updater__student-avatar">face</i>\n						<img\n							ng-if="update.kind === ctrl.updateKind.COMMENT && update.author.id !== ctrl.taskInstance.claimed_by_id"\n							class="task-updater__org-avatar" ng-src="{{ ctrl.taskOrg.image_url }}=s35" />\n					</div>\n					<div flex>\n						<div class="task-update__header" ng-class="{\'task-update__header--action\': update.kind === ctrl.updateKind.ACTION || update.kind === ctrl.updateKind.DEADLINE_EXTENSION }">\n							<strong ng-if="::update.kind === ctrl.updateKind.ACTION">{{:: update.new_task_instance_status === ctrl.taskStatus.OUT_OF_TIME ? \'Out of Time\' : update.author.display_name }}</strong>\n							<strong ng-if="::update.kind !== ctrl.updateKind.ACTION">{{ update.author.display_name }}</strong>\n							<time datetime="::updated.created" class="md-caption">{{ ::update.created | codeInDateFormat }}</time>\n						</div>\n						<div ng-if="update.kind === ctrl.updateKind.ACTION" class="task-update__action">{{ ctrl.taskStatusLong[update.new_task_instance_status] }}</div>\n						<div\n							ng-if="update.kind === ctrl.updateKind.COMMENT"\n							class="task-update__comment">{{ update.text }}</div>\n						<div\n							ng-if="update.kind === ctrl.updateKind.DEADLINE_EXTENSION"\n							class="task-update__deadline_extension">{{ update.text }}</div>\n						<div class="task-update__attachments" ng-if="update.attachments.length">\n							<div ng-repeat="attachment in update.attachments" >\n								<a href="{{ attachment.url }}" target="_blank" class="md-primary task-updater__attachment-link">\n									<i class="material-icons">attachment</i>\n									<span>{{ attachment.filename }}</span>\n									<span>({{ attachment.file_size | fileSize }})</span>\n								</a>\n							</div>\n						</div>\n					</div>\n				</div>\n				<div layout layout-align="center center">\n					<table-pagination\n						class="task-update__load-more"\n						search-model="ctrl.TaskUpdateModel"\n						ng-model="ctrl.taskUpdates"\n						search-params="ctrl.searchParams"\n						fetching="ctrl.loadingUpdates"\n						load-more="true"\n						bind-params="ctrl.bindParams">\n					</table-pagination>\n				</div>\n			</md-card-content>\n		</md-card>\n	</div>\n</div>\n'),$templateCache.put("pages/management/task-instance-detail/pages.task-instance-detail.html",'<h1 transclude-send="page-title">\n	<span class="page-title-prefix" ng-if="!ctrl.isStudentView()">Task instance for {{ ctrl.taskInstance.claimed_by.display_name }}</span>\n	<span>{{ ctrl.taskDefinition.name }} ({{ ctrl.taskDefinition.organization.name }})</span>\n</h1>\n<div class="fixed-width task-instance-detail-page">\n	<ng-include src="\'pages/management/task-instance-detail/_task-instance-status.html\'"></ng-include>\n	<ng-include src="\'pages/management/task-instance-detail/_task-description.html\'"></ng-include>\n	<ng-include src="\'pages/management/task-instance-detail/_task-updates.html\'"></ng-include>\n</div>\n'),$templateCache.put("pages/management/task-instance-list/pages.task-instance-list-base.html",'<tab-nav>\n	<tab-nav-item\n	 sref=".all"\n	 title="All"\n	></tab-nav-item>\n	<tab-nav-item\n	 sref=".inProgress"\n	 title="In progress"\n	></tab-nav-item>\n	<tab-nav-item\n	 sref=".completed"\n	 title="Completed"\n	></tab-nav-item>\n	<tab-nav-item\n	 sref=".incomplete"\n	 title="Abandoned"\n	></tab-nav-item>\n</tab-nav>\n<ui-view class="tab-panel app-body_space-above fixed-outer-width"></ui-view>\n'),$templateCache.put("pages/management/task-instance-list/pages.task-instance-list.html",'<md-sidenav md-component-id="filterpanel" class="md-sidenav-right">\n	<task-filter\n		user="taskListCtrl.data.user"\n		on-change="taskListCtrl.onFilterStateChange(state)"\n		control-config="taskListCtrl.data.controlConfig"\n	></task-filter>\n</md-sidenav>\n\n<page-search search-term=\'taskListCtrl.data.searchParams.search\'></page-search>\n\n<div\n flex-offset-gt-lg="5"\n flex-gt-lg="90"\n>\n	<h1 transclude-send="page-title">{{ taskListCtrl.pageTitle }}<span ng-if="taskListCtrl.taskDefinition"> for {{ ::taskListCtrl.taskDefinition.name }}</span></h1>\n	<md-card>\n		<item-table>\n			<ci-data-table-header>\n				<ci-data-table-title>{{ taskListCtrl.pageTitle }}<span ng-if="taskListCtrl.taskDefinition"> for {{ ::taskListCtrl.taskDefinition.name }}</span></ci-data-table-title>\n				<ci-data-table-header-actions>\n					<md-button class="md-icon-button" sidenav-toggle="filterpanel">\n						<i class="material-icons">filter_list</i>\n					</md-button>\n				</ci-data-table-header-actions>\n			</ci-data-table-header>\n\n			<ci-data-table-body\n				cols="taskListCtrl.data.tableConfig"\n				order-by="taskListCtrl.data.searchParams.order"\n				track-by="id"\n				items="taskListCtrl.taskInstances"\n				deferred="taskListCtrl.taskInstances.$promise"\n				selected="taskListCtrl.data.selected"\n				locals="taskListCtrl.locals">\n\n				<ci-data-table-cell-template\n					cell-id="name">\n					<span class="cell--primary cell--oneline">\n						<a ui-sref="base.app.management.taskInstance.detail({id: listItem.id})" title="{{::listItem.task_definition.name}}">\n							{{::listItem.task_definition.name}}\n						</a>\n					</span>\n				</ci-data-table-cell-template>\n\n				<ci-data-table-cell-template\n					cell-id="student">\n					{{::listItem.claimed_by.display_name || \'Unknown\'}}\n				</ci-data-table-cell-template>\n\n				<ci-data-table-cell-template\n					cell-id="organization">\n					<organization-detail\n						organization-id="listItem.organization_id"\n						show="name">\n					</organization-detail>\n				</ci-data-table-cell-template>\n\n				<ci-data-table-cell-template\n					cell-id="status">\n					{{::listItem.status | display:\'TaskStatus\' | constantCaseToSentenceCase}}\n				</ci-data-table-cell-template>\n\n				<ci-data-table-cell-template\n					cell-id="time_remaining">\n					<span ng-show="::listItem.status !== locals.Constants.TaskStatus.ABANDONED && listItem.status !== locals.Constants.TaskStatus.SUBMITTED">\n					<time-to-go\n						date="listItem.deadline_to_complete"\n						observe="true"\n						interval="2000"\n						time-exhausted-text="Ending soon"\n					></time-to-go>\n					</span>\n					<span ng-show="::listItem.status === locals.Constants.TaskStatus.ABANDONED || listItem.status === locals.Constants.TaskStatus.SUBMITTED">Paused ({{listItem.last_deadline_pause_remaining_days || 0}} Days)</span>\n				</ci-data-table-cell-template>\n\n				<ci-data-table-cell-template\n					cell-id="categories">\n					<task-categories\n						task="listItem.task_definition"\n					></task-categories>\n				</ci-data-table-cell-template>\n\n				<ci-data-table-cell-template\n					cell-id="is_beginner">\n					{{::listItem.task_definition.is_beginner ? \'Yes\' : \'No\'}}\n				</ci-data-table-cell-template>\n\n				<ci-data-table-cell-template\n					cell-id="modified">\n					<span class="cell--oneline" am-time-ago="listItem.modified"></span>\n				</ci-data-table-cell-template>\n\n				<ci-data-table-cell-template\n					cell-id="tags">\n					{{listItem.task_definition.tags.join(\', \')}}\n				</ci-data-table-cell-template>\n			</ci-data-table-body>\n\n			<ci-data-table-footer\n				model="taskListCtrl.taskInstances"\n				search-model="::taskListCtrl.data.searchModel"\n				search-params="taskListCtrl.data.searchParams"\n				>\n				<ci-data-table-footer-actions>\n					<md-switch ng-if="AppCtrl.CurrentUser.is_mentor || AppCtrl.CurrentUser.is_org_admin" ng-model="taskListCtrl.filterMyTasks" ng-change="taskListCtrl.toggleMyTasks()" class="md-primary">\n						<md-button class="md-primary">My tasks</md-button>\n					</md-switch>\n				</ci-data-table-footer-actions>\n			</ci-data-table-footer>\n		</item-table>\n	</md-card>\n</div>\n'),$templateCache.put("pages/management/task-list/pages.task-detail-dialog.html",'<md-dialog class="task-definition-dialog" aria-label="Task definition">\n	<md-dialog-content>\n		<div layout layout-align="end center">\n			<md-button class="close-button" ng-click="closeDialog()">\n				<i class="material-icons">close</i>\n			</md-button>\n		</div>\n		<task-detail id="taskId" show-header show-logo show-actions></task-detail>\n	</md-dialog-content>\n</md-dialog>\n'),$templateCache.put("pages/management/task-list/pages.task-list-base.html",'<ui-view class="tab-panel app-body_space-above"></ui-view>\n'),$templateCache.put("pages/management/task-list/pages.task-list.html",'<page-search\n	search-term=\'TaskListCtrl.data.findParams.search\'\n></page-search>\n\n<md-sidenav md-component-id="filterpanel" class="md-sidenav-right">\n	<task-filter\n		user="TaskListCtrl.data.user"\n		model="TaskListCtrl.data.searchModel"\n		on-change="TaskListCtrl.onFilterStateChange(state)"\n		control-config="TaskListCtrl.data.controlConfig"\n	></task-filter>\n</md-sidenav>\n\n<div\n flex-offset-gt-lg="5"\n flex-gt-lg="90"\n>\n	<h1 transclude-send="page-title">\n		Tasks\n		<span ng-if="AppCtrl.CurrentUser.is_program_admin && TaskListCtrl.currentOrg.name"> for {{ TaskListCtrl.currentOrg.name }}</span>\n	</h1>\n	<md-card>\n		<item-table>\n\n			<ci-data-table-header>\n				<ci-data-table-title>Tasks</ci-data-table-title>\n				<ci-data-table-header-actions>\n					<div>\n						<md-button class="md-icon-button" sidenav-toggle="filterpanel">\n							<i class="material-icons">filter_list</i>\n						</md-button>\n					</div>\n				</ci-data-table-header-actions>\n			</ci-data-table-header>\n\n			<ci-data-table-body\n			 cols="TaskListCtrl.data.tableConfig"\n			 order-by="TaskListCtrl.data.findParams.order"\n			 track-by="id"\n			 items="TaskListCtrl.tasks"\n			 deferred="TaskListCtrl.tasks.$promise"\n			 selected="TaskListCtrl.selectedTasks"\n			>\n				<ci-data-table-cell-template\n					cell-id="name">\n					<span class="cell--primary cell--oneline">\n						<a ui-sref="base.app.management.task.edit({ id: listItem.id })">\n							{{ listItem.name }}\n						</a>\n					</span>\n				</ci-data-table-cell-template>\n\n				<ci-data-table-cell-template\n					cell-id="organization">\n					<organization-detail\n						organization-id="listItem.organization_id"\n						show="name">\n					</organization-detail>\n				</ci-data-table-cell-template>\n\n				<ci-data-table-cell-template\n				 cell-id="published"\n				>\n					<i class="material-icons">{{ (listItem.status == 2) ? \'check\' : \'close\' }}</i>\n				</ci-data-table-cell-template>\n\n				<ci-data-table-cell-template\n					cell-id="modified">\n					<span class="cell--oneline" am-time-ago="listItem.modified"></span>\n				</ci-data-table-cell-template>\n\n				<ci-data-table-cell-template\n					cell-id="available">\n					{{ listItem.available_count == 4294967296 ? \'Unlimited\' : listItem.available_count }}\n				</ci-data-table-cell-template>\n\n				<ci-data-table-cell-template\n				 cell-id="categories"\n				>\n					<task-categories\n						task="listItem"\n					></task-categories>\n				</ci-data-table-cell-template>\n\n				<ci-data-table-cell-template\n				 cell-id="tags"\n				>\n					{{listItem.tags.join(\', \')}}\n				</ci-data-table-cell-template>\n\n				<ci-data-table-cell-template\n					cell-id="time_to_complete_in_days">\n					{{::listItem.time_to_complete_in_days}} Days\n				</ci-data-table-cell-template>\n\n			</ci-data-table-body>\n\n			<ci-data-table-footer\n			 model="TaskListCtrl.tasks"\n			 search-model="::TaskListCtrl.data.searchModel"\n			 search-params="TaskListCtrl.data.findParams"\n			 ignored-url-params="::TaskListCtrl.ignoredUrlParams"\n			>\n				<ci-data-table-footer-actions layout="row">\n					<ci-loading-indicator loading="TaskListCtrl.actionLoading" show-progress="false" promises="TaskListCtrl.actionPromises"></ci-loading-indicator>\n					<md-switch ng-if="AppCtrl.CurrentUser.is_mentor || AppCtrl.CurrentUser.is_org_admin" ng-model="TaskListCtrl.filterMyTasks" ng-change="TaskListCtrl.toggleMyTasks()" class="md-primary">\n						<md-button class="md-primary">My tasks</md-button>\n					</md-switch>\n					<span ng-if="::AppCtrl.tasksAreEditable()">\n						<md-button\n						 class="md-primary"\n						 ui-sref="base.app.management.task.edit(TaskListCtrl.currentOrg && !AppCtrl.CurrentUser.is_org_admin ? {id: \'new\', organization_id: TaskListCtrl.currentOrg.id} : {id: \'new\'})"\n						>\n							<i class="material-icons">add</i> task\n						</md-button>\n						<md-button\n						 ng-if="AppCtrl.CurrentUser.is_org_admin || AppCtrl.CurrentUser.is_program_admin"\n						 ng-disabled="TaskListCtrl.actionLoading || !TaskListCtrl.selectedTasks.length"\n						 class="md-default"\n						 ng-click=\'TaskListCtrl.changeTaskStatus({publish: true})\'\n						>\n							Publish\n						</md-button>\n						<md-button\n						 ng-if="AppCtrl.CurrentUser.is_org_admin || AppCtrl.CurrentUser.is_program_admin"\n						 ng-disabled="TaskListCtrl.actionLoading || !TaskListCtrl.selectedTasks.length"\n						 class="md-warn"\n						 ng-click=\'TaskListCtrl.changeTaskStatus({publish: false})\'\n						>\n							Unpublish\n						</md-button>\n						<md-button\n						 ng-if="AppCtrl.CurrentUser.is_org_admin || AppCtrl.CurrentUser.is_program_admin"\n						 ng-disabled="TaskListCtrl.actionLoading || !TaskListCtrl.selectedTasks.length"\n						 class="md-default"\n						 ng-click="TaskListCtrl.showBulkMentorsModal()"\n						>\n							Assign\n						</md-button>\n					</span>\n				</ci-data-table-footer-actions>\n			</ci-data-table-footer>\n		</item-table>\n	</md-card>\n</div>\n'),$templateCache.put("pages/management/task-list/task-list-item.directive.html",'<div class="md-padding task-definition-list-item"\n	layout-gt-sm="row"\n	layout-align="space-between start">\n	<div flex>\n		<div class="md-subhead task-definition__organization">{{ ::task.organization.name }}</div>\n		<div class="md-headline">{{ ::task.name }}</div>\n		<div class="task-definition__tags" ng-if="task.is_beginner || task.tags.length > 0" layout="row" layout-wrap>\n			<span ng-if="task.is_beginner"\n				class="task-definition__tag task-definition__tag--beginner">Beginner</span>\n			<span ng-repeat="tag in task.tags"\n				class="task-definition__tag">{{ ::tag }}</span>\n		</div>\n	</div>\n	<div class="task-definition__meta" layout="column" layout-align="space-between end">\n		<div class="task-definition__deadline-categories-container" layout="row" layout-align="space-between end" layout-gt-sm="column">\n			<div layout layout-align="end center">\n				<span>{{ ::task.time_to_complete_in_days }} days</span>\n				<i class="material-icons task-definition__deadline-icon">access_time</i>\n			</div>\n			<div class="task-definition__categories" layout layout-align="end center">\n				<div ng-repeat="category in task.categories">\n					<task-category id="{{ category }}" hide-name="true" has-tooltip="true"\n						class="task-definition__category"></task-category>\n				</div>\n			</div>\n		</div>\n		<div class="task-definition__view-info" layout layout-align-sm="center center" layout-align-gt-sm="end center">\n			<md-button class="md-primary md-raised" ng-click="ctrl.click({$event: $event, taskId: task.id})">View info</md-button>\n		</div>\n	</div>\n	<span class="ci-ribbon success-ci-ribbon" ng-if="::taskInstance && taskInstance.status === TaskStatus.COMPLETED">COMPLETED</span>\n	<span class="ci-ribbon warning-ci-ribbon" ng-if="::taskInstance && (taskInstance.status === TaskStatus.ABANDONED || taskInstance.status === TaskStatus.UNASSIGNED_BY_MENTOR)">ABANDONED</span>\n	<span class="ci-ribbon warning-ci-ribbon" ng-if="::taskInstance && (taskInstance.status === TaskStatus.OUT_OF_TIME)">OUT OF TIME</span>\n	<span class="ci-ribbon" ng-if="::taskInstance && (taskInstance.status === TaskStatus.CLAIMED || taskInstance.status === TaskStatus.NEEDS_WORK || taskInstance.status === TaskStatus.SUBMITTED || taskInstance.status === TaskStatus.PENDING_PARENTAL_CONSENT)">IN PROGRESS</span>\n</div>\n'),$templateCache.put("pages/management/task-preview/pages.preview-task.html",'<h1 transclude-send="page-title">Preview task<span ng-if="TaskCtrl.task.name">: {{ TaskCtrl.task.name }}</span></h1>\n<div class="fixed-width">\n	<md-card ng-show="!TaskCtrl.canEdit()">\n		<md-card-content class="task-preview task-preview__warning" layout="row" layout-align="start center">\n			<i class="material-icons">warning</i>\n			<div ng-if="!TaskCtrl.tasksAreEditable()" class="task-preview__error__text" flex>Google Code-in has ended, you may no longer edit task definitions.</div>\n			<div ng-if="TaskCtrl.tasksAreEditable()" class="task-preview__error__text" flex>You must be assigned as a mentor of this task to edit it.</div>\n		</md-card-content>\n	</md-card>\n	<md-card ng-show="TaskCtrl.taskFormCopy.$dirty">\n		<md-card-content class="task-preview task-preview__error" layout="row" layout-align="start center">\n			<i class="material-icons">warning</i>\n			<div class="task-preview__error__text" flex>This task has not been saved.</div>\n		</md-card-content>\n	</md-card>\n	<md-card ng-show="TaskCtrl.task.status == TaskCtrl.draftState">\n		<md-card-content  class="task-preview task-preview__error" layout="row" layout-align="start center">\n			<i class="material-icons">warning</i>\n			<div class="task-preview__error__text" flex>This task has not been published.</div>\n		</md-card-content>\n	</md-card>\n	<md-card ng-show="!TaskCtrl.isNewTask() && TaskCtrl.task.status == TaskCtrl.publishedState">\n		<md-card-content class="task-preview task-preview__warning" layout="row" layout-align="start center">\n			<i class="material-icons">warning</i>\n			<div class="task-preview__error__text" flex>\n				<ng-pluralize count="TaskCtrl.task.in_progress_count"\n	              when="{\'1\': \'{} student is\',\n	                     \'other\': \'{} students are\'}">\n				</ng-pluralize>\n					working on this task and\n				<ng-pluralize count="TaskCtrl.task.completed_count"\n	          		 when="{\'1\': \'{} student has\',\n	                     \'other\': \'{} students have\'}">\n				</ng-pluralize>\n				 finished.\n				<ng-pluralize count="TaskCtrl.task.available_count"\n	          		when="{\'1\': \'{} claim\',\n	                 \'other\': \'{} claims\'}">\n				</ng-pluralize> remaining.\n			</div>\n			<div ng-if="AppCtrl.program.competition_open || AppCtrl.program.competition_closed">\n				<md-button ui-sref="base.app.management.taskInstance.list.all({\'sp-task_definition\': TaskCtrl.task.id})">View task instances</md-button>\n			</div>\n		</md-card-content>\n	</md-card>\n	<md-card class="task-preview">\n		<md-card-content>\n			<task-detail task="TaskCtrl.task" show-claim-action="false"></task-detail>\n		</md-card-content>\n	</md-card>\n</div>\n'),
$templateCache.put("pages/management/winners-preview/winners-preview.html",'<div class="page-home">\n	<section class="home__winners lifted-section">\n		<div class="fixed-width">\n			<div class="home__winners-banner">\n				<h2 layout class="home__winners-title" layout-align="center center">Google Code-in Winners {{ AppCtrl.program.year }}</h2>\n				<img hide-sm class="home__winners-img" src="/static/img/winners-header.svg" />\n				<img hide-gt-sm class="home__winners-img" src="/static/img/winners-header-sm.svg" />\n			</div>\n			<div layout-gt-sm="row">\n				<div flex-sm flex-gt-sm="50">\n					<div ng-repeat="org in ctrl.orgsList track by $index" ng-if="$index < ctrl.orgsList.length / 2">\n						<ng-include src="\'pages/public/home/_winner-box.html\'"></ng-include>\n					</div>\n				</div>\n				<div flex-sm flex-gt-sm="50">\n					<div ng-repeat="org in ctrl.orgsList track by $index" ng-if="$index >= ctrl.orgsList.length / 2">\n						<ng-include src="\'pages/public/home/_winner-box.html\'"></ng-include>\n					</div>\n				</div>\n			</div>\n		</div>\n	</section>\n</div>\n'),$templateCache.put("pages/parental-consent/common/parental-consent-fields.html",'<md-input-container flex>\n	<label>First Name of Parent/Legal Guardian</label>\n	<input name="first_name" required ng-model="ctrl.parentalConsent.first_name">\n\n	<div ng-messages="parentalConsentForm.first_name.$error"\n		 ng-if="(parentalConsentForm.first_name.$dirty || parentalConsentForm.$submitted) && !AppCtrl.isEmpty(parentalConsentForm.first_name.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n<md-input-container flex>\n	<label>Last Name of Parent/Legal Guardian</label>\n	<input name="last_name" required ng-model="ctrl.parentalConsent.last_name">\n\n	<div ng-messages="parentalConsentForm.last_name.$error"\n		 ng-if="(parentalConsentForm.last_name.$dirty || parentalConsentForm.$submitted) && !AppCtrl.isEmpty(parentalConsentForm.last_name.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n\n<md-input-container class="has-tooltip" flex>\n	<label>Email Address of Parent/Legal Guardian</label>\n	<input ng-model="ctrl.parentalConsent.parent_email" type="email" ci-validate-email ng-model="ctrl.parentalConsent.parent_email" name="parent_email" required>\n	<tooltip-help>This email address will only be used to send you confirmation of this agreement.</tooltip-help>\n	<div ng-messages="parentalConsentForm.parent_email.$error"\n		 ng-if="(parentalConsentForm.parent_email.$dirty || parentalConsentForm.$submitted) && !AppCtrl.isEmpty(parentalConsentForm.parent_email.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n<md-input-container flex>\n	<label>Address of Parent/Legal Guardian</label>\n	<input name="address_street" required ng-model="ctrl.parentalConsent.address_street">\n\n	<div ng-messages="parentalConsentForm.address_street.$error"\n		 ng-if="(parentalConsentForm.address_street.$dirty || parentalConsentForm.$submitted) && !AppCtrl.isEmpty(parentalConsentForm.address_street.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n<md-input-container flex>\n	<label>City</label>\n	<input name="address_city" required ng-model="ctrl.parentalConsent.address_city">\n\n	<div ng-messages="parentalConsentForm.address_city.$error"\n		 ng-if="(parentalConsentForm.address_city.$dirty || parentalConsentForm.$submitted) && !AppCtrl.isEmpty(parentalConsentForm.address_city.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n<md-input-container flex>\n	<label>State/Province (optional)</label>\n	<input name="address_province" ng-model="ctrl.parentalConsent.address_province">\n\n	<div ng-messages="parentalConsentForm.address_province.$error"\n		 ng-if="(parentalConsentForm.address_province.$dirty || parentalConsentForm.$submitted) && !AppCtrl.isEmpty(parentalConsentForm.address_province.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n<md-input-container flex>\n	<md-select ng-model="ctrl.parentalConsent.address_country" name="address_country"\n		 placeholder="Select a country" required>\n	<md-option ng-repeat="t in ctrl.countries" ng-value="t[0]">{{ t[0] }}</md-option>\n	</md-select>\n	<div ng-messages="parentalConsentForm.address_country.$error"\n		 ng-if="if(parentalConsentForm.address_country.$dirty || parentalConsentForm.$submitted) && !AppCtrl.isEmpty(parentalConsentForm.address_country.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n<md-input-container flex>\n	<label>Postal/Zip Code</label>\n	<input name="address_postcode" required ng-model="ctrl.parentalConsent.address_postcode">\n\n	<div ng-messages="parentalConsentForm.address_postcode.$error"\n		 ng-if="(parentalConsentForm.address_postcode.$dirty || parentalConsentForm.$submitted) && !AppCtrl.isEmpty(parentalConsentForm.address_postcode.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n<md-input-container flex>\n	<md-checkbox name="is_parent" type="checkbox" required ng-model="ctrl.parentalConsent.is_parent" class="md-primary">\n		I certify that I am the parent or legal guardian of the child listed below.\n	</md-checkbox>\n\n	<div ng-messages="parentalConsentForm.is_parent.$error"\n		 ng-if="(parentalConsentForm.is_parent.$dirty || parentalConsentForm.$submitted) && !AppCtrl.isEmpty(parentalConsentForm.is_parent.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n<md-input-container flex>\n	<md-checkbox name="is_mentally_competent" type="checkbox" required ng-model="ctrl.parentalConsent.is_mentally_competent" class="md-primary">\n		I am mentally competent to enter into this Parental Consent and Waiver and Release and consent to this Parental Consent and Waiver and Release by my signature.\n	</md-checkbox>\n\n	<div ng-messages="parentalConsentForm.is_mentally_competent.$error"\n		 ng-if="(parentalConsentForm.is_mentally_competent.$dirty || parentalConsentForm.$submitted) && !AppCtrl.isEmpty(parentalConsentForm.is_mentally_competent.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n<md-input-container flex>\n	<md-checkbox name="is_agreement_accepted" type="checkbox" required ng-model="ctrl.parentalConsent.is_agreement_accepted" class="md-primary">\n		I have read and agree to the terms of this Parental Consent and Waiver and Release and the Contest Rules.\n	</md-checkbox>\n\n	<div ng-messages="parentalConsentForm.is_agreement_accepted.$error"\n		 ng-if="(parentalConsentForm.is_agreement_accepted.$dirty || parentalConsentForm.$submitted) && !AppCtrl.isEmpty(parentalConsentForm.is_agreement_accepted.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n<md-input-container flex>\n	<label>First Name of Child</label>\n	<input name="child_first_name" required ng-model="ctrl.parentalConsent.child_first_name">\n\n	<div ng-messages="parentalConsentForm.child_first_name.$error"\n		 ng-if="(parentalConsentForm.child_first_name.$dirty || parentalConsentForm.$submitted) && !AppCtrl.isEmpty(parentalConsentForm.child_first_name.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n<md-input-container flex>\n	<label>Last Name of Child</label>\n	<input name="child_last_name" required ng-model="ctrl.parentalConsent.child_last_name">\n\n	<div ng-messages="parentalConsentForm.child_last_name.$error"\n		 ng-if="(parentalConsentForm.child_last_name.$dirty || parentalConsentForm.$submitted) && !AppCtrl.isEmpty(parentalConsentForm.child_last_name.$error)">\n		<div ng-messages-include="pages/validation-messages.html"></div>\n	</div>\n</md-input-container>\n'),$templateCache.put("pages/parental-consent/pages.parental-consent-success.html",'<div layout layout-align="center center">\n	<p class="md-headline">Thank you for submitting the parental consent form. The contestant may start working on their first task.</p>\n</div>\n'),$templateCache.put("pages/parental-consent/pages.parental-consent.html",'<div class="fixed-width dashboard">\n	<signup-progress ng-if="!ctrl.isParent" steps="ctrl.steps" current-step="ctrl.step"></signup-progress>\n	<md-card>\n		<md-card-content>\n			<h3 class="md-title">Parental Consent Form: To Be Completed by Parent or Legal Guardian</h3>\n\n			<div class="warning" ng-hide="ctrl.program.student_signup_open || ctrl.parentalConsent.status === ctrl.ParentalConsentStatus.ACCEPTED" layout="row" layout-align="center center">\n				<p><i class="material-icons">warning</i>\n					Parental Consent cannot be\n					{{ ctrl.parentalConsent.status != ctrl.ParentalConsentStatus.PENDING ? \'resubmitted\' : \'submitted\' }}\n					at this stage of the contest.\n				</p>\n			</div>\n\n			<div ng-if="ctrl.program.student_signup_open">\n				<div ng-if="!ctrl.isParent">\n					<p>Students:  Please have your parent or legal guardian read and complete either the online or offline Parental Consent Form.  It is only necessary to complete one of these options. Until you have this form completed you may not participate in the contest, but you are always welcome to browse the <a ui-sref="base.app.public.tasks">available task list</a> and <a ui-sref="base.app.public.organizations.list">participating organizations</a> to learn more.</p>\n				</div>\n\n				<div ng-if="ctrl.isParent">\n					<p>You have been asked to complete a Parental Consent Form for a student taking part in Google Code-in {{ AppCtrl.program.year }}.Please complete either the Online Form or the Offline Form, <strong>it is necessary to complete one of the options</strong>.</p>\n				</div>\n			</div>\n\n		</md-card-content>\n	</md-card>\n	<div ng-if="!ctrl.isParent && ctrl.program.student_signup_open">\n		<md-card\n			ng-if="\n				!ctrl.isSignUp &&\n				ctrl.parentalConsent &&\n				ctrl.parentalConsent.status !== ctrl.ParentalConsentStatus.PENDING\n			"\n			flex="1"\n		>\n			<md-card-content>\n				<h3 class="md-title">Parental Consent Status</h3>\n				<div class="parental-consent-status">\n					<div layout="row" flex layout-align="start center" ng-show="ctrl.parentalConsent.status === ctrl.ParentalConsentStatus.SUBMITTED">\n						<i class="material-icons button-icon--blue">assignment</i> Submitted, awaiting approval\n					</div>\n					<div layout="row" flex layout-align="start center" ng-show="ctrl.parentalConsent.status === ctrl.ParentalConsentStatus.ACCEPTED">\n						<i class="material-icons  success">assignment_turned_in</i> Approved\n					</div>\n					<div layout="row" flex layout-align="start center" ng-show="ctrl.parentalConsent.status === ctrl.ParentalConsentStatus.REJECTED">\n						<i class="material-icons  warning">assignment_late</i> Rejected\n					</div>\n				</div>\n			</md-card-content>\n		</md-card>\n		<div ng-if="ctrl.parentalConsent.status !== ctrl.ParentalConsentStatus.ACCEPTED" layout-sm="column" layout-gt-sm="row">\n			<div flex>\n				<md-card>\n					<md-card-content>\n						<h2 class="upper">Online option</h2>\n						<p>Please have your parent or legal guardian go to this link</p>\n						<div class="parental-consent-shareable-link" layout>\n							<div flex="100"><input value="{{ ctrl.shareLink }}" select-input-text/></div>\n						</div>\n						<p>and follow the instructions to submit the form.\n\n						If your parent or legal guardian can\'t fill out the form now, you can give them the link to complete it later. You do not need to be present for them to fill it out.</p>\n					</md-card>\n				</md-card-content>\n			</div>\n			<div flex>\n				<md-card>\n					<md-card-content>\n						<h2 class="upper">Offline option</h2>\n						<ng-include src="\'pages/parental-consent/pages.parental-consent.offline-form.html\'"></ng-include>\n					</md-card-content>\n				</md-card>\n			</div>\n		</div>\n		<md-card>\n			<md-card-content>\n				<h2 class="upper">Need help?</h2>\n				<p>Having trouble getting your Parental Consent Form filled out?</p>\n\n				<p>Please email <a href="mailto:gci-support@google.com">gci-support@google.com</a>.</p>\n			</md-card-content>\n		</md-card>\n	</div>\n	<md-card>\n		<div ng-if="ctrl.isParent && !ctrl.isSuccess()">\n			<md-tabs class="no-margin tab-nav">\n				<md-tab ui-sref="base.app.parental-consent.online-form({token: \'{{ ctrl.parentalConsent.share_link_token }}\'})" ui-sref-active="selected">\n					Online form\n				</md-tab>\n				<md-tab ui-sref="base.app.parental-consent.offline-form({token: \'{{ ctrl.parentalConsent.share_link_token }}\'})" ui-sref-active="selected">\n					Offline form\n				</md-tab>\n			</md-tabs>\n		</div>\n		<div ng-if="ctrl.isParent" ui-view class="md-padding"></div>\n	</md-card>\n</div>\n'),$templateCache.put("pages/parental-consent/pages.parental-consent.offline-form.html",'<form layout-fill class="parental-consent__form file-upload" ci-submit="ctrl.submit()" name="parentalConsentOfflineForm" novalidate form-focus-invalid>\n	<p>\n		<a href="http://storage.googleapis.com/codein-static/GCI2015-ParentalConsentContestantwithInstructions.pdf" target="_self" class="upper download-button md-button md-primary">\n			<i class="material-icons">subject</i> Download parental consent\n		</a>\n	</p>\n	<p>After downloading, please have your parent or legal guardian follow the instructions at the top of the file and then upload the result here.</p>\n	<md-input-container class="has-tooltip" flex>\n		<label>Email Address of Parent/Legal Guardian</label>\n		<input ng-model="ctrl.parentalConsent.parent_email" type="email" ci-validate-email ng-model="ctrl.parentalConsent.parent_email" name="parent_email" required>\n		<tooltip-help ng-if="ctrl.isParent">This email address will only be used to send you confirmation of this agreement.</tooltip-help>\n		<tooltip-help ng-if="!ctrl.isParent">This email address will only be used to send your parent/legal guardian confirmation of the uploaded form. If your parent/legal guardian does not have an email address, you may enter your own.</tooltip-help>\n		<div ng-messages="parentalConsentOfflineForm.parent_email.$error">\n			<div ng-messages-include="pages/validation-messages.html"></div>\n		</div>\n	</md-input-container>\n	<div class="file-upload-container">\n		<div layout layout-align="start center">\n			<div>\n				<md-button type="button" ng-click="ctrl.chooseFile()" class="md-raised md-primary" flex>Choose file</md-button>\n			</div>\n			<div class="file-name" flex>{{ ctrl.parentalConsentOfflineForm.uploadedFile ? ctrl.parentalConsentOfflineForm.uploadedFile.File.name : \'No file chosen\' }}</div>\n		</div>\n		<input id="parental-consent-file-input" class="file-upload-input upload" type="file" fileread="ctrl.parentalConsentOfflineForm.uploadedFile"/>\n	</div>\n	<div layout>\n		<md-button type="submit" class="md-raised md-primary" ng-disabled="!ctrl.parentalConsentOfflineForm.uploadedFile || !parentalConsentOfflineForm.$valid || parentalConsentOfflineForm.$state.inProgress">\n			<span ng-if="!parentalConsentOfflineForm.$state.inProgress">Upload</span>\n			<span ng-if="parentalConsentOfflineForm.$state.inProgress">Please wait...</span>\n		</md-button>\n	</div>\n</form>\n'),$templateCache.put("pages/parental-consent/pages.parental-consent.online-form.html",'<div layout-align="start start" layout="column" layout-fill layout-padding flex>\n	<div class="tos">\n		<p class="tos__intro"><strong>GOOGLE CODE-IN 2015<br/>\n			PARENTAL CONSENT AND WAIVER AND RELEASE<br/>\n			(Contestant)\n		</strong></p>\n\n		<p>This Parental Consent and Waiver and Release (<strong>Agreement</strong>) is between Google Inc. (<strong>Google</strong>) and you, as\n		parent or legal guardian of the child named below who would like to be eligible to participate in the Google\n		Code-in 2015 Contest (<strong>Contest</strong>) which is described in the Contest Rules below.</p>\n\n		<p><strong>Your child will not be eligible to participate in this Contest unless you complete this form.</strong></p>\n\n		<p class="tos__intro"><strong>YOUR CONSENT AND AGREEMENT</strong></p>\n\n		<ol>\n			<li>You warrant that your child is eligible to participate in the Contest under the Contest Rules below.</li>\n			<li>You understand and permit your child to participate in the Contest and you and your child agree to be\n			bound by the Contest Rules.</li>\n			<li>If your child is selected as a Grand Prize Winner, you understand that your child, accompanied by one\n			parent or legal guardian, will be invited to travel to Mountain View, California, on or about June 15, 2016\n			subject to the Contest Rules. You acknowledge that you have a medical insurance policy and that such\n			insurance will be your primary source of payment should medical treatment be necessary as a result of\n			you (or other parent/guardian) and your childs participation in the trip.</li>\n			<li>You give permission to Google and its subsidiaries, affiliates, licensees, successors, and assigns to\n			make and have made audio, visual, and audiovisual recordings (in any format or media) of your child\n			and you (if you accompany your child) while participating in the Grand Prize Winners Trip (the\n			<strong>Recordings</strong>).</li>\n			<li>You grant Google a worldwide, sublicensable, transferable, perpetual, irrevocable, unrestricted license to\n			reproduce, prepare derivative works of, distribute, publicly perform, publicly display, and otherwise use\n			the Recordings and your childs name and entries to the Contest to promote Google Code-in without\n			compensation to you or your child.</li>\n			<li>YOU HEREBY WAIVE AND RELEASE, and forever discharge Google and its agents, promoters,\n			employees, officers, directors, affiliates, successors, and assigns, of and from any and all claims,\n			demands, causes of action, lawsuits, damages and liabilities, of every kind and nature, whether known\n			or unknown, in law or equity, that you or your child ever had or may have, arising from or in any way\n			related to you and your childs participation in the Contest or a prize.</li>\n			<li>This Agreement sets out all terms agreed between the parties and supersedes all other agreements\n			between you and Google relating to the Contest. This Agreement will continue in full force and effect\n			after the Contest ends. Any modifications to this Agreement must be agreed by both you and Google in\n			writing and expressly state that it is amending this Agreement.</li>\n			<li>By signing below, you acknowledge that (i) you have read, understand and fully agree to the terms of\n			this Agreement; and (ii) you understand and confirm that by signing this Agreement you have given up\n			considerable future legal rights.</li>\n		</ol>\n\n		<p>I am the parent or legal guardian of the child listed below and consent to this Parental Consent and Waiver and\n		Release by my signature below, and I am mentally competent to enter into this Parental Consent and Waiver\n		and Release.</p>\n\n		<md-content layout-padding class="tos__scrolling-box">\n			<ng-include src="\'pages/public/terms/_student-terms.html\'"></ng-include>\n		</md-content>\n	</div>\n\n	<form layout-fill class="parental-consent__form" ci-submit="ctrl.submit()" name="parentalConsentForm" novalidate form-focus-invalid flex>\n		<div layout="column">\n			<ng-include src="\'pages/parental-consent/common/parental-consent-fields.html\'"></ng-include>\n		</div>\n		<div layout>\n			<md-button type="submit" ng-disabled="!parentalConsentForm.$valid || parentalConsentForm.$state.inProgress" class="md-raised md-primary">\n				<span ng-if="!parentalConsentForm.$state.inProgress && !parentalConsentForm.$state.success">Submit</span>\n				<span ng-if="parentalConsentForm.$state.inProgress">Saving...</span>\n				<span ng-if="parentalConsentForm.$state.success">Submitted!</span>\n			</md-button>\n		</div>\n		</form>\n	</div>\n</div>\n'),$templateCache.put("pages/parental-consent/pages.parental-consent.share-link.html",'<md-dialog class="org-dialog">\n	<md-dialog-content>\n		<div class="org-dialog__title-bar" layout layout-align="space-between center">\n			<span class="upper md-headline">Share your parental consent</span>\n		</div>\n		<div class="parental-consent-shareable-link-dialog__central-section" layout>\n			<div flex>\n				<p>Share this URL to your parent/guardian and they will be able to complete your Parental Consent form.</p>\n				<div class="parental-consent-shareable-link" layout>\n					<div flex="100"><input value="{{ shareLink }}" select-input-text/></div>\n				</div>\n			</div>\n		</div>\n		<div class="org-dialog__footer">\n			<span>\n				<md-button class="upper close-button" ng-click="closeDialog()">\n					Close\n				</md-button>\n			</span>\n		</div>\n	</md-dialog-content>\n</md-dialog>\n'),$templateCache.put("pages/public/about/pages.about.html",'<section class="lifted-section">\n	<div class="fixed-width">\n		<md-card>\n			<md-card-content class="md-padding">\n				<h2>About</h2>\n				<p><a ui-sref="base.app.public.home">Google Code-in</a> is a contest to introduce pre-university students (ages 13-17) to open source software development. Since 2010, over 2,200 students from 87 countries have completed work in the contest.</p>\n				<p>Because Google Code-in is often the first experience many students have with open source, the contest is designed to make it easy for students to jump right in. Open source organizations chosen by Google provide a list of tasks for students to work on during the seven week contest period. A unique part of the contest is that each task has mentors from the organization assigned should students have questions or need help along the way.</p>\n				<p>Students choose tasks they wish to work on from the following categories: coding, documentation, training, outreach, research, quality assurance and user interface. Students earn prizes for their successful completion of the tasks.</p>\n				<p>Stay tuned to the <a href="http://google-opensource.blogspot.com/">Google Open Source Blog</a> and subscribe to the <a href="http://groups.google.com/group/gci-announce">contest announcement list</a> for updates. To ask questions and learn from other students and mentors you can join the <a href="http://groups.google.com/group/gci-discuss">discussion list</a>.</p>\n\n				<h3>Students</h3>\n				<p>Google Code-in 2015 opens for pre-university students to register and start claiming tasks on December 7, 2015. The contest ends on January 25, 2016. Upon successful completion of tasks, eligible students can earn prizes (digital certificates, t-shirts, hoodies) and grand prize winners will receive a trip to Googles headquarters in Mountain View, California for themselves and a parent or legal guardian for 4 nights in June 2016.</p>\n				<p>Check out <a href="https://developers.google.com/open-source/gci/resources/getting-started">Getting Started</a>, <a href="https://developers.google.com/open-source/gci/faq">Frequently Asked Questions (FAQs)</a>, and the <a ui-sref="base.app.public.student-terms">Contest Rules</a> for more helpful information.</p>\n\n				<h3>Organizations</h3>\n				<p>Open source organizations that have participated in a previous Google Code-in or Google Summer of Code program are eligible to apply to be mentoring organizations for Google Code-in.  Mentoring organizations create hundreds of tasks for students to work on during the contest period and are responsible for assigning mentors to help students with questions and to review students work on the tasks.</p>\n				<p>Organizations can apply to be a mentoring organization for Google Code-in 2015 from November 3, 2015 through November 11, 2015.  Selected organizations will be announced on this website on November 13, 2015.</p>\n			</md-card-content>\n		</md-card>\n	</div>\n</section>\n'),$templateCache.put("pages/public/common/pages.org-detail-dialog.html",'<md-dialog class="org-dialog" aria-label="List dialog">\n 	<md-toolbar>\n		<div class="md-toolbar-tools org-dialog-header">\n			<span class="md-headline" flex>Organization Preview</span>\n			<md-button class="close-button" ng-click="closeDialog()">\n				<i class="material-icons">close</i>\n			</md-button>\n		</div>\n	</md-toolbar>\n	<md-dialog-content class="org-dialog-content">\n		<org-detail id="org.id"></org-detail>\n	</md-dialog-content>\n</md-dialog>\n'),$templateCache.put("pages/public/error/pages.403.html",'<div class="page-home">\n	<section class="home__main lifted-section" layout="column">\n		<div class="fixed-width">\n			<md-card class="md-padding">\n				<h2><strong>403.</strong> That\'s an error.</h2>\n				<p>Your client does not have access to this page.<br> That\'s all we know.</p>\n			</md-card>\n		</div>\n	</section>\n</div>\n'),$templateCache.put("pages/public/error/pages.404.html",'<div class="page-home">\n	<section class="home__main lifted-section" layout="column">\n		<div class="fixed-width">\n			<md-card class="md-padding">\n				<h2><strong>404.</strong> That\'s an error.</h2>\n				<p>The requested URL was not found.<br> That\'s all we know.</p>\n			</md-card>\n		</div>\n	</section>\n</div>\n'),$templateCache.put("pages/public/error/pages.error.html",'<div class="page-home">\n	<section class="home__main lifted-section" layout="column">\n		<div class="fixed-width">\n			<md-card class="md-padding">\n				<h2><strong>Error</strong></h2>\n				<p>The app encountered an error. If this problem persists please contact <a href="mailto://gci-support@google.com">gci-support@google.com</a> with a description of the problem.</p>\n			</md-card>\n		</div>\n	</section>\n</div>\n'),$templateCache.put("pages/public/home/_winner-box.html",'<md-card class="home__winner-box">\n	<img class="home__winners-box-icon home__winners-box-icon--{{ ($index % 2) + 1 }}" ng-src="/static/img/winners-icon-{{ ($index % 4) + 1 }}.svg" />\n	<div class="home__winner-box-header md-padding" layout layout-align="space-between center">\n		<h3 class="home__winner-box-title" flex>{{ org.name }}</h3>\n		<img class="home__winner-logo" ng-src="{{ org.image_url }}=s150" alt="{{ org.name }}" />\n	</div>\n	<md-divider></md-divider>\n	<div class="home__winner-box-content md-padding" layout layout-padding>\n		<div flex>\n			<h4 class="home__winner-title">Winners</h4>\n			<ul class="home__winner-list">\n				<li class="home__winner-item" ng-repeat="winner in ctrl.getWinners(org)" ng-if="winner.profile">\n					<strong>{{ winner.profile.given_name + \' \' + winner.profile.other_names }}</strong>\n				</li>\n			</ul>\n		</div>\n		<div flex>\n			<h4 class="home__winner-title">Finalists</h4>\n			<ul class="home__winner-list">\n				<li class="home__winner-item" ng-repeat="finalist in ctrl.getFinalists(org)" ng-if="finalist.profile">\n					{{ finalist.profile.given_name + \' \' + finalist.profile.other_names }}\n				</li>\n			</ul>\n		</div>\n	</div>\n</md-card>\n'),$templateCache.put("pages/public/home/pages.home.html",'<div class="page-home">\n	<section class="home__main lifted-section">\n		<div class="fixed-width">\n			<md-card class="md-padding home__welcome">\n				<div layout-gt-sm="row" layout-align="space-between center">\n					<div flex>\n						<h2 ng-if="AppCtrl.program.state === \'initial\'">Welcome to Google Code-in {{ AppCtrl.program.year }}</h2>\n						<h2 ng-if="AppCtrl.program.org_signup_open">Google Code-in {{ AppCtrl.program.year }} - Organizations can now apply!</h2>\n						<h2 ng-if="AppCtrl.program.org_approval">Google Code-in {{ AppCtrl.program.year }} - Organizations will be announced in\n							<time-to-go date="::AppCtrl.program.orgs_published_starts"></time-to-go>!\n						</h2>\n						<h2 ng-if="AppCtrl.program.state === \'orgs_published\'">Google Code-in {{ AppCtrl.program.year }} - Organizations announced!</h2>\n						<h2 ng-if="AppCtrl.program.state === \'competition_open\'">Google Code-in {{ AppCtrl.program.year }} - Contest is open, register today!</h2>\n						<h2 ng-if="AppCtrl.program.no_claims || AppCtrl.program.grace_period || AppCtrl.program.winners_choosing">\n							Google Code-in {{ AppCtrl.program.year }} - Winners will be announced on\n							<time datetime="{{ ::AppCtrl.program.winners_published_starts }}">{{ AppCtrl.program.winners_published_starts | codeInDateFormat }}</time>\n						</h2>\n						<h2 ng-if="AppCtrl.program.winners_published">\n							Google Code-in {{ AppCtrl.program.year }} - Winners were announced on\n							<time datetime="{{ ::AppCtrl.program.winners_published_starts }}">{{ AppCtrl.program.winners_published_starts | amDateFormat: \'MMM Do YYYY\' }}</time>\n						</h2>\n						<p>Google Code-in is a contest introducing pre-university students to open source development.</p>\n						<p ng-if="AppCtrl.program.winners_published">In the 2015 contest, 980 students from 65 countries completed 4,686 tasks with 14 open source organizations.</p>\n					</div>\n					<div ng-if="AppCtrl.program.org_signup_open">\n						<md-button ui-sref="base.app.org-signup.profile" class="md-raised md-primary">Apply</md-button>\n					</div>\n					<div ng-if="AppCtrl.program.state === \'competition_open\'">\n						<md-button ui-sref="base.app.student-signup.profile" class="md-raised md-primary">Register</md-button>\n					</div>\n				</div>\n			</md-card>\n			<div layout-gt-sm="row" ng-if="ctrl.showProfileBoxes()">\n				<md-card class="home__profile-box" flex>\n					<md-card-content class="md-padding">\n						<h2 class="md-title">Organizations</h2>\n						<div>\n							<p ng-if="::AppCtrl.program.state === \'initial\'">Open source organizations can join Google Code-in and help the next generation of students learn about open source.\n								Organization registration opens {{ ctrl.orgRegistrationOpens }}.</p>\n							<p ng-if="::AppCtrl.program.org_signup_open">Open source organizations can now apply to be mentoring organizations and help the next generation of students learn\n								about open source. Application deadline is {{ ctrl.orgRegistrationCloses }}.</p>\n							<p ng-if="::AppCtrl.program.org_approval">Mentoring organizations for Google Code-in will be announced on {{ ctrl.orgsPublished }}.</p>\n							<p ng-if="::AppCtrl.program.state === \'orgs_published\'">We are excited to have {{ ctrl.orgsList.length }} mentoring organizations dedicated to working with teens in this year\'s contest.</p>\n							<p ng-if="::AppCtrl.program.competition_open && !AppCtrl.program.no_claims">{{ ctrl.orgsList.length }} open source organizations have created thousands of tasks for students to work on during Google Code-in {{ AppCtrl.program.year }}. New tasks are being added daily!</p>\n							<p ng-if="::AppCtrl.program.no_claims || AppCtrl.program.grace_period || AppCtrl.program.winners_choosing || AppCtrl.program.winners_published">{{ ctrl.orgsList.length }} open source organizations created thousands of tasks for students to work on during Google Code-in {{ AppCtrl.program.year }}.</p>\n						</div>\n					</md-card-content>\n					<div>\n						<div layout-align="end end">\n							<md-divider ng-show="AppCtrl.program.state !== \'org_approval\'"></md-divider>\n							<div class="md-actions md-padding" layout="row" layout-align="start center">\n								<span ng-if="AppCtrl.program.org_signup_open">\n									<md-button ui-sref="base.app.org-signup.profile" class="md-primary">Apply now!</md-button>\n								</span>\n								<span ng-if="AppCtrl.program.org_approval"></span>\n								<span ng-if="AppCtrl.program.orgs_published">\n									<md-button ui-sref="base.app.public.organizations.list" class="md-primary">Learn more</md-button>\n								</span>\n								<span ng-if="AppCtrl.program.state === \'initial\'">\n									<md-button ui-sref="base.app.public.about" class="md-primary">Learn more</md-button>\n								</span>\n							</div>\n						</div>\n						<img class="home__box-avatar" src="/static/img/org-avatar.svg" alt="Student information" />\n					</div>\n\n				</md-card>\n				<md-card class="home__profile-box" flex>\n					<md-card-content class="md-padding">\n						<h2 class="md-title">Students</h2>\n						<div>\n							<p ng-if="::AppCtrl.program.state === \'initial\' || AppCtrl.program.org_signup_open || AppCtrl.program.org_approval">Want to work with a real open source software organization while earning cool prizes? Try your hand at Google Code-in.\n								The contest begins for students on {{ ctrl.competitionOpens }}.</p>\n							<p ng-if="::AppCtrl.program.state === \'orgs_published\'">Learn more about the mentoring organizations that you can work with in the contest by clicking on their logos below.\n								The contest starts on {{ ctrl.competitionOpens }}.</p>\n							<p ng-if="::AppCtrl.program.competition_open && !AppCtrl.program.no_claims">Interested in open source development and want the chance to win a trip to Google headquarters?\n								Join hundreds of other 13-17 year old students and try your hand at completing tasks for a range of organizations.\n								The contest ends on {{ ctrl.competitionCloses }}.</p>\n							<p ng-if="::AppCtrl.program.no_claims || AppCtrl.program.grace_period || AppCtrl.program.winners_choosing || AppCtrl.program.winners_published">Congratulations to all of the students who completed tasks in Google Code-in {{ AppCtrl.program.year }}. We hope you enjoyed learning more about open source software development.</p>\n						</div>\n					</md-card-content>\n					<md-divider></md-divider>\n					<div class="md-actions md-padding" layout="row" layout-align="start center">\n						<span ng-if="AppCtrl.program.state === \'competition_open\'">\n							<md-button ui-sref="base.app.student-signup.profile" class="md-primary">Register!</md-button>\n						</span>\n						<span ng-if="AppCtrl.program.winners_choosing || AppCtrl.program.winners_published">\n							<md-button ui-sref="base.app.public.tasks" class="md-primary">See completed tasks</md-button>\n						</span>\n						<span ng-if="AppCtrl.program.state === \'initial\'">\n							<md-button ui-sref="base.app.public.about" class="md-primary">Learn more</md-button>\n						</span>\n					</div>\n					<img class="home__box-avatar home__box-avatar--student" src="/static/img/student-avatar.svg" alt="Student information" />\n				</md-card>\n			</div>\n\n		</div>\n	</section>\n	<section class="home__winners lifted-section" ng-if="AppCtrl.program.winners_published">\n		<div class="fixed-width">\n			<div class="home__winners-banner">\n				<h2 layout class="home__winners-title" layout-align="center center">Google Code-in Winners {{ AppCtrl.program.year }}</h2>\n				<img hide-sm class="home__winners-img" src="/static/img/winners-header.svg" />\n				<img hide-gt-sm class="home__winners-img" src="/static/img/winners-header-sm.svg" />\n			</div>\n			<div layout-gt-sm="row">\n				<div flex-sm flex-gt-sm="50">\n					<div ng-repeat="org in ctrl.orgsList track by $index" ng-if="$index < ctrl.orgsList.length / 2">\n						<ng-include src="\'pages/public/home/_winner-box.html\'"></ng-include>\n					</div>\n				</div>\n				<div flex-sm flex-gt-sm="50">\n					<div ng-repeat="org in ctrl.orgsList track by $index" ng-if="$index >= ctrl.orgsList.length / 2">\n						<ng-include src="\'pages/public/home/_winner-box.html\'"></ng-include>\n					</div>\n				</div>\n			</div>\n		</div>\n	</section>\n	<section class="home__organization-list" ng-if=\'AppCtrl.program.orgs_published && !AppCtrl.program.winners_published\'>\n		<div class="fixed-width md-padding">\n			<h2 class="md-title">Google Code-in {{ AppCtrl.program.year }}</h2>\n			<div layout="row" layout-align="center center" layout-wrap>\n				<div class="logo-container"\n					ng-repeat="org in ctrl.orgsList track by $index"\n					flex="10" flex-md="20" flex-sm="30"\n					layout="row"\n					layout-align="center center"\n					layout-fill>\n					<a class="logo-link" ng-if="!AppCtrl.program.orgs_published" href="{{ org.website_url }}" target="_blank">\n						<img ng-src="{{ org.image_url }}" alt="{{ org.name }}">\n					</a>\n					<a class="logo-link" ng-if="AppCtrl.program.orgs_published" ui-sref="base.app.public.organizations.detail({slug:org.slug})">\n						<img ng-src="{{ org.image_url }}=s200" alt="{{ org.name }}">\n					</a>\n				</div>\n			</div>\n		</div>\n	</section>\n</div>\n'),
$templateCache.put("pages/public/organizations/pages.organizations-detail.html",'<section class="lifted-section">\n	<div class="fixed-width">\n		<org-detail id="org.id"></org-detail>\n	</div>\n</section>\n'),$templateCache.put("pages/public/organizations/pages.organizations-list.html",'<section class="lifted-section">\n	<div class="fixed-width">\n		<md-card class="org-list">\n			<md-card-content class="org-list__item" ng-repeat="org in ctrl.randomizedOrganizations" layout-gt-sm="row">\n				<div class="org__logo-container" layout-padding>\n					<img class="org__logo" ng-src="{{ org.image_url }}=s300" alt="{{ org.name }}" />\n				</div>\n				<div flex layout-padding>\n					<h3>\n						<div class="org__name md-headline">{{ org.name }}</div>\n						<a href="{{ org.website_url }}" target="_blank">{{ org.website_url }}</a>\n					</h3>\n					<div>{{ org.precis }}</div>\n				</div>\n				<div layout layout-padding layout-align="center center" layout-align-gt-sm="end center">\n					<md-button class="md-raised md-primary" ui-sref="base.app.public.organizations.detail({slug: org.slug })">View info</md-button>\n				</div>\n			</md-card-content>\n		</md-card>\n		<div layout layout-align="center center">\n	</div>\n</section>\n'),$templateCache.put("pages/public/tasks/pages.tasks-list.html",'<h1 transclude-send="page-title">\n	{{ AppCtrl.program.competition_closed ? \'Tasks Completed During the Contest\' : \'Tasks\'}}\n</h1>\n<div class="fixed-width claim-task-list-page" layout="column" layout-gt-sm="row">\n	<div flex-gt-sm="65" flex-order="1" flex-order-gt-sm="0">\n		<md-card class="info-box" ng-if="AppCtrl.userIsLoggedIn() && AppCtrl.program.no_claims">\n			<md-card-content layout layout-align="center center">\n				<p class="info-box__message md-title">No more tasks can be claimed for Google Code-in</p>\n			</md-card-content>\n		</md-card>\n		<md-card ng-if="!AppCtrl.userIsLoggedIn() && AppCtrl.program.competition_closed">\n			<md-card-content layout layout-align="center left">\n				<h2 class="md-headline">Tasks Completed During the Contest</h2>\n			</md-card-content>\n		</md-card>\n		<md-card>\n			<page-search\n				search-term="ctrl.data.searchParams.search"\n				placeholder="Search tasks"\n			></page-search>\n		</md-card>\n		<md-card>\n			<task-list-item ng-repeat="task in ctrl.data.tasks track by task.id" task-id="task.id" task-instances-promise="userTaskInstancesPromise" click="showTaskDetail($event, task.id)"></task-list-item>\n			<div ng-if="ctrl.data.tasks.length === 0 && !ctrl.data.loading" class="md-padding">\n				No tasks found\n			</div>\n			<div ng-show="ctrl.data.loading" layout layout-align="center center">\n				<md-progress-circular md-mode="indeterminate"></md-progress-circular>\n			</div>\n		</md-card>\n		<div layout layout-align="center center">\n			<table-pagination\n					search-model="ctrl.data.model"\n					ng-model="ctrl.data.tasks"\n					search-params="ctrl.data.searchParams"\n					fetching="ctrl.data.loading"\n					load-more="true"\n					ignored-url-params="::ctrl.ignoredUrlParams"\n			></table-pagination>\n		</div>\n	</div>\n	<div flex-gt-sm="35">\n		<public-task-filter\n			user="ctrl.data.user"\n			control-config="ctrl.data.controlConfig"\n			on-change="ctrl.onFilterStateChange(state)"\n			filter-on-change\n		>\n		</public-task-filter>\n	</div>\n</div>\n'),$templateCache.put("pages/public/terms/_org-terms.html",'<p class="tos__intro"><strong>GOOGLE CODE-IN 2015<br/>\nMENTOR ORGANIZATION AGREEMENT</strong></p>\n<p><strong>PLEASE READ THIS MENTOR ORGANIZATION AGREEMENT CAREFULLY.</strong></p>\n<p>By registering and clicking I have read and agree to this Organization Agreement you agree to be bound by the terms of this Mentor Organization Agreement\n(<strong>Agreement</strong>) and it forms a binding legal agreement between Google Inc., having a principal place of business at 1600 Amphitheatre\nParkway, Mountain View, CA 94043 (<strong>Google</strong>), and your open source organization (<strong>Organization</strong>) with respect to the Google\nCode-in 2015 Contest (<strong>Contest</strong>).</p>\n<p>If you are accepting on behalf of your Organization, you represent and warrant that (i) you have full legal authority to bind your Organization to these\nterms and conditions, (ii) that you have read and understand this Agreement, and (iii) that you agree, on behalf of the Organization that you represent, to\nthis Agreement. If you don\'t have the legal authority to bind your Organization to these terms and conditions, please do not click the "I have read and agree to this Organization\nAgreement" checkbox.</p>\n<p>The words <strong>"include"</strong> and <strong>"including"</strong> as used in this Agreement mean including but not limited to.</p>\n<ol>\n	<li>\n		<strong class="tos__term">Registration.</strong>\n		<ol>\n			<li>\n				<span class="tos__term">Eligibility for Participation.</span> By registering to be a mentor organization in the Contest, the Organization represents and\n				warrants that:\n				<ol>\n					<li>it is running an active and viable open source or free software organization;</li>\n					<li>it has already produced and released software under an <a href="http://www.opensource.org/licenses">Open Source Initiative approved license</a>;\n					</li>\n					<li>it is not based in a United States embargoed country, or otherwise prohibited by applicable export controls and sanctions programs; and</li>\n					<li>if the Organization is an individual,\n						<ol>\n							<li>you are not a resident of a United States embargoed country;</li>\n							<li>you are not ordinarily resident in a United States embargoed country, or otherwise prohibited by applicable export controls and sanctions programs;\n							and</li>\n							<li>you are at least eighteen (18) years of age; and</li>\n						</ol>\n					</li>\n					<li>it participated in Google Summer of Code previously.</li>\n				</ol>\n			</li>\n			<li><span class="tos__term">Verifying Eligibility.</span> Google reserves the right to verify eligibility at any time. The Organization agrees to provide\n			Google with any proof of eligibility requested by Google and refusal or failure to timely provide such proof may result in the Organizations removal from\n			the Contest.</li>\n			<li><span class="tos__term">Application.</span> As part of the registration process, the Organization must fill out an application to become a mentor\n			organization by the deadline stated on the Contest website. Google may accept or reject any application in its sole discretion.</li>\n			<li><span class="tos__term">Tax Forms.</span> Google may provide tax forms to the Organization and instructions for sending the completed forms to Google.\n			The Organizations application will not be complete unless it returns these completed forms to Google.</li>\n		</ol>\n	</li>\n	<li>\n		<strong class="tos__term">Participation.</strong>\n		<ol>\n			<li>\n				<span class="tos__term">Organization Responsibilities.</span> If Google accepts the Organizations application, the Organization agrees to perform all\n				necessary additional steps required for the Organization to participate in the Contest. At a minimum, the Organization will:\n				<ol>\n					<li>provide a pool of tasks for contestants to choose from, which are publicly published by the Organization;</li>\n					<li>make available five (5) or more individuals responsible for helping contestants integrate with the Organizations community;</li>\n					<li>assign a mentor (and alternates in case such mentor becomes unavailable) to monitor the progress of contestants working on the Organizations tasks\n					and mentoring them as the Contest proceeds;</li>\n					<li>evaluate contestants entries for tasks within thirty-six (36) hours of submission and decide whether or not the task has been completed\n					successfully;</li>\n					<li>assign at least two (2) administrators to act as a main point of contact for Google; and</li>\n					<li>evaluate the work of the ten (10) highest scoring contestants and select five (5) contestants as Finalists and two (2) of those Finalists as Grand\n					Prize Winners for the Organization.</li>\n				</ol>\n			</li>\n			<li>\n				<span class="tos__term">Mentors and Administrators.</span> The Organization is responsible for its mentors and administrators. Mentors and administrators\n				must use professional and courteous conduct when interacting with the contestants; otherwise, they will be removed from the Contest.\n				<ol>\n					<li>\n						<span class="tos__term">Mentors.</span>\n						<ol>\n							<li>Mentors must be:\n								<ol>\n									<li>at least eighteen (18) years of age, or between the ages of thirteen (13) to seventeen (17) if their parent or legal guardian consents to their\n									participation as a mentor as evidenced by their signing of the Google Code-in Contest Parental Consent and Waiver and Release;</li>\n									<li>contributors for the corresponding organization; and</li>\n									<li>assigned by an Organization administrator via the Contest website.</li>\n								</ol>\n							</li>\n							<li>Due to shipping difficulties, Google will not ship physical goods to the following countries: Argentina, Belarus, Chile, Colombia, Kazakhstan,\n							Mexico, Myanmar (Burma), Peru, Russia, and Ukraine (collectively, <strong>Restricted Countries</strong>). Mentors residing in Restricted Countries\n							will not receive any promotional materials (including t-shirts) from Google for their participation.</li>\n							<li>Mentors must respond to contestant requests within thirty-six (36) hours.</li>\n						</ol>\n					</li>\n					<li>\n						<span class="tos__term">Administrators.</span> The Organizations administrators must:\n						<ol>\n							<li>create the Organization\'s profile on the Contest website;</li>\n							<li>submit the Organization\'s application to Google;</li>\n							<li>publish the Organizations list of tasks and maintain a minimum of twenty-five (25) available tasks for contestants to choose from throughout the\n							Contest;</li>\n							<li>act as the main point of contact between Google and the Organization;</li>\n							<li>respond to any inquiries from Google within thirty-six (36) hours;</li>\n							<li>assign a backup mentor should a mentor be unable to work with a contestant;</li>\n							<li>submit all evaluations by the deadlines;</li>\n							<li>submit the Organization\'s selections for their five (5) Finalists, and the two (2) Finalists selected as their Grand Prize Winners, to the Contest\n							website by the published deadline; and</li>\n							<li>write and submit a blog post to Google about the Organization\'s participation in the Contest at the end of the Contest.</li>\n						</ol>\n					</li>\n				</ol>\n			</li>\n			<li>\n				<span class="tos__term">Rights to Submissions.</span>\n				<ol>\n					<li><strong>Submission</strong> means any materials the Organization submits to Google in connection with the Contest.</li>\n					<li>The Organization retains all ownership rights it has in Submissions before submitting it.</li>\n					<li>The Organization grants Google a non-exclusive, worldwide, perpetual, irrevocable, free license (with the right to sublicense) to reproduce, prepare\n					derivative works of, distribute, perform, display, and otherwise use the Submissions only for the purpose of administering the Contest and promoting\n					Google Code-in.</li>\n				</ol>\n			</li>\n		</ol>\n	</li>\n	<li>\n		<strong class="tos__term">Privacy.</strong>\n		<ol>\n			<li>\n				<span class="tos__term">How Google May Use Information Provided by the Organization.</span>\n				<ol>\n					<li>Google will use the information provided by the Organization during registration and in any subsequent communications to administer the Contest\n					(including verifying eligibility to participate and sending notifications regarding the Contest). This data may be transferred into the United States and\n					will be used and maintained in accordance with Googles <a href="https://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>.\n					</li>\n					<li>In addition to the uses set forth in Googles Privacy Policy, Google may use the Organizations information as follows:\n						<ol>\n							<li>Google may use the Organizations aggregated, non-personally identifiable information for statistical purposes.</li>\n							<li>Google and its agents may use the Organizations name, logo, and statements without compensation to promote Google Code-in, including displaying it\n							on the Contest website.</li>\n						</ol>\n					</li>\n				</ol>\n			</li>\n			<li>\n				<span class="tos__term">Sharing Information.</span> In addition to the circumstances set forth in Googles Privacy Policy, Google may share the\n				Organizations information as follows:\n				<ol>\n					<li>The username the Organization creates during registration may be displayed publicly on the Contest website and any archives of the Contest\n					website.</li>\n					<li>Google may share the name and contact information of the Organizations mentors and administrators with other third parties (such as shipping\n					processors) to administer the Contest.</li>\n				</ol>\n			</li>\n			<li><span class="tos__term">Accessing Profile Information.</span> The Organization may may access and review the personal information in its Contest\n			profile and edit such information through its profile during the Contest period. If the Organization would like to edit such information after the Contest\n			period, the Organization may write to Google (Attention: Open Source Programs Office) at the address listed in the preamble above for further\n			assistance..</li>\n		</ol>\n	</li>\n	<li>\n		<strong class="tos__term">Representations, Warranties, Indemnities.</strong>\n		<ol>\n			<li>\n				<span class="tos__term">Representations and Warranties.</span> The Organization represents and warrants that:\n				<ol>\n					<li>the information provided about its organization during registration or in subsequent communications with Google is accurate; and</li>\n					<li>in reviewing submitted entries from contestants, it will not discriminate on the basis of age, race, creed, color, religion, sex, sexual orientation,\n					national origin, disability, marital or veteran status or any other basis that is prohibited by applicable law.</li>\n				</ol>\n			</li>\n			<li><span class="tos__term">Indemnities.</span> The Organization will indemnify Google and its affiliates, directors, officers, employees against all\n			liabilities, damages, losses, costs, fees (including legal fees), and expenses relating to any allegation or third-party legal proceeding to the extent\n			arising from the Organizations acts or omissions (including those of its employees and agents) related to participating in the Contest, including breach\n			of this Agreement.</li>\n		</ol>\n	</li>\n	<li><strong class="tos__term">Disclaimer.</strong> THE CONTEST WEBSITE IS PROVIDED ON AN "AS IS" AND "AS AVAILABLE" BASIS. GOOGLE DISCLAIMS ALL\n	REPRESENTATIONS AND WARRANTIES (EXPRESS OR IMPLIED), INCLUDING ANY WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. GOOGLE IS NOT\n	RESPONSIBLE FOR ANY INCOMPLETE, FAILED, OR DELAYED TRANSMISSION OF INFORMATION DUE TO THE INTERNET, INCLUDING INTERRUPTION OR DELAYS CAUSED BY EQUIPMENT OR\n	SOFTWARE MALFUNCTION OR OTHER TECHNICAL PROBLEMS.</li>\n	<li>\n		<strong class="tos__term">Limitation of Liability.</strong>\n		<ol>\n			<li><span class="tos__term">Liability.</span> IN THIS SECTION 6 (LIMITATION OF LIABILITY), LIABILITY MEANS ANY LIABILITY, WHETHER UNDER CONTRACT, TORT,\n			OR OTHERWISE, INCLUDING FOR NEGLIGENCE.</li>\n			<li><span class="tos__term">Limitations.</span> GOOGLES LIABILITY UNDER THIS AGREEMENT IS LIMITED TO DIRECT DAMAGES, WHICH WILL NOT EXCEED US$1,000 IN\n			AGGREGATE.</li>\n			<li><span class="tos__term">Exceptions to Limitations.</span> NOTHING IN THIS AGREEMENT EXCLUDES OR LIMITS GOOGLES LIABILITY FOR MATTERS FOR WHICH\n			LIABILITY CANNOT BE LIMITED UNDER APPLICABLE LAW.</li>\n		</ol>\n	</li>\n	<li>\n		<strong class="tos__term">General.</strong>\n		<ol>\n			<li><span class="tos__term">Assignment.</span> The Organization may not assign or delegate this Agreement or any part of it without the prior written\n			approval of Google. Google may assign or delegate this Agreement or any part of it upon notification, which may be posted on the Contest website or sent to\n			the contact information provided upon registration.</li>\n			<li><span class="tos__term">Googles Affiliates, Consultants, and Contractors.</span> Google may use its affiliates, consultants, and contractors in\n			connection with the performance of its obligations and exercise of its rights under this Agreement.</li>\n			<li><span class="tos__term">No Waiver.</span> Neither party will be treated as having waived any rights by not exercising (or delaying the exercise of) any\n			rights under this Agreement.</li>\n			<li><span class="tos__term">No Agency.</span> This Agreement does not create any agency, partnership, or joint venture between the parties.</li>\n			<li><span class="tos__term">No Third Party Beneficiaries.</span> This Agreement does not confer any benefits on any third party unless it expressly states\n			that it does.</li>\n			<li><span class="tos__term">Entire Agreement.</span> This Agreement sets out all terms agreed between the parties and supersedes all other agreements\n			between the parties relating to its subject matter. In entering into this Agreement neither party has relied on, and neither party will have any right or\n			remedy based on, any statement, representation or warranty (whether made negligently or innocently), except those expressly set out in this Agreement.</li>\n			<li><span class="tos__term">Amendments.</span> Any amendment must be in writing, signed by both parties, and expressly state that it is amending this\n			Agreement.</li>\n			<li><span class="tos__term">Severability.</span> If any term (or part of a term) of this Agreement is invalid, illegal or unenforceable, the rest of the\n			Agreement will remain in effect.</li>\n			<li><span class="tos__term">Translations.</span> In the event of any discrepancy between the English version of this Agreement and a translated version,\n			the English version will govern.</li>\n			<li><span class="tos__term">Governing Law.</span> ALL CLAIMS ARISING OUT OF OR RELATING TO THIS AGREEMENT WILL BE GOVERNED BY CALIFORNIA LAW, EXCLUDING\n			CALIFORNIA\'S CONFLICT OF LAWS RULES, AND WILL BE LITIGATED EXCLUSIVELY IN THE FEDERAL OR STATE COURTS OF SANTA CLARA COUNTY, CALIFORNIA, USA; THE PARTIES\n			CONSENT TO PERSONAL JURISDICTION IN THOSE COURTS.</li>\n		</ol>\n	</li>\n</ol>\n'),$templateCache.put("pages/public/terms/_student-terms.html",'<p class="tos__intro"><strong>GOOGLE CODE-IN 2015<br/>\nCONTEST RULES</strong></p>\n<p><strong>NO PURCHASE NECESSARY TO ENTER OR WIN.</strong></p>\n<p><strong>Please read these Contest Rules carefully as the rules form a binding legal agreement between you and Google Inc. with respect to the Google\nCode-in 2015 Contest (Contest). You may not participate in the Contest and are not eligible to receive any prizes unless you agree to these Contest Rules.\nYour registration for the Contest constitutes your agreement to these Contest Rules.</strong></p>\n<p>The words <strong>"include"</strong> and <strong>"including"</strong> as used herein mean including but not limited to.</p>\n<div class="dot-counter">\n<ol>\n	<li>\n		<strong class="tos__term">Description of the Contest.</strong>\n		<ol>\n			<li><span class="tos__term">Sponsor.</span> The Contest is sponsored by Google Inc. (<strong>Google</strong>), a Delaware corporation with its principal\n			place of business at 1600 Amphitheatre Parkway, Mountain View, CA 94043, USA.</li>\n			<li>\n				<span class="tos__term">Overview.</span>\n				<ol>\n					<li>The Contest is a competition designed to:\n						<ol>\n							<li>encourage and inspire pre-university students to begin participating in open source development;</li>\n							<li>help open source organizations identify and bring in new contributors; and</li>\n							<li>provide pre-university students interested in computer science and other fields with exposure to real-world software development, including coding\n							work, documentation, and open source community involvement.</li>\n						</ol>\n					</li>\n					<li>As a registered contestant in the Contest, you may select a task provided by a participating open source organization (<strong>Organization</strong>). Once you have\n					worked on the task and believe it is ready for the Organization to review, you may submit it as a Contest entry. Judges from each Organization will\n					evaluate entries in accordance with these Contest Rules and prizes will be awarded to eligible contestants.</li>\n				</ol>\n			</li>\n			<li><span class="tos__term">Contest Website.</span> The website for the Contest (<stong>Contest Website</stong>) is located at g.co/codein.</li>\n			<li><span class="tos__term">Contest Period.</span> The Contest begins at 9:00:00 A.M. Pacific Time (PT) on December 7, 2015 and ends at 9:00:00 A.M. PT on\n			January 25, 2016 (<strong>Contest Period</strong>).</li>\n			<li><span class="tos__term">Changes to Contest.</span> Google may suspend, cancel, or modify the structure of the Contest if technical difficulties or\n			events beyond Googles reasonable control prevent or make it unfair to run the Contest in accordance with these Contest Rules.</li>\n		</ol>\n	</li>\n	<li>\n		<strong class="tos__term">Eligibility.</strong>\n		<ol>\n			<li><span class="tos__term">VOID WHERE PROHIBITED.</span> The Contest is void in United States embargoed countries and where prohibited by law.</li>\n			<li>\n				<span class="tos__term">Proof of Eligibility, Parental Consent.</span> To participate in the Contest:\n				<ol>\n					<li>You must be at least thirteen (13) years of age and no older than seventeen (17) years of age upon your date of registration for the Contest on the\n					Contest Website.</li>\n					<li>For the duration of the Contest Period, you must be enrolled in a pre-university (high school or secondary school) program.</li>\n					<li>Your parent or legal guardian must consent to your participation and agree to these Contest Rules as evidenced by their signing of the Google Code-in\n					Contest Parental Consent and Waiver and Release (<strong>Parental Consent</strong>).</li>\n				</ol>\n			</li>\n			<li>\n				<span class="tos__term">Ineligible Individuals.</span> You may not participate in this Contest if:\n				<ol>\n					<li>You are\n						<ol>\n							<li>a resident of a United States embargoed country, Brazil, Italy, or Quebec,</li>\n							<li>ordinarily resident in a United States embargoed country, or</li>\n							<li>otherwise prohibited by applicable export controls and sanctions programs.</li>\n						</ol>\n					</li>\n					<li>You are an employee (including intern), contractor, officer, or director, of\n						<ol>\n							<li>Google or its affiliates, or</li>\n							<li>an Organization or any of its affiliates.</li>\n						</ol>\n					</li>\n					<li>You are an immediate family member (including a parent, sibling, child, spouse, or life partner regardless of where you live) of one of the\n					individuals listed in subsection (b) above or you are a member of their household (whether related or not).</li>\n				</ol>\n			</li>\n			<li>\n				<span class="tos__term">Requirements to Enter.</span> In order to participate in the Contest, you must have\n				<ol>\n					<li>access to the Internet,</li>\n					<li>a Google Account,</li>\n					<li>a valid postal address, and</li>\n					<li>a valid email address.</li>\n				</ol>\n			</li>\n			<li><span class="tos__term">Verifying Eligibility.</span> Google reserves the right to verify your eligibility and to adjudicate on any dispute at any\n			time. You agree to provide Google with any proof of eligibility requested by Google and your refusal or failure to timely provide such proof may result in\n			your disqualification from the Contest.</li>\n			<li><span class="tos__term">Communications.</span> All communications between Google and you, including the Contest Website and email communications, will\n			be in English.</li>\n		</ol>\n	</li>\n	<li>\n		<strong class="tos__term">How to Register.</strong>\n		<ol>\n			<li>\n				<span class="tos__term">Registration.</span> To enter the Contest, you must first register on the Contest Website during the listed registration times.\n				You are responsible for determining the corresponding time in your time zone.\n				<ol>\n					<li>\n						<span class="tos__term">How to Register.</span>\n						<ol>\n							<li>First, sign in to your <a href="https://www.google.com/settings/account">Google Account</a>. If you do not have a Google account, you can <a href=\n							"https://www.google.com/settings/account">create one</a> without charge from Google. If you already have a Gmail address, you can just sign in to your\n							Gmail account.\n							</li>\n							<li>Second, create a profile on the Contest Website during the registration period while you are logged into your Google account. You will not be able\n							to claim any tasks if your signed Parental Consent is not uploaded to your Contest profile.</li>\n						</ol>\n					</li>\n				</ol>\n			</li>\n			<li>\n				<span class="tos__term">Privacy.</span>\n				<ol>\n					<li>\n						<span class="tos__term">How Google May Use Your Information.</span>\n						<ol>\n							<li>Google will use the information you provide during registration and in any subsequent communications to administer the Contest (including verifying\n							your eligibility to participate in the Contest, sending notifications regarding the Contest, and delivering prizes). This data may be transferred into\n							the United States and will be used and maintained in accordance with Googles <a href="https://www.google.com/intl/en/policies/privacy/">Privacy\n							Policy</a>.\n							</li>\n							<li>In addition to the uses set forth in Googles Privacy Policy, Google may use your information as follows:\n								<ol>\n									<li>Google may use your information to respond to participation verification requests from third parties pursuant to school admissions applications,\n									employment applications, and the like that you have submitted to such third parties.</li>\n									<li>Google may use your aggregated, non-personally identifiable information for statistical purposes.</li>\n									<li>Google and its agents may use your name, likeness, and statements without compensation to promote Google Code-in, including displaying it on the\n									Contest Website.</li>\n								</ol>\n							</li>\n						</ol>\n					</li>\n					<li>\n						<span class="tos__term">Sharing Your Information.</span> In addition to the circumstances set forth in Googles Privacy Policy, Google may share your\n						information as follows:\n						<ol>\n							<li>The display name you create during registration may be displayed publicly on the Contest Website and any archives of the Contest Website.</li>\n							<li>Google will share your display name with the Organizations.</li>\n							<li>If you win a prize, Google will share your legal name, phone number, email address, and shipping address with third parties to fulfill shipment of\n							the prize to you. If you are a Grand Prize Winner, Google will also share your information with third parties to book your travel and accommodation for\n							the Grand Prize Winners Trip.</li>\n							<li>If you are a Finalist, Google may display your legal name on Google-run websites, including the Google Open Source Blog ( <a href=\n							"http://google-opensource.blogspot.com/">http://google-opensource.blogspot.com/</a>) and the Contest Website. If you are a Grand Prize Winner, Google\n							may display your legal name and country of residence on Google-run websites.\n							</li>\n						</ol>\n					</li>\n					<li><span class="tos__term">Accessing Your Information.</span> You may access and review the personal information in your Contest profile and edit such\n					information through your profile during the Contest Period. If you would like to edit such information after the Contest Period, you may write to Google\n					(Attention: Open Source Programs Office) at the address listed in Section 1.1 above for further assistance.</li>\n				</ol>\n			</li>\n		</ol>\n	</li>\n	<li>\n		<strong class="tos__term">How to Submit an Entry Once Registered.</strong> To submit an entry to the Contest, you must find, claim, and work on a task provided\n		by an Organization. There is no limit on the number of task entries you may submit; however, there are limitations on the tasks you may claim as described\n		in Section 4.2 below.\n		<ol>\n			<li>\n				<span class="tos__term">Finding a Task.</span> To find a task, visit the Contest Website. Each task will have a page describing:\n				<ol>\n					<li>the problem to be solved,</li>\n					<li>some general background information,</li>\n					<li>the time period for entry submission (<strong>Submission Period</strong>), and</li>\n					<li>the requirements that an entry for that task must meet in order to be designated as complete.</li>\n				</ol>\n			</li>\n			<li>\n				<span class="tos__term">Claiming a Task.</span> To work on a task, you must first claim it by clicking the Claim this task button, subject to the\n				following:\n				<ol>\n					<li>you may only claim one (1) task at a time;</li>\n					<li>you may not claim a task that is currently claimed by another contestant;</li>\n					<li>you may not claim a task that you have already completed; and</li>\n					<li>you may not claim more than two (2) tasks labeled as beginner tasks.</li>\n				</ol>\n			</li>\n			<li>\n				<span class="tos__term">Submitting a Task Entry.</span>\n				<ol>\n					<li>The Submission Period begins when you claim the task. You must submit your task entry to the Contest within the Submission Period; otherwise, the\n					task will be released for other contestants to claim. You will receive an email warning twenty-four (24) hours prior to expiration of the Submission\n					Period.</li>\n					<li>You should review the description for the task carefully before submitting an entry. Each task may require different information to be submitted to\n					be considered complete. Your entry must be in English unless otherwise specified in the task description. You may submit your entry on the Contest\n					Website by either:\n						<ol>\n							<li>uploading your original work product as an attachment, or</li>\n							<li>providing a URL to your work.</li>\n						</ol>\n					</li>\n				</ol>\n			</li>\n		</ol>\n	</li>\n	<li>\n		<strong class="tos__term">Judging.</strong> The Organization that provided the task will judge all entries for that task.\n		<ol>\n			<li>\n				<span class="tos__term">Judging Task Entries.</span>\n				<ol>\n					<li>Each complete task entry is worth one (1) point.</li>\n					<li>The Organization that provided the task will determine if an entry satisfies the requirements stated on the task page and is complete.</li>\n					<li>Your entry will be considered incomplete if the entry is not properly licensed by you under the open source license specified by the Organization\n					that provided the task, or if one is not specified by them, then\n						<ol>\n							<li>for any software included in the entry, under an Open Source Initiative approved license of your choice; or</li>\n							<li>for anything else (not software) under the Creative Commons Attribution 3.0 Unported License.</li>\n						</ol>\n					</li>\n					<li>If you want to challenge an Organizations determination that your entry was incomplete, you must contact Google using the email link provided on the\n					Contest Website. Google will then re-examine the entry and make a final determination as to whether the entry was complete. Googles decision in this\n					matter is final and binding.</li>\n				</ol>\n			</li>\n			<li>\n				<span class="tos__term">Selecting Finalists and Grand Prize Winners.</span> Each Organization will evaluate the work of the ten (10) highest scoring\n				contestants who completed tasks for their Organization and will select five (5) of those contestants as Finalists and two (2) of those Finalists as Grand\n				Prize Winners for their Organization. Each entry will be judged according to the following factors: creativity, thoroughness, and quality of work. The\n				Organization may additionally factor the contestants involvement in the Organizations community in the judging. The Organizations decision is final and\n				binding.\n				<ol>\n					<li>Notwithstanding anything in the foregoing, if a contestant was selected as a Grand Prize Winner in any previous Google Code-in Contest, such\n					contestant is ineligible to be selected as a Grand Prize Winner for this Contest.</li>\n					<li>If two (2) or more Organizations choose the same Grand Prize Winner, then the Grand Prize Winner will be named by the Organization that submitted the\n					name to Google first. The other Organization(s) will then name their runner up as their Grand Prize Winner.</li>\n					<li>Finalists and Grand Prize Winners will be initially notified by email. Such contestants must upload proof of enrollment in a pre-university program\n					to their Contest profiles within forty-eight (48) hours of such notification and respond to any other requests for information within seven (7) days of\n					such notification or earlier if required by law.</li>\n					<li>In the event a Grand Prize Winner is disqualified for any reason, the runner up selected by the Organization will be chosen as the Grand Prize\n					Winner.</li>\n					<li>The official list of Grand Prize Winners and Finalists will be posted on the Contest Website on or before February 8, 2016 for a period of at least\n					sixty (60) days.</li>\n				</ol>\n			</li>\n		</ol>\n	</li>\n	<li>\n		<strong class="tos__term">Prizes.</strong>\n		<ol>\n			<li><span class="tos__term">No Completed Entries.</span> In the event that no completed entries are received, no prizes will be awarded.</li>\n			<li>\n				<span class="tos__term">Prizes for Completed Entries.</span>\n				<ol>\n					<li>You are eligible to receive one (1) digital certificate of completion with an approximate value of $0 USD if you submit at least one (1) complete\n					entry.</li>\n					<li>In addition to the digital certificate, you are eligible to receive one (1) t-shirt with an approximate value of $12 USD if you submit three (3) or\n					more complete entries, unless you are a resident of a Restricted Country as defined in Section 6.10 below.</li>\n				</ol>\n			</li>\n			<li><span class="tos__term">Prizes for Finalists.</span> In addition to the prizes listed in Section 6.2 above, if you are selected as a Finalist, you are\n			eligible to receive one (1) hooded sweatshirt with an approximate value of $35 USD, unless you are a resident of a Restricted Country.</li>\n			<li>\n				<span class="tos__term">Prizes for Grand Prize Winners.</span> If you are selected as a Grand Prize Winner, you are eligible to attend a Grand Prize\n				Winners Trip to Googles Headquarters in Mountain View, California, USA for you and one (1) parent or legal guardian. The prize consists of round-trip\n				coach air transportation for you and your parent or legal guardian from the major airport nearest to your residence, ground transportation to and from the\n				airport and at the event location, hotel accommodations for two (2) people for four (4) nights, and catered meals during the event plus an additional $200\n				USD for food. Google will arrange the hotel accommodations at a hotel of Googles choice. Certain blackout dates apply. You are responsible for all other\n				expenses, including those in obtaining a passport or visa, if applicable. You may not change the travel schedule once it has been arranged. Prior to\n				ticketing:\n				<ol>\n					<li>Your parent or legal guardian accompanying you must sign the Parental Consent; and</li>\n					<li>Both of you must possess required travel documents (e.g., valid passport and visa, if applicable).</li>\n				</ol>\n			</li>\n			<li><span class="tos__term">Substitute Prizes.</span> Google may provide a substitute prize of equal or greater value at Googles discretion, or where\n			required by law, or in the event all or part of a prize becomes unavailable. If you are unable to attend the Grand Prize Winners Trip due to required\n			National School Exams, Google may award an alternate prize.</li>\n			<li>\n				<span class="tos__term">Taxes.</span>\n				<ol>\n					<li>You are solely responsible for complying with all applicable tax laws and filing requirements. To remain eligible for a prize, you must submit to\n					Google or the relevant tax authority all documentation requested by Google or required by applicable law within seven (7) days of Googles request or\n					earlier if required by law.</li>\n					<li>You are solely responsible for paying all taxes imposed on prizes awarded to you. All prizes will be net of any taxes Google is required by law to\n					withhold.</li>\n				</ol>\n			</li>\n			<li><span class="tos__term">No Warranties.</span> Except as required by law, Google makes no warranties, express or implied, for prizes.</li>\n			<li>\n				<span class="tos__term">Forfeiture.</span>\n				<ol>\n					<li>You will forfeit your prize if:\n						<ol>\n							<li>Your prize or prize notification is returned to Google;</li>\n							<li>You provide an incorrect or incomplete shipping address;</li>\n							<li>You fail to provide Google with information requested (e.g., adequate proof of enrollment in a pre-university program, etc.) within the required\n							time frames;</li>\n							<li>You fail to pay applicable taxes or timely submit applicable documentation to Google or the relevant tax authority; or</li>\n							<li>If you are a Grand Prize Winner, your parent or legal guardian accompanying you on the Grand Prize Winners trip fails to return the signed\n							Parental Consent within seven (7) days of Googles request.</li>\n						</ol>\n					</li>\n					<li>If you forfeit your prize as a Grand Prize Winner, an alternate Grand Prize Winner may be selected.</li>\n				</ol>\n			</li>\n			<li>\n				<span class="tos__term">Disqualification.</span> You may be disqualified from the Contest, forfeit any prizes you may be eligible to receive, and\n				prohibited from participating in any future Google Code-in Contests if Google reasonably believes that you have attempted to undermine the legitimate\n				operation of the Contest, including:\n				<ol>\n					<li>Providing false information about yourself during registration or concerning your eligibility;</li>\n					<li>Breaching or refusing to comply with these Contest Rules;</li>\n					<li>Threatening or harassing other contestants, Google, or any Organization, including their employees and representatives;</li>\n					<li>Tampering or interfering with administration of the Contest or with the ability of other contestants to participate in the Contest; or</li>\n					<li>Submitting content in an entry that:\n						<ol>\n							<li>is not original,</li>\n							<li>violates the rights of a third party,</li>\n							<li>is lewd, obscene, pornographic, racist, sexist, or otherwise inappropriate to the Contest, or</li>\n							<li>violates any applicable law.</li>\n						</ol>\n					</li>\n				</ol>\n			</li>\n			<li><span class="tos__term">Restricted Countries.</span> Due to shipping difficulties, Google will not ship physical goods to the following countries:\n			Argentina, Belarus, Chile, Colombia, Kazakhstan, Mexico, Myanmar (Burma), Peru, Russia, and Ukraine (collectively, <strong>Restricted Countries</strong>).</li>\n		</ol>\n	</li>\n	<li>\n		<strong class="tos__term">Rights in Your Entries.</strong>\n		<ol>\n			<li>You retain all rights to your entry that you had before submitting it.</li>\n			<li>For any entry that you submit to the Contest, you grant Google and the Organization that listed the corresponding task a non-exclusive, worldwide,\n			perpetual, irrevocable, free license to reproduce, prepare derivative works of, distribute, perform, display, and otherwise use such entry for the purpose\n			of administering the Contest and promoting Google Code-in.</li>\n		</ol>\n	</li>\n	<li>\n		<strong class="tos__term">Your Representations, Warranties, Indemnities.</strong>\n		<ol>\n			<li>\n				<span class="tos__term">Representations and Warranties.</span> You represent and warrant that:\n				<ol>\n					<li>the information you provide about yourself while registering or in subsequent communications with Google is truthful and accurate;</li>\n					<li>your entries are original;</li>\n					<li>you own all rights in your entries;</li>\n					<li>your entries do not violate any applicable laws; and</li>\n					<li>your entries do not violate any rights of any other person or entity or any obligation you may have with them.</li>\n				</ol>\n			</li>\n			<li>\n				<span class="tos__term">Indemnities.</span> You will indemnify Google and its affiliates, directors, officers, and employees against all liabilities,\n				damages, losses, costs, fees (including legal fees), and expenses relating to any allegation or third-party legal proceeding to the extent arising from:\n				<ol>\n					<li>your acts or omissions in relation to the Contest (including your use or acceptance of any prize and your breach of or non-compliance with these\n					Contest Rules); and</li>\n					<li>your entries violating any rights of any other person or entity or any obligation you may have with them.</li>\n				</ol>\n			</li>\n		</ol>\n	</li>\n	<li><strong class="tos__term">Disclaimer.</strong> THE CONTEST WEBSITE IS PROVIDED ON AN "AS IS" AND "AS AVAILABLE" BASIS. GOOGLE DISCLAIMS ALL\n	REPRESENTATIONS AND WARRANTIES (EXPRESS OR IMPLIED), INCLUDING ANY WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. GOOGLE IS NOT\n	RESPONSIBLE FOR ANY INCOMPLETE, FAILED, OR DELAYED TRANSMISSION OF YOUR REGISTRATION INFORMATION OR SUBMISSIONS DUE TO THE INTERNET, INCLUDING INTERRUPTION\n	OR DELAYS CAUSED BY EQUIPMENT OR SOFTWARE MALFUNCTION OR OTHER TECHNICAL PROBLEMS.</li>\n	<li>\n		<strong class="tos__term">General.</strong>\n		<ol>\n			<li>\n				<span class="tos__term">Not an Offer or Contract Of Employment.</span>\n				<ol>\n					<li>You acknowledge that your participation is voluntary.</li>\n					<li>You acknowledge that no confidential, fiduciary, agency or other relationship or implied-in-fact contract now exists between you and Google or the\n					Organizations and that no such relationship is established by your submission of an entry to the Contest.</li>\n					<li>You understand and agree that nothing in these Contest Rules or an entry to the Contest or an award of a prize may be construed as an offer or\n					contract of employment with either Google or any Organization.</li>\n				</ol>\n			</li>\n			<li><span class="tos__term">Severability.</span> If any term (or part of a term) of these Contest Rules is invalid, illegal or unenforceable, the rest of\n			the Contest Rules will remain in effect.</li>\n			<li><span class="tos__term">Translations.</span> In the event of any discrepancy between the English version of these Contest Rules and a translated\n			version, the English version will govern.</li>\n			<li><span class="tos__term">Governing Law.</span> ALL CLAIMS ARISING OUT OF OR RELATING TO THESE CONTEST RULES WILL BE GOVERNED BY CALIFORNIA LAW,\n			EXCLUDING CALIFORNIA\'S CONFLICT OF LAWS RULES, AND WILL BE LITIGATED EXCLUSIVELY IN THE FEDERAL OR STATE COURTS OF SANTA CLARA COUNTY, CALIFORNIA, USA; THE\n			PARTIES CONSENT TO PERSONAL JURISDICTION IN THOSE COURTS.</li>\n		</ol>\n	</li>\n</ol>\n</div>\n'),
$templateCache.put("pages/public/terms/_user-terms.html",'<p class="tos__intro"><strong>GOOGLE CODE-IN 2015<br/>\nMENTOR PARTICIPANT AGREEMENT<br/>\n(Organizations Mentors and Administrators)</strong></p>\n<p><strong>PLEASE READ THIS MENTOR PARTICIPANT AGREEMENT CAREFULLY.</strong></p>\n<p>By registering and clicking I have read and agree to this Participant Agreement you agree to be bound by the terms of this Mentor Participant Agreement\n(<strong>Agreement</strong>) and it forms a binding legal agreement between Google Inc., having a principal place of business at 1600 Amphitheatre\nParkway, Mountain View, CA 94043 (<strong>Google</strong>), and you with respect to the Google Code-in 2015 Contest (<strong>Contest</strong>).</p>\n<p>If you do not agree to these terms and conditions, please do not click the "I have read and agree to this Participant Agreement" checkbox and you may not participate\nin the Contest.</p>\n<p>The words <strong>"include"</strong> and <strong>"including"</strong> as used in this Agreement mean including but not limited to.</p>\n<ol>\n	<li>\n		<strong class="tos__term">Registration.</strong>\n		<ol>\n			<li>\n				<span class="tos__term">Eligibility for Participation.</span> By registering to be a mentor or administrator in the Contest, you represent and warrant\n				that:\n				<ol>\n					<li>you are a contributor to an active and viable open source or free software organization;</li>\n					<li>you are not a resident of a United States embargoed country;</li>\n					<li>you are not ordinarily resident in a United States embargoed country, or otherwise prohibited by applicable export controls and sanctions programs;\n					and</li>\n					<li>you are:\n						<ol>\n							<li>at least eighteen (18) years of age; or</li>\n							<li>for mentors, between the ages of thirteen (13) to seventeen (17) and your parent or legal guardian consents to your participation as a mentor as\n							evidenced by their signing of the Google Code-in Contest Parental Consent and Waiver and Release ("Parental Consent"). As part of your registration\n							process, you must submit your signed Parental Consent to Google at gci-support@google.com.</li>\n						</ol>\n					</li>\n				</ol>\n			</li>\n			<li><span class="tos__term">Verifying Eligibility.</span> Google reserves the right to verify your eligibility at any time. You agree to provide Google\n			with any proof of eligibility requested by Google and refusal or failure to timely provide such proof may result in your removal from the Contest.</li>\n			<li><span class="tos__term">Assignment.</span> In order to be a mentor, you must either be: (i) an administrator, or (ii) assigned as a mentor on the\n			Contest website by your administrator.</li>\n		</ol>\n	</li>\n	<li>\n		<strong class="tos__term">Participation.</strong>\n		<ol>\n			<li>\n				<span class="tos__term">Conduct.</span>\n				<ol>\n					<li>You agree to use professional and courteous conduct when interacting with the contestants; otherwise, you will be removed from the Contest.</li>\n					<li>You agree to respond to contestant requests within thirty-six (36) hours.</li>\n				</ol>\n			</li>\n			<li><span class="tos__term">Eligibility for Promotional Materials.</span> Due to shipping difficulties, Google will not ship physical goods to the\n			following countries: Argentina, Belarus, Chile, Colombia, Kazakhstan, Mexico, Myanmar (Burma), Peru, Russia, and Ukraine (collectively, Restricted\n			Countries). You acknowledge and agree that you will not receive any promotional materials (including t-shirts) from Google for your participation if you\n			reside in a Restricted Country.</li>\n			<li>\n				<span class="tos__term">Rights to Submissions.</span>\n				<ol>\n					<li>Submission means any materials you submit to Google in connection with the Contest.</li>\n					<li>You retain all ownership rights you have in Submissions before submitting it.</li>\n					<li>You grant Google a non-exclusive, worldwide, perpetual, irrevocable, free license (with the right to sublicense) to reproduce, prepare derivative\n					works of, distribute, perform, display, and otherwise use the Submissions only for the purpose of administering the Contest and promoting Google\n					Code-in.</li>\n				</ol>\n			</li>\n		</ol>\n	</li>\n	<li>\n		<strong class="tos__term">Privacy.</strong>\n		<ol>\n			<li>\n				<span class="tos__term">How Google May Use Your Information.</span>\n				<ol>\n					<li>Google will use the information you provide during registration and in any subsequent communications to administer the Contest (including verifying\n					your eligibility to participate in the Contest and sending notifications regarding the Contest). This data may be transferred into the United States and\n					will be used and maintained in accordance with Googles <a href="https://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>.\n					</li>\n					<li>In addition to the uses set forth in Googles Privacy Policy, Google may use your information as follows:\n						<ol>\n							<li>Google may use your information to respond to participation verification requests from third parties pursuant to school admissions applications,\n							employment applications, and the like that you have submitted to such third parties.</li>\n							<li>Google may use your aggregated, non-personally identifiable information for statistical purposes.</li>\n							<li>Google and its agents may use your name, likeness, and statements without compensation to promote Google Code-in, including displaying it on the\n							Contest website.</li>\n						</ol>\n					</li>\n				</ol>\n			</li>\n			<li>\n				<span class="tos__term">Sharing Information.</span> In addition to the circumstances set forth in Googles Privacy Policy, Google may share your\n				information as follows:\n				<ol>\n					<li>The username you create during registration may be displayed publicly on the Contest website and any archives of the Contest website.</li>\n					<li>Google may share your contact information with contestants and other third parties (such as shipping processors) to administer the Contest.</li>\n				</ol>\n			</li>\n			<li><span class="tos__term">Accessing Profile Information.</span> You may access and review the personal information in your Contest profile and edit such\n			information through your profile during the Contest period. If you would like to edit such information after the Contest period, you may write to Google\n			(Attention: Open Source Programs Office) at the address listed in the preamble above for further assistance.</li>\n		</ol>\n	</li>\n	<li>\n		<strong class="tos__term">Representations, Warranties, Indemnities.</strong>\n		<ol>\n			<li>\n				<span class="tos__term">Representations and Warranties.</span> You represent and warrant that:\n				<ol>\n					<li>the information you provide about yourself while registering or in subsequent communications with Google is truthful and accurate; and</li>\n					<li>in reviewing submitted entries from contestants, you will not discriminate on the basis of age, race, creed, color, religion, sex, sexual\n					orientation, national origin, disability, marital or veteran status or any other basis that is prohibited by applicable law.</li>\n				</ol>\n			</li>\n			<li><span class="tos__term">Indemnities.</span> You will indemnify Google and its affiliates, directors, officers, employees against all liabilities,\n			damages, losses, costs, fees (including legal fees), and expenses relating to any allegation or third-party legal proceeding to the extent arising from\n			your acts or omissions in relation to the Contest, including breach of this Agreement.</li>\n		</ol>\n	</li>\n	<li><strong class="tos__term">Disclaimer.</strong> THE CONTEST WEBSITE IS PROVIDED ON AN "AS IS" AND "AS AVAILABLE" BASIS. GOOGLE DISCLAIMS ALL\n	REPRESENTATIONS AND WARRANTIES (EXPRESS OR IMPLIED), INCLUDING ANY WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. GOOGLE IS NOT\n	RESPONSIBLE FOR ANY INCOMPLETE, FAILED, OR DELAYED TRANSMISSION OF INFORMATION DUE TO THE INTERNET, INCLUDING INTERRUPTION OR DELAYS CAUSED BY EQUIPMENT OR\n	SOFTWARE MALFUNCTION OR OTHER TECHNICAL PROBLEMS.</li>\n	<li>\n		<strong class="tos__term">Limitation of Liability.</strong>\n		<ol>\n			<li><span class="tos__term">Liability.</span> IN THIS SECTION 6 (LIMITATION OF LIABILITY), LIABILITY MEANS ANY LIABILITY, WHETHER UNDER CONTRACT, TORT,\n			OR OTHERWISE, INCLUDING FOR NEGLIGENCE.</li>\n			<li><span class="tos__term">Limitations.</span> GOOGLES LIABILITY UNDER THIS AGREEMENT IS LIMITED TO DIRECT DAMAGES, WHICH WILL NOT EXCEED US$1,000 IN\n			AGGREGATE.</li>\n			<li><span class="tos__term">Exceptions to Limitations.</span> NOTHING IN THIS AGREEMENT EXCLUDES OR LIMITS GOOGLES LIABILITY FOR MATTERS FOR WHICH\n			LIABILITY CANNOT BE LIMITED UNDER APPLICABLE LAW.</li>\n		</ol>\n	</li>\n	<li>\n		<strong class="tos__term">General.</strong>\n		<ol>\n			<li><span class="tos__term">Assignment.</span> You may not assign or delegate this Agreement or any part of it without the prior written approval of\n			Google. Google may assign or delegate this Agreement or any part of it upon notification, which may be posted on the Contest website or sent to the contact\n			information you provided upon registration.</li>\n			<li><span class="tos__term">Googles Affiliates, Consultants, and Contractors.</span> Google may use its affiliates, consultants, and contractors in\n			connection with the performance of its obligations and exercise of its rights under this Agreement.</li>\n			<li><span class="tos__term">No Waiver.</span> Neither party will be treated as having waived any rights by not exercising (or delaying the exercise of) any\n			rights under this Agreement.</li>\n			<li><span class="tos__term">No Agency.</span> This Agreement does not create any agency, partnership, or joint venture between the parties.</li>\n			<li><span class="tos__term">No Third Party Beneficiaries.</span> This Agreement does not confer any benefits on any third party unless it expressly states\n			that it does.</li>\n			<li><span class="tos__term">Entire Agreement.</span> This Agreement sets out all terms agreed between the parties and supersedes all other agreements\n			between the parties relating to its subject matter. In entering into this Agreement neither party has relied on, and neither party will have any right or\n			remedy based on, any statement, representation or warranty (whether made negligently or innocently), except those expressly set out in this Agreement.</li>\n			<li><span class="tos__term">Amendments.</span> Any amendment must be in writing, signed by both parties, and expressly state that it is amending this\n			Agreement.</li>\n			<li><span class="tos__term">Severability.</span> If any term (or part of a term) of this Agreement is invalid, illegal or unenforceable, the rest of the\n			Agreement will remain in effect.</li>\n			<li><span class="tos__term">Translations.</span> In the event of any discrepancy between the English version of this Agreement and a translated version,\n			the English version will govern.</li>\n			<li><span class="tos__term">Governing Law.</span> ALL CLAIMS ARISING OUT OF OR RELATING TO THIS AGREEMENT WILL BE GOVERNED BY CALIFORNIA LAW, EXCLUDING\n			CALIFORNIA\'S CONFLICT OF LAWS RULES, AND WILL BE LITIGATED EXCLUSIVELY IN THE FEDERAL OR STATE COURTS OF SANTA CLARA COUNTY, CALIFORNIA, USA; THE PARTIES\n			CONSENT TO PERSONAL JURISDICTION IN THOSE COURTS.</li>\n		</ol>\n	</li>\n</ol>\n'),$templateCache.put("pages/public/terms/extra-privacy.html",'<div layout="column">\n	<p>This data may be transferred into the United States and will be used and maintained in accordance with <a href="//www.google.com/intl/en/policies/privacy/" target="_blank">Googles Privacy Policy.</a></p>\n</div>\n'),$templateCache.put("pages/public/terms/pages.org-terms.html",'<section class="lifted-section">\n	<div class="fixed-width">\n		<md-card>\n			<md-card-content>\n				<h2>Organization Agreement</h2>\n				<div class="tos">\n					<ng-include src="\'pages/public/terms/_org-terms.html\'"></ng-include>\n				</div>\n			</md-card-content>\n		</md-card>\n	</div>\n</section>\n'),$templateCache.put("pages/public/terms/pages.student-terms.html",'<section class="lifted-section">\n	<div class="fixed-width">\n		<md-card>\n			<md-card-content>\n				<h2>Contest Rules</h2>\n				<div class="tos">\n					<ng-include src="\'pages/public/terms/_student-terms.html\'"></ng-include>\n				</div>\n			</md-card-content>\n		</md-card>\n	</div>\n</section>\n'),$templateCache.put("pages/public/terms/pages.terms.html",'<section class="lifted-section">\n	<div class="fixed-width">\n		<md-card>\n			<md-card-content>\n				<h2>Terms and Conditions</h2>\n				<p>\n					<ul>\n						<li><a ui-sref="base.app.public.user-terms">Mentor Participant Agreement (Organization\'s Mentors and Administrators)</a></li>\n						<li><a ui-sref="base.app.public.org-terms">Mentor Organization Agreement</a></li>\n						<li><a ui-sref="base.app.public.student-terms">Contestant Agreement (Contest Rules)</a></li>\n					</ul>\n				</p>\n			</md-card-content>\n		</md-card>\n	</div>\n</section>\n'),$templateCache.put("pages/public/terms/pages.user-terms.html",'<section class="lifted-section">\n	<div class="fixed-width">\n		<md-card>\n			<md-card-content>\n				<h2>Mentor Participant Agreement</h2>\n				<div class="tos">\n					<ng-include src="\'pages/public/terms/_user-terms.html\'"></ng-include>\n				</div>\n			</md-card-content>\n		</md-card>\n	</div>\n</section>\n'),$templateCache.put("pages/signup/org-member-signup/pages.org-member-signup.invalid.html",'<div class="page-home">\n	<section class="home__main lifted-section" layout="column">\n		<div class="fixed-width">\n			<md-card class="md-padding">\n				<h2><strong>Invalid signup</strong></h2>\n				<p>Sorry, we can\'t find any outstanding invitations for your account. Please check that you have logged in with the same account that you received your invitation email to.</p>\n			</md-card>\n		</div>\n	</section>\n</div>\n'),$templateCache.put("pages/signup/org-member-signup/pages.org-member-signup.profile-form.html",'<div layout="column" class="fixed-width">\n	<md-card class="hero__card md-padding">\n		<md-content layout-padding>\n			<h2 class="md-headline">{{ ctrl.org.name }}: {{ctrl.isMentor ? \'Mentor\' : \'Administrator\'}} Registration</h2>\n			<p>You have been invited to join Google Code-in {{ctrl.program.year}} as {{ctrl.isMentor ? \'a mentor\' : \'an administrator\'}} for {{ctrl.org.name}}</p>\n\n			<form class="signup__form" ng-submit="ctrl.submit()" name="profileForm" novalidate form-focus-invalid>\n				<div layout="column">\n\n					<h2 class="md-title">Your Details</h2>\n					<ng-include src="\'pages/common/profile-fields.html\'"></ng-include>\n				</div>\n\n				<div layout="column">\n					<h2 class="md-title">Home Address</h2>\n					<ng-include src="\'pages/common/address-fields.html\'"></ng-include>\n					<md-checkbox ng-model="ctrl.user.shipping_address_is_home_address" class="md-primary"\n								 aria-label="Ship to the above address">Ship to the above address\n					</md-checkbox>\n					<tooltip-help flex>Check this box if you wish for your items to be shipped to the address above.</tooltip-help>\n				</div>\n\n				<div ng-hide="ctrl.user.shipping_address_is_home_address">\n					<h2 class="md-title">Shipping Address</h2>\n					<ng-include src="\'pages/common/shipping-address-fields.html\'"></ng-include>\n				</div>\n\n				<div layout>\n					<md-button type="submit" class="md-primary md-raised">Next</md-button>\n				</div>\n				<ng-include src="\'pages/public/terms/extra-privacy.html\'"></ng-include>\n			</form>\n		</md-content>\n	</md-card>\n</div>\n'),$templateCache.put("pages/signup/org-member-signup/pages.org-member-signup.progress-bar.html",'<signup-progress steps="SignUpBaseCtrl.steps" current-step="AppCtrl.step"></signup-progress>\n<div ui-view></div>\n'),$templateCache.put("pages/signup/org-member-signup/pages.org-member-signup.success.html",'<div layout="column" class="fixed-width">\n	<md-card class="hero__card">\n		<md-card-content layout-align="center center" layout="column" layout-padding>\n			<h2 class="md-headline">You\'re in!</h2>\n\n			<p>\n				You have registered for Google Code-in {{ctrl.program.year}}\n			</p>\n\n			<md-button class="md-raised md-primary" href="/dashboard/" target="_self">Take me to the dashboard</md-button>\n		</md-card-content>\n	</md-card>\n</div>\n'),$templateCache.put("pages/signup/org-signup/pages.org-signup.org-tos.html",'<div layout="column" class="fixed-width">\n	<md-card>\n		<md-card-content class="md-padding">\n			<form ng-submit="ctrl.submit()">\n				<h2 class="md-headline">Organization Agreement</h2>\n				<div class="tos">\n					<p>This Organization Agreement is for your organization\'s participation in Google Code-in {{ AppCtrl.program.year }}.</p>\n					<md-content layout-padding class="tos__scrolling-box" scrolled-to-bottom="ctrl.tosRead">\n						<ng-include src="\'pages/public/terms/_org-terms.html\'"></ng-include>\n					</md-content>\n				</div>\n				<div layout="column">\n					<md-checkbox\n								 ng-disabled="!ctrl.tosRead"\n								 ng-model="ctrl.signUpState.org.accepted_org_tos"\n								 ng-true-value=true\n								 ng-false-value=false\n								 required\n								 aria-label="I have read and agree to this Organization Agreement"\n								 class="md-primary">I have read and agree to this Organization Agreement\n					</md-checkbox>\n				</div>\n				<div>\n					<md-button ng-disabled="!ctrl.signUpState.org.accepted_org_tos || ctrl.saving || !ctrl.tosRead"\n						class="md-primary md-raised"\n						type="submit"\n					>{{ ctrl.saving ? \'Please wait\':\'Next\' }}</md-button>\n					<md-button class="md-primary" ui-sref="base.app.public.home" >Cancel registration</md-button>\n				</div>\n				<ng-include src="\'pages/public/terms/extra-privacy.html\'"></ng-include>\n			</form>\n		</md-card-content>\n	</md-card>\n</div>\n'),$templateCache.put("pages/signup/org-signup/pages.org-signup.profile-form.html",'<div layout="column" class="fixed-width">\n	<md-card class="hero__card">\n		<md-card-content class="md-padding">\n			<h1 class="md-headline">Google Code-in {{ctrl.program.year}}: Register Your Organization</h1>\n\n			<form class="signup__form" ng-submit="ctrl.submit()" name="profileForm" novalidate layout="column"\n				  form-focus-invalid>\n				<h2 class="md-title">Organization name</h2>\n				<md-input-container flex>\n					<label>Organization Name</label>\n					<input ng-model="ctrl.signupOrg.name" required name="org_name">\n\n					<div ng-messages="profileForm.org_name.$error"\n						 ng-if="(profileForm.org_name.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.org_name.$error)">\n						<div ng-messages-include="pages/validation-messages.html"></div>\n					</div>\n				</md-input-container>\n				<md-input-container flex>\n					<div>\n						<p>Are you prepared to provide between 150 and 500 tasks for students to complete?</p>\n					</div>\n					<md-radio-group ng-model="ctrl.signupOrg.can_produce_enough_tasks" require-value="\'1\'"\n									name="can_produce_enough_tasks" required>\n						<md-radio-button value="1" class="md-primary">Yes</md-radio-button>\n						<md-radio-button value="0" class="md-warn">No</md-radio-button>\n					</md-radio-group>\n					<div ng-messages="profileForm.can_produce_enough_tasks.$error"\n						 ng-if="(profileForm.can_produce_enough_tasks.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.can_produce_enough_tasks.$error)"\n						 aria-live="assertive" class="ng-active" aria-hidden="false">\n						<div ng-message="require-value">You must answer \'Yes\' to this question</div>\n					</div>\n				</md-input-container>\n				<div layout="column">\n					<h2 class="md-title">Your Details</h2>\n					<ng-include src="\'pages/common/profile-fields.html\'"></ng-include>\n				</div>\n				<div layout="column">\n					<h2 class="md-title">Home Address</h2>\n					<ng-include src="\'pages/common/address-fields.html\'"></ng-include>\n				</div>\n				<md-input-container flex>\n					<div layout="row" class="has-tooltip">\n						<md-checkbox ng-model="ctrl.user.shipping_address_is_home_address"\n									 aria-label="Ship to the above address?" class="md-primary">Ship to the above address?\n						</md-checkbox>\n						<tooltip-help flex>Check this box if you wish for your items to be shipped to the address above.</tooltip-help>\n					</div>\n				</md-input-container>\n				<div layout="column" ng-hide="ctrl.user.shipping_address_is_home_address">\n					<h2 class="md-title">Shipping Address</h2>\n					<ng-include src="\'pages/common/shipping-address-fields.html\'"></ng-include>\n				</div>\n				<div layout>\n					<md-button type="submit" class="md-raised md-primary">Next</md-button>\n				</div>\n				<ng-include src="\'pages/public/terms/extra-privacy.html\'"></ng-include>\n			</form>\n		</md-card-content>\n	</md-card>\n</div>\n'),$templateCache.put("pages/signup/org-signup/pages.org-signup.progress-bar.html",'<signup-progress steps="SignUpBaseCtrl.steps" current-step="AppCtrl.step"></signup-progress>\n<div ui-view></div>\n'),$templateCache.put("pages/signup/org-signup/pages.org-signup.success.html",'<div layout="column" class="fixed-width">\n	<md-card class="hero__card">\n		<md-card-content layout-align="center center" layout="column" layout-padding>\n			<h2 class="md-headline">Registration Complete</h2>\n\n			<p>\n				To finalize your Google Code-in {{ctrl.program.year}} registration you must do the following:\n			</p>\n			<ul>\n				<li>Complete your organization application form</li>\n				<li>Complete your organization profile</li>\n				<li>Add at least one other organization administrator</li>\n			</ul>\n\n			<md-button class="md-raised md-primary" href="/dashboard/" target="_self">Take me to the dashboard</md-button>\n		</md-card-content>\n	</md-card>\n</div>\n'),$templateCache.put("pages/signup/student-signup/pages.student-signup.profile-form.html",'<div layout="column" class="fixed-width">\n	<md-card>\n		<md-card-content class="md-padding">\n			<h2 class="md-headline">Student Registration</h2>\n			<p>Please enter your details below to register for Google Code-in</p>\n\n			<form class="signup__form" ci-submit="ctrl.submit($event)" name="profileForm" novalidate form-focus-invalid>\n				<div layout="column">\n					<h2 class="md-title">Your Details</h2>\n\n					<ng-include src="\'pages/common/pages.student-profile-fields.html\'"></ng-include>\n				</div>\n\n				<div layout="column">\n					<h2 class="md-title">Education</h2>\n\n					<md-input-container>\n						<div layout="column" class="has-tooltip">\n							<p>Are you homeschooled?</p>\n							<md-radio-group ng-model="ctrl.user.is_homeschooled" name="is_homeschooled" required>\n								<md-radio-button ng-value="false" class="md-primary">No</md-radio-button>\n								<md-radio-button ng-value="true" class="md-primary">Yes</md-radio-button>\n							</md-radio-group>\n							<tooltip-help>Are you enrolled in a homeschool, independent study, or non-traditional school setting?</tooltip-help>\n						</div>\n						<div ng-messages="profileForm.is_homeschooled.$error"\n							 ng-if="(profileForm.is_homeschooled.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.is_homeschooled.$error)">\n							<div ng-messages-include="pages/validation-messages.html"></div>\n						</div>\n					</md-input-container>\n				</div>\n				<div layout="column" ng-if="!ctrl.user.is_homeschooled">\n					<ng-include src="\'pages/common/education-fields.html\'"></ng-include>\n				</div>\n\n				<div layout="column">\n					<h2 class="md-title">Home Address</h2>\n\n					<ng-include src="\'pages/common/address-fields.html\'"></ng-include>\n				</div>\n\n				<md-input-container flex>\n					<md-checkbox ng-model="ctrl.user.shipping_address_is_home_address" class="md-primary"\n								 aria-label="Ship to the above address">Ship to the above address\n					</md-checkbox>\n					<tooltip-help flex>Check this box if you wish for your items to be shipped to the address above.</tooltip-help>\n				</md-input-container>\n\n				<div layout="column" ng-hide="ctrl.user.shipping_address_is_home_address">\n					<h2 class="md-title">Shipping Address</h2>\n\n					<ng-include src="\'pages/common/shipping-address-fields.html\'"></ng-include>\n				</div>\n\n				<div layout>\n					<md-button type="submit" class="md-raised md-primary" ng-disabled="profileForm.$state.inProgress">\n						<span ng-if="!profileForm.$state.inProgress">Next</span>\n						<span ng-if="profileForm.$state.inProgress">Please wait...</span>\n					</md-button>\n				</div>\n\n				<ng-include src="\'pages/public/terms/extra-privacy.html\'"></ng-include>\n			</form>\n		</md-card-content>\n	</md-card>\n</div>\n'),$templateCache.put("pages/signup/student-signup/pages.student-signup.progress-bar.html",'<signup-progress steps="SignUpBaseCtrl.steps" current-step="AppCtrl.step"></signup-progress>\n<div ui-view></div>\n'),$templateCache.put("pages/signup/student-signup/pages.student-signup.tos.html",'<div layout="column" class="fixed-width">\n	<md-card>\n		<md-card-content class="md-padding">\n			<form name="studentTOSForm" ci-submit="ctrl.submit($event)" ci-dont-end="true">\n				<h2 class="md-headline">Contest Rules</h2>\n				<div class="tos">\n					<p>You are agreeing to these Contest Rules for your participation as a contestant in Google Code-in {{ AppCtrl.program.year }}.</p>\n					<md-content layout-padding class="tos__scrolling-box" scrolled-to-bottom="ctrl.tosRead">\n						<ng-include src="\'pages/public/terms/_student-terms.html\'"></ng-include>\n					</md-content>\n				</div>\n				<div layout="column">\n					<md-checkbox\n								 ng-disabled="!ctrl.tosRead"\n								 ng-model="ctrl.signUpState.profile.accepted_student_tos"\n								 ng-true-value=true\n								 ng-false-value=false\n								 required\n								 aria-label="I have read and agree to these Contest Rules"\n								 class="md-primary">I have read and agree to these Contest Rules\n					</md-checkbox>\n				</div>\n				<div>\n					<md-button ng-disabled="!ctrl.signUpState.profile.accepted_student_tos || studentTOSForm.$state.inProgress || !ctrl.tosRead" class="md-primary md-raised" type="submit">\n						<span ng-if="!studentTOSForm.$state.inProgress">Next</span>\n						<span ng-if="studentTOSForm.$state.inProgress">Please wait...</span>\n					</md-button>\n					<md-button class="md-primary" ui-sref="base.app.public.home" >Cancel registration</md-button>\n				</div>\n				<ng-include src="\'pages/public/terms/extra-privacy.html\'"></ng-include>\n			</form>\n		</md-card-content>\n	</md-card>\n</div>\n'),$templateCache.put("pages/user-profile/pages.user-profile.html",'<h1 transclude-send="page-title">User Profile</h1>\n<tab-nav>\n	<tab-nav-item\n	 sref="base.app.management.profile.mine"\n	 title="My profile"\n	></tab-nav-item>\n	<tab-nav-item\n	 ng-if="ctrl.user.is_student"\n	 sref="base.app.parental-consent.online-form"\n	 title="Parental Consent Form"\n	></tab-nav-item>\n</tab-nav>\n\n<div class="tab-panel" ui-view></div>\n'),$templateCache.put("pages/user-profile/pages.user-profile.profile-form.html",'<div class="admin-form fixed-outer-width">\n	<form class="profile__form" ci-submit="ctrl.submit()" name="profileForm" novalidate>\n		<div layout-sm="column" layout-gt-sm="row">\n			<div flex-gt-sm="60" flex-order="1" flex-order-gt-sm="0">\n			<md-card class="form-panel form-left-panel md-padding">\n				<md-card-content>\n				<h1 class="md-headline main-title upper">My Profile</h1>\n\n				<p ng-if="profileForm.$submitted && profileForm.$invalid" class="errors">This form has errors</p>\n\n					<div layout="column">\n						<h2 class="md-title">Your details</h2>\n\n						<div ng-if="!ctrl.user.is_student"><ng-include src="\'pages/common/profile-fields.html\'"></ng-include></div>\n						<div ng-if="ctrl.user.is_student"><ng-include src="\'pages/common/pages.student-profile-fields.html\'"></ng-include></div>\n					</div>\n\n					<div layout="column" ng-if="ctrl.user.is_student">\n						<h2 class="md-title">Education</h2>\n\n						<md-input-container>\n							<div layout="column" class="has-tooltip">\n								<p>Are you homeschooled?</p>\n								<md-radio-group ng-model="ctrl.user.is_homeschooled" name="is_homeschooled" required>\n									<md-radio-button ng-value="false" class="md-primary" ng-disabled="ctrl.user.id">No</md-radio-button>\n									<md-radio-button ng-value="true" class="md-primary" ng-disabled="ctrl.user.id">Yes</md-radio-button>\n								</md-radio-group>\n								<tooltip-help>Are you enrolled in a homeschool, independent study, or non-traditional school setting?</tooltip-help>\n							</div>\n							<div ng-messages="profileForm.is_homeschooled.$error"\n								 ng-if="(profileForm.is_homeschooled.$dirty || profileForm.$submitted) && !AppCtrl.isEmpty(profileForm.is_homeschooled.$error)">\n								<div ng-messages-include="pages/validation-messages.html"></div>\n							</div>\n						</md-input-container>\n\n						<div layout="column" ng-hide="ctrl.user.is_homeschooled === true">\n							<ng-include src="\'pages/common/education-fields.html\'"></ng-include>\n						</div>\n					</div>\n\n					<div layout="column">\n						<h2 class="md-title">Home address</h2>\n\n						<ng-include src="\'pages/common/address-fields.html\'"></ng-include>\n					</div>\n\n					<md-input-container flex>\n						<md-checkbox ng-model="ctrl.user.shipping_address_is_home_address" class="md-primary"\n									 aria-label="Ship to the above address">Ship to the above address\n						</md-checkbox>\n						<tooltip-help flex>Check this box if you wish for your items to be shipped to the address above.</tooltip-help>\n					</md-input-container>\n\n					<div layout="column" ng-hide="ctrl.user.shipping_address_is_home_address">\n						<h2 class="md-title">Shipping address</h2>\n\n						<ng-include src="\'pages/common/shipping-address-fields.html\'"></ng-include>\n					</div>\n\n\n					<div layout layout-padding layout-align="end center">\n						<md-button type="submit" class="md-primary md-raised" ng-disabled="profileForm.$state.success || !profileForm.$valid || !profileForm.$dirty || profileForm.$state.inProgress">\n							<span ng-if="!profileForm.$state.inProgress && !profileForm.$state.success">Update profile</span>\n							<span ng-if="profileForm.$state.inProgress">Saving...</span>\n							<span ng-if="profileForm.$state.success">Saved!</span>\n						</md-button>\n					</div>\n\n				</md-card-content>\n			</md-card>\n			</div>\n			<div flex-gt-sm="40">\n			<md-card flex class="form-panel form-left-panel md-padding">\n				<md-card-content>\n					<h1 class="md-headline main-title upper">My Account</h1>\n					<p><strong>Registered:</strong> {{ ctrl.user.created | date : \'d MMM y\' }}</p>\n					<p>You have agreed to the following\n						<span ng-if="ctrl.user.is_student"><a ui-sref="base.app.public.student-terms">Contest Rules</a></span>\n						<span ng-if="ctrl.user.is_org_admin"><a ui-sref="base.app.public.org-terms">Organization agreement</a> and</span>\n						<span ng-if="ctrl.user.is_org_admin || ctrl.user.is_mentor"><a ui-sref="base.app.public.user-terms">Participant agreement</a></span>\n					</p>\n					<p ng-if="ctrl.user.is_org_admin || ctrl.user.is_mentor">\n						<md-checkbox ng-model="ctrl.user.opt_in_to_task_notifications"\n							name=\'opt_in_to_task_notifications\'\n							aria-label="Receive emails for tasks I mentor"\n							class="md-primary">\n							Receive emails for tasks I mentor\n						</md-checkbox>\n					</p>\n					<md-divider></md-divider>\n					<div ng-repeat="membership in ctrl.user.memberships" ng-if="membership.auth_token">\n						<p>\n							Your API key for <strong>{{ membership.organization.name }}</strong>: <br/>\n							<span class="accent-color">{{ membership.auth_token }}</span>\n						</p>\n						<p>\n							<md-button\n								ng-disabled="ctrl.regeneratingKey"\n								class="md-primary"\n								type="button"\n								ng-click="ctrl.regenerateKey($index)"\n							>{{ ctrl.regeneratingKey ? \'Please wait\':\'Regenerate key\'}}</md-button>\n						</p>\n						<md-divider></md-divider>\n					</div>\n					<div ng-hide="ctrl.user.is_archived">\n						<p><button type="button" class="md-button md-warn" ng-click="ctrl.deleteUser()">Withdraw from Contest</button></p>\n						<p>This will delete your account and all of your Code-in data</p>\n					</div>\n					<p class="warning" ng-show="ctrl.user.is_archived">\n						<strong>Your account is pending deletion</strong>\n					</p>\n				</md-card-content>\n			</md-card>\n			<md-card flex class="form-panel form-left-panel md-padding" ng-if="ctrl.user.is_student">\n				<md-card-content>\n					<h1 class="md-headline main-title upper">Parental Consent</h1>\n					<div layout="row" layout-align="start center" class="parental-consent-status">\n						<div ng-show="ctrl.parentalConsent.status === ctrl.locals.Constants.ParentalConsentStatus.PENDING">\n							<i class="material-icons">assignment</i> Pending submission\n						</div>\n						<div ng-show="ctrl.parentalConsent.status === ctrl.locals.Constants.ParentalConsentStatus.SUBMITTED">\n							<i class="material-icons">assignment</i> Submitted, awaiting approval\n						</div>\n						<div ng-show="ctrl.parentalConsent.status === ctrl.locals.Constants.ParentalConsentStatus.ACCEPTED">\n							<i class="material-icons success">assignment_turned_in</i> Approved\n						</div>\n						<div ng-show="ctrl.parentalConsent.status === ctrl.locals.Constants.ParentalConsentStatus.REJECTED">\n							<i class="material-icons warning">assignment_late</i> Rejected\n						</div>\n					</div>\n					<p ng-if="ctrl.user.parental_consent_completed_on && ctrl.parentalConsent.status !== ctrl.locals.Constants.ParentalConsentStatus.PENDING"><strong>Submitted:</strong> {{ ctrl.user.parental_consent_completed_on | codeInDateFormat }}</p>\n\n					<p ng-if="ctrl.user.needs_parental_consent && ctrl.parentalConsent.status !== ctrl.locals.Constants.ParentalConsentStatus.REJECTED">\n						We will review your parental consent form after you submit your first task for review.\n						If there are any issues with the form we will contact you directly so you can correct them.\n					</p>\n					<p ng-if="ctrl.canSubmitParentalConsent(ctrl.parentalConsent, ctrl.program)">\n						<a ui-sref="base.app.parental-consent.online-form">\n							{{ ctrl.parentalConsent.status != ctrl.locals.Constants.ParentalConsentStatus.PENDING ? \'Resubmit\' : \'Submit\' }} parental consent\n						</a>\n					</p>\n					<div class="warning" ng-hide="ctrl.program.student_signup_open || ctrl.parentalConsent.status === ctrl.locals.Constants.ParentalConsentStatus.ACCEPTED">\n						<p><i class="material-icons">warning</i>\n							Parental Consent cannot be\n'+"							{{ ctrl.parentalConsent.status != ctrl.locals.Constants.ParentalConsentStatus.PENDING ? 'resubmitted' : 'submitted' }}\n							at this stage of the contest.\n						</p>\n					</div>\n				</md-card-content>\n			</md-card>\n			</div>\n		</div>\n	</form>\n</div>\n"),
$templateCache.put("pages/validation-messages.html",'<div ng-message="required">This field is required</div>\n<div ng-message="md-minlength">This field is too short</div>\n<div ng-message="md-maxlength">This field is too long</div>\n<div ng-message="required">This field is required</div>\n<div ng-message="email">This needs to be a valid email</div>\n<div ng-message="number">This must be a valid number</div>\n<div ng-message="unique">This field must be unique. This name is taken.</div>\n<div ng-message="url">This needs to be a valid URL</div>\n<div ng-message="languages-number">Please enter a maximum of 5 Programming Languages or Technologies</div>\n<div ng-message="tags-number">Please enter a maximum of 5 Tags</div>\n\n\n')}]),function(){function resourceConfig(_,DSHttpAdapterProvider,API_BASE_URL,$httpProvider,modelServiceProvider){var debug=$("html").data("debug")||!1;DSHttpAdapterProvider.defaults.basePath=API_BASE_URL,DSHttpAdapterProvider.defaults.forceTrailingSlash=!0,debug||(DSHttpAdapterProvider.defaults.log=!1),DSHttpAdapterProvider.defaults.deserialize=function(resource,data){var val;return data.data.results?(val=data.data.results,modelServiceProvider.setMeta({count:data.data.count,next:data.data.next,previous:data.data.previous},resource.name,data.config.params)):val=data.data,val},$httpProvider.interceptors.push("HttpErrorInterceptor")}angular.module("app.resources",["js-data"]).config(resourceConfig).constant("_",_).constant("API_BASE_URL","/api")}(),function(){function ProgramResource($q,DS,DSHttpAdapter,API_BASE_URL){var endpoint="program",programModel=DS.defineResource({name:endpoint,idAttribute:"c_year",relations:{hasMany:{organization:{localField:"organizations",foreignKey:"organization_id"}}},computed:{c_year:["",function(){return"current"}]},methods:{lockWinnersSelection:function(locked){var params=[API_BASE_URL,endpoint,this.c_year,"lock_winners"];return DSHttpAdapter.POST(params.join("/"),{winners_selection_locked:locked}).then(function(response){return programModel.inject(response.data),response.data})},sendWinnersEmails:function(){var params=[API_BASE_URL,endpoint,this.c_year,"send_winners_emails"];return DSHttpAdapter.POST(params.join("/"),{}).then(function(response){return programModel.inject(response.data),response.data})}}});return programModel}angular.module("app.resources").factory("ProgramModel",ProgramResource).run(function(ProgramModel){})}(),function(){function OrganizationResource(_,DS,DSHttpAdapter,API_BASE_URL,OrgProfileFormService,OrgApplicationFormService){var endpoint="organization",isProfileCompleteProperty=_.pluck(OrgProfileFormService.validationCriteria,"key"),isApplicationCompleteProperty=_.pluck(OrgApplicationFormService.validationCriteria,"key"),isProfileAndApplicationCompleteProperty=_.union(isProfileCompleteProperty,isApplicationCompleteProperty,["active_admin_membership_count"]);isProfileCompleteProperty.push(function(){return OrgProfileFormService.isValid(this)}),isApplicationCompleteProperty.push(function(){return OrgApplicationFormService.isValid(this)}),isProfileAndApplicationCompleteProperty.push(function(){return OrgProfileFormService.isValid(this)&&OrgApplicationFormService.isValid(this)&&this.active_admin_membership_count>1});var organizationModel=DS.defineResource({name:endpoint,bypassCache:!0,relations:{belongsTo:{program:{parent:!0,localField:"program",localKey:"program_year"}}},computed:{is_accepted:["status",function(){return 2===this.status}],is_below_task_instances_threshold:["available_task_instance_count",function(){return this.available_task_instance_count<75}],is_profile_complete:isProfileCompleteProperty,is_application_complete:isApplicationCompleteProperty,is_profile_and_application_complete:isProfileAndApplicationCompleteProperty},methods:{selectWinners:function(winners){var params=[API_BASE_URL,"program",this.program_year,endpoint,this.id,"select_winners"];return DSHttpAdapter.POST(params.join("/"),winners).then(function(response){return organizationModel.inject(response.data),response.data})}}});return organizationModel}angular.module("app.resources").factory("OrganizationModel",OrganizationResource).run(function(OrganizationModel){})}(),function(){function UserResource(_,DS,API_BASE_URL,DSHttpAdapter){var UserModel=DS.defineResource({name:"user",bypassCache:!0,endpoint:"profile",idAttribute:"id",relations:{belongsTo:{program:{parent:!0,localField:"program",localKey:"program_year"}}},computed:{c_id:["",function(){return"me"}],mentor_on:["memberships",function(memberships){return _.pluck(_.filter(memberships,{role:2}),"organization")}],admin_on:["memberships",function(memberships){return _.pluck(_.filter(memberships,{role:1}),"organization")}],org_memberships:["memberships",function(memberships){return _.uniq(_.pluck(memberships,"organization"),"id")}],parental_consent_approved:["parental_consent_status",function(parental_consent_status){return 2===parental_consent_status}],parental_consent_rejected:["parental_consent_status",function(parental_consent_status){return 3===parental_consent_status}]},methods:{admin_on_org:function(){var org=this.admin_on;return org&&_.isArray(org)&&(org=org.length?org[0]:null),org?DS.get("organization",org.id):void 0}},afterCreateInstance:function(resource,instance){instance.mentor_on=DS.inject("organization",_.pluck(instance.memberships,"organization"))}});return UserModel}angular.module("app.resources").factory("UserModel",UserResource).run(function(UserModel){})}(),function(){function ParentalConsentResource(_,DS,API_BASE_URL,DSHttpAdapter,ConstantsService){var ParentalConsentModel=DS.defineResource({name:"parental_consent",bypassCache:!0,endpoint:"parental_consent",idAttribute:"id",relations:{belongsTo:{program:{parent:!0,localField:"program",localKey:"program_year"},profile:{localField:"profile",localKey:"profile_id"}}},computed:{is_pending:["status",function(status){return status===ConstantsService.get("ParentalConsentStatus").PENDING}],is_accepted:["status",function(status){return status===ConstantsService.get("ParentalConsentStatus").ACCEPTED}],is_rejected:["status",function(status){return status===ConstantsService.get("ParentalConsentStatus").REJECTED}]}});return ParentalConsentModel}angular.module("app.resources").factory("ParentalConsentModel",ParentalConsentResource).run(function(ParentalConsentModel){})}(),function(){function OrganizationMembershipResource(DS,DSHttpAdapter,API_BASE_URL){var endpoint="organization_membership",organizationMembershipModel=DS.defineResource({name:endpoint,bypassCache:!0,relations:{belongsTo:{program:{parent:!0,localField:"program",localKey:"program_year"}}}});return organizationMembershipModel}angular.module("app.resources").factory("OrganizationMembershipModel",OrganizationMembershipResource).run(function(OrganizationMembershipModel){})}(),function(){function OrganizationStudentResource(DS,DSHttpAdapter,API_BASE_URL){var endpoint="organization_student",organizationStudentModel=DS.defineResource({name:endpoint,bypassCache:!0,relations:{belongsTo:{program:{parent:!0,localField:"program",localKey:"program_year"}}}});return organizationStudentModel}angular.module("app.resources").factory("OrganizationStudentModel",OrganizationStudentResource).run(function(OrganizationStudentModel){})}(),function(){"use strict";function TaskResource(DS){var endpoint="taskdefinition",taskModel=DS.defineResource({name:endpoint,bypassCache:!0,relations:{belongsTo:{program:{parent:!0,localField:"program",localKey:"program_year"},organization:{parent:!1,localField:"organization",localKey:"organization_id"}}},computed:{is_published:["status",function(status){return 2===status}],is_draft:["status",function(status){return 1===status}]},beforeCreateInstance:function(resource,attrs){angular.extend(attrs,angular.copy(DEFAULTS))}});return taskModel}angular.module("app.resources").factory("TaskModel",TaskResource).run(function(TaskModel,OrganizationModel){});var DEFAULTS={categories:[],tags:[],max_instances:1,time_to_complete_in_days:3}}(),function(){function TaskInstanceResource(DS,DSHttpAdapter,API_BASE_URL,moment,ProgramService){var endpoint="taskinstance",taskInstanceModel=DS.defineResource({name:endpoint,bypassCache:!0,idAttribute:"id",relations:{belongsTo:{program:{parent:!0,localField:"program",localKey:"program_year"}}},methods:{extendDeadline:function(days){var params=[API_BASE_URL,"program",this.program_year,endpoint,this.id,"extend_deadline"];return DSHttpAdapter.POST(params.join("/"),{days:days}).then(function(response){return taskInstanceModel.inject(response.data),response.data})},getDeadline:function(){var program=ProgramService.getCurrent();return moment(this.deadline_to_complete).isAfter(program.no_claims_ends)?program.no_claims_ends:this.deadline_to_complete}}});return taskInstanceModel}angular.module("app.resources").factory("TaskInstanceModel",TaskInstanceResource).run(function(TaskInstanceModel){})}(),function(){function TaskUpdateResource(DS,DSHttpAdapter,API_BASE_URL){var endpoint="taskupdate",taskUpdateModel=DS.defineResource({name:endpoint,bypassCache:!0,idAttribute:"id",relations:{belongsTo:{program:{parent:!0,localField:"program",localKey:"program_year"}}}});return taskUpdateModel}angular.module("app.resources").factory("TaskUpdateModel",TaskUpdateResource).run(function(TaskUpdateModel){})}(),function(){function TaskDefinitionMentor($q,DS,DSHttpAdapter,API_BASE_URL){var endpoint="taskdefinitionmentor",programModel=DS.defineResource({name:endpoint,bypassCache:!0,idAttribute:"id",relations:{belongsTo:{program:{parent:!0,localField:"program",localKey:"program_year"}}}});return programModel}angular.module("app.resources").factory("TaskDefinitionMentorModel",TaskDefinitionMentor)}(),function(){angular.module("app.services",["ngMaterial"]).constant("_",_).constant("moment",moment)}(),function(){function HttpErrorInterceptor($q,$timeout,$injector,_){function startLoading(configOrResponse){if(configOrResponse.showLoading===!1)return configOrResponse;var PageService=$injector.get("PageService");return $timeout(function(){PageService.getState().loading=!0}),configOrResponse}function stopLoading(configOrResponse){var PageService=$injector.get("PageService");return $timeout(function(){PageService.getState().loading=!1}),configOrResponse}return{request:startLoading,requestError:function(config){return stopLoading(),$q.reject(config)},response:stopLoading,responseError:function(response){stopLoading();var extractErrorMessage=response.config.extractErrorMessage===!0,showValidationError=angular.isUndefined(response.config.showValidationError)||response.config.showValidationError===!0,showError=angular.isUndefined(response.config.showError)||response.config.showError===!0,ToastService=$injector.get("ToastService");if(extractErrorMessage&&response.data&&response.data){var msg=null;if(response.data.detail)msg=response.data.detail;else{var firstErrorKey=_.keys(response.data)[0],errorMsg=response.data[firstErrorKey];_.isArray(errorMsg)&&(errorMsg=errorMsg[0]),msg=errorMsg+" - "+firstErrorKey}msg&&ToastService.showError(msg,0)}else showValidationError&&400===response.status&&response.data?ToastService.showError(response.config.url+": "+JSON.stringify(response.data),1e4):showError&&response.data&&response.data.detail&&ToastService.showError(response.config.url+": "+response.data.detail,1e4);return $q.reject(response)}}}angular.module("app.services").constant("_",_).factory("HttpErrorInterceptor",HttpErrorInterceptor)}(),function(){function SignUpService($q,$state,$window,ProgramModel,ProgramService,UserService,OrganizationModel,OrganizationMembershipModel){function getOrgAdminSignupState(){var verifiedAgePromise=UserService.getVerifiedAge("org_admin",orgAdminMinAge).then(function(age){return orgSignUpState.age=age,orgSignUpState.email=UserService.getUserEmail(),orgSignUpState.email}),profilePromise=verifiedAgePromise.then((orgSignUpState.profile?$q.resolve(orgSignUpState.profile):UserService.getCurrentUser()).then(function(profile){orgSignUpState.profile=profile})),orgPromise=profilePromise.then(function(profile){return profile&&!orgSignUpState.org?UserService.getUserOrg().then(function(org){return org?$q.reject({redirectState:"base.app.management.dashboard"}):!0}):!0});return orgPromise.then(function(){return orgSignUpState})["catch"](function(reason){return processStateFailRedirects(reason),$q.reject(reason)})}function getOrgMemberSignupState(){return UserService.getVerifiedAge("mentor",mentorMinAge).then(function(age){return orgMemberSignUpState.age=age,orgMemberSignUpState.email=UserService.getUserEmail(),$q.resolve(orgMemberSignUpState.email)}).then(orgMemberSignUpState.profile?$q.resolve($orgMemberSignUpState.profile):UserService.getUser).then(function(profile){return profile?(orgMemberSignUpState.profile=profile,$q.resolve(profile)):$q.reject({redirectState:"base.app.org-member-signup-invalid"})}).then(getPendingMemberships).then(function(memberships){return memberships.length?(orgMemberSignUpState.pendingMemberships=memberships,memberships):$q.reject({redirectState:"base.app.org-member-signup-invalid"})}).then(getFirstOrgFromMemberships).then(function(org){return orgMemberSignUpState.firstOrg=org,org}).then(function(){return orgMemberSignUpState})["catch"](function(reason){return processStateFailRedirects(reason),$q.reject(reason)})}function getStudentSignupState(){return UserService.getVerifiedAge("student",studentMinAge,studentMaxAge).then(function(age){return studentSignupState.age=age,studentSignupState.email=UserService.getUserEmail(),$q.resolve(studentSignupState.email)}).then(studentSignupState.profile?$q.resolve($studentSignupState.profile):UserService.getUser).then(function(profile){return studentSignupState.profile=profile||{},studentSignupState})["catch"](function(reason){return processStateFailRedirects(reason),$q.reject(reason)})}function getPendingMemberships(profile){return OrganizationMembershipModel.findAll({program_year:ProgramService.getCurrent().year,profile:profile.id,status:1})}function getFirstOrgFromMemberships(memberships){return memberships.length?OrganizationModel.find(memberships[0].organization_id,{params:{program_year:memberships[0].program_year},bypassCache:!1}):$q.resolve()}function processStateFailRedirects(reason){reason&&(reason.redirect?$window.location=reason.redirect:reason.redirectState&&$state.go(reason.redirectState))}var orgSignUpState={age:null,email:null,profile:null,org:null,profileCreated:!1,currentStep:0},orgMemberSignUpState={age:null,email:null,profile:null,pendingMemberships:null,firstOrg:null},studentSignupState={age:null,email:null,profile:null};return{getOrgAdminSignupState:getOrgAdminSignupState,getOrgMemberSignupState:getOrgMemberSignupState,getStudentSignupState:getStudentSignupState}}angular.module("app.services").factory("SignUpService",SignUpService);var orgAdminMinAge=18,mentorMinAge=13,studentMinAge=13,studentMaxAge=18}(),function(){function UserService($q,$state,$location,$window,$cookies,$http,UserModel,ConstantsService,ProgramService,PollerService,OrganizationModel,OrganizationMembershipModel,modelService){function getAllUsers(){return ProgramService.findCurrent().then(function(program){return UserModel.findAll({program_year:program.year})})}function getCurrentUser(options){return emailInDOM()?getUser(options).then(function(user){return user||null})["catch"](function(){return null}):$q.resolve(null)}function getUser(options){return options=options||{},options.forceSignin&&loggedInOrRedirect(),(!currentUserPromise||options.forceRequest)&&(currentUserPromise=ProgramService.findCurrent().then(getUserModel)),currentUserPromise}function displayNameIsUnique(display_name,user_id){var dfd=$q.defer();return ProgramService.findCurrent().then(function(program){var url="/api/program/"+program.year+"/profile/validate_display_name/?display_name="+display_name;return user_id&&(url=url+"&profile_id="+user_id),$http.get(url)}).then(function(response){response.data&&response.data.available?dfd.resolve(response):dfd.reject(response)}),dfd.promise}function getCurrentPath(){var path=$state.href(($state.transitioningToState||$state.current).name);return(null===path||angular.isUndefined(path))&&(path=$location.path()),path}function redirectToLogin(){$window.location="/login?next="+getCurrentPath()}function loggedInOrRedirect(){return emailInDOM()?void 0:redirectToLogin()}function emailInDOM(){return!!angular.element("html").data("user-email")}function getUserModel(program){return UserModel.find("me",{params:{program_year:program.year},showError:!1,cacheResponse:!1}).then(function(fetchedUser){return fetchedUser.id?(currentUser=fetchedUser,fetchedUser):void 0})}function getUserEmail(failSilently){return userEmail=userEmail||angular.element("html").data("user-email"),failSilently||userEmail||($window.location="/login?next="+getCurrentPath()),userEmail}function getUserType(user){var UserTypes=ConstantsService.get("UserTypes");if(user.is_program_admin)return UserTypes.PROGRAM_ADMIN;if(user.is_org_admin){var currentProgram=ProgramService.getCurrent();return!currentProgram.orgs_published||user.admin_on_org().is_accepted?UserTypes.ORG_ADMIN:UserTypes.REJECT_ORG_ADMIN}return user.is_mentor?UserTypes.MENTOR:user.is_student?UserTypes.STUDENT:void 0}function getAge(){return getUser({failSilently:!0}).then(function(userProfile){var age=userProfile&&userProfile.age||$cookies.get("age");return age},function(){return $cookies.get("age")})}function getVerifiedAge(userType,low,high){function verifyAge(age){return age=parseInt(age,10),!age||low&&low>age||high&&age>high?$q.reject({redirect:"/start-age-verification?type="+userType+"&next="+getCurrentPath()}):age}return getAge().then(verifyAge,verifyAge)}function getUserOrg(){return currentUserOrg?$q.resolve(currentUserOrg):ProgramService.findCurrent().then(getUserOrgModel)}function getUserOrgModel(program){var currentYear=program.year;return getUser({failSilently:!0}).then(function(user){return user?OrganizationMembershipModel.findAll({role:ConstantsService.get("OrganizationRole").ADMIN,program_year:currentYear,profile:user.id,status:ConstantsService.get("OrganizationStatus").ACCEPTED}).then(getFirstOrgFromMemberships).then(function(organization){return currentUserOrg=organization,organization}):$q.resolve()})}function getOrgModelFromMembership(membership){return OrganizationModel.find(membership.organization_id,{params:{program_year:membership.program_year}})}function getFirstOrgFromMemberships(memberships){return memberships.length?getOrgModelFromMembership(memberships[0]):$q.resolve()}function clearUserOrg(){currentUserOrg=null}function hasProfile(){return getUser({forceSignin:!0}).then(function(user){return user&&(user.is_complete||user.is_program_admin)})}function getCurrentUserType(){var userType="";return currentUser.is_program_admin?userType="pa":currentUser.is_org_admin?userType="oa":currentUser.is_mentor&&(userType="om"),userType}function pollCurrentUserForMemberships(){function pollUser(){return getUser({forceRequest:!0})}function userHasMemberships(user){return user.memberships&&user.memberships.length}var maxPollCount=10;return PollerService.pollUntil(pollUser,userHasMemberships,maxPollCount)}function getSubmittedParentalConsentsCount(){var findParams={program_year:"current",has_pending_parental_consent_task:"true",is_active:"true",is_student:"true",parental_consent_status:ConstantsService.get("ParentalConsentStatus").SUBMITTED,page:1,page_size:1};return UserModel.findAll(findParams).then(function(){return modelService.getMeta(UserModel.name,findParams).count})}function cleanUnacceptedOrgMembers(){return $http.get("/clean_unaccepted_org_members/")}function setCurrentUser(user){return currentUserPromise=$q.resolve(user)}var currentUser,currentUserPromise,userEmail,currentUserOrg;return{getCurrentUser:getCurrentUser,getAllUsers:getAllUsers,getUser:getUser,getUserEmail:getUserEmail,getUserType:getUserType,getVerifiedAge:getVerifiedAge,getUserOrg:getUserOrg,getCurrentUserType:getCurrentUserType,clearUserOrg:clearUserOrg,loggedInOrRedirect:loggedInOrRedirect,displayNameIsUnique:displayNameIsUnique,pollCurrentUserForMemberships:pollCurrentUserForMemberships,hasProfile:hasProfile,getSubmittedParentalConsentsCount:getSubmittedParentalConsentsCount,cleanUnacceptedOrgMembers:cleanUnacceptedOrgMembers,setCurrentUser:setCurrentUser}}angular.module("app.services").factory("UserService",UserService)}(),function(){function ParentalConsentService(ParentalConsentModel,ConstantsService){function getOrCreate(id,program,profile_id){return"new"===id?ParentalConsentModel.createInstance({program_year:program.year,profile_id:profile_id}):ParentalConsentModel.find(id,{params:{program_year:program.year,profile_id:profile_id}})}function getByToken(token,program){return ParentalConsentModel.findAll({program_year:program.year,share_link_token:token})}function canSubmitParentalConsent(parentalConsent,program){var ParentalConsentStatus=ConstantsService.get("ParentalConsentStatus");return parentalConsent&&parentalConsent.status!==ParentalConsentStatus.ACCEPTED&&program.student_signup_open}return{getOrCreate:getOrCreate,getByToken:getByToken,canSubmitParentalConsent:canSubmitParentalConsent}}angular.module("app.services").factory("ParentalConsentService",ParentalConsentService)}(),function(){function ProgramService(_,moment,$q,ProgramModel,OrganizationModel,ConstantsService){function findCurrent(){return currentProgramPromise||(currentProgramPromise=ProgramModel.find("current"),currentProgramPromise.then(function(program){currentProgram=program})),currentProgramPromise}function getCurrent(){return currentProgram=ProgramModel.get("current")}function getStateStartsDate(program,state){return program[state+"_starts"]?moment(program[state+"_starts"]):void 0}function getStateEndsDate(program,state){return program[state+"_ends"]?moment(program[state+"_ends"]):void 0}function getPublishedOrgs(){return ProgramModel.find("current").then(function(program){return program.orgs_published?OrganizationModel.findAll({program_year:program.year,status:ConstantsService.get("OrganizationStatus").ACCEPTED}):null})}function getStateDates(program){return{orgSignupOpenAt:getStateStartsDate(program,"org_signup_open"),orgSignupClosedAt:getStateEndsDate(program,"org_signup_open"),orgApprovalOpenAt:getStateStartsDate(program,"org_approval"),orgApprovalClosedAt:getStateEndsDate(program,"org_approval"),orgsPublishedOpenAt:getStateStartsDate(program,"orgs_published"),orgsPublishedClosedAt:getStateEndsDate(program,"orgs_published"),competitionOpenAt:getStateStartsDate(program,"competition_open"),competitionClosedAt:getStateEndsDate(program,"no_claims"),winnersChoosingOpenAt:getStateStartsDate(program,"winners_choosing"),winnersChoosingClosedAt:getStateEndsDate(program,"winners_choosing"),winnersPublishedOpenAt:getStateStartsDate(program,"winners_published"),winnersPublishedClosedAt:getStateEndsDate(program,"winners_published")}}function getCurrentStateIndex(){return findCurrent().then(function(currentProgram){var stateIndex=0;return currentProgram.org_signup_open&&(stateIndex=1),currentProgram.org_approval&&(stateIndex=2),currentProgram.orgs_published&&(stateIndex=3),currentProgram.competition_open&&(stateIndex=4),currentProgram.grace_period&&(stateIndex=5),currentProgram.winners_choosing&&(stateIndex=6),currentProgram.winners_published&&(stateIndex=7),stateIndex})}var currentProgram,currentProgramPromise;return{findCurrent:findCurrent,getCurrent:getCurrent,getStateDates:getStateDates,getPublishedOrgs:getPublishedOrgs,getCurrentStateIndex:getCurrentStateIndex}}angular.module("app.services").factory("ProgramService",ProgramService)}(),function(){"use strict";function SilentStateChangeService($rootScope,$urlRouter){var isSilentStateChange=!1;return{setSilentStateChange:function(){isSilentStateChange=!0},initialise:function(){$rootScope.$on("$locationChangeSuccess",function(e){isSilentStateChange?(e.preventDefault(),isSilentStateChange=!1):$urlRouter.sync()}),$urlRouter.listen()}}}angular.module("app.services").factory("SilentStateChangeService",SilentStateChangeService)}(),function(){"use strict";function FormValidationService(){function validForm(formData,validationCriteria){for(var i=0,len=validationCriteria.length;len>i;++i){var field=validationCriteria[i],invalid=field.validation||function(value){return!value};if(invalid(formData[field.key],formData))return!1}return!0}function arrayValidation(itemValue){return!_.filter(itemValue).length}function arrayMaxLength(itemValue,length){return itemValue.length>length}function multilineValidation(text){return text?!text.replace(/\r?\n|\r/g,""):!0}function urlValidation(value){return!URL_REGEXP.test(value)}function notNullValidation(value){return null===value}var URL_REGEXP=/^[A-Za-z][A-Za-z\d.+-]*:\/*(?:\w+(?::\w+)?@)?[^\s\/]+(?::\d+)?(?:\/[\w#!:.?+=&%@\-\/]*)?$/;return{validForm:validForm,arrayValidation:arrayValidation,arrayMaxLength:arrayMaxLength,multilineValidation:multilineValidation,urlValidation:urlValidation,notNullValidation:notNullValidation}}angular.module("app.services").factory("FormValidationService",FormValidationService)}(),function(){"use strict";function OrgApplicationFormService(FormValidationService){function isValid(formData){return FormValidationService.validForm(formData,validationCriteria)}function codeinYearsValidation(itemValue,formData){return formData.participated_in_codein_before&&FormValidationService.arrayValidation(itemValue)}function socYearsValidation(itemValue,formData){return formData.participated_in_highly_open&&FormValidationService.arrayValidation(itemValue)}var validationCriteria=[{key:"why_do_you_want_to_participate",config:{text:"Why does your organization want to participate in Google Code-in?",elmId:"generalWhy"},validation:FormValidationService.multilineValidation},{key:"how_have_you_prepared",config:{text:"How has your org prepared for Google Code-in?",elmId:"generalHow"},validation:FormValidationService.multilineValidation},{key:"participated_in_codein_before",config:{text:"Has your organization participated in Google Code-in before?",elmId:"priorGCI"},validation:FormValidationService.notNullValidation},{key:"participated_in_codein_years",dependency:"participated_in_codein_before",config:{text:"In which years did your organization participate in Code-In?",elmId:"participated_in_codein_years"},validation:codeinYearsValidation},{key:"participated_in_highly_open",config:{text:"Has your organization participated in Google Summer of Code before?",elmId:"prior_highly_open"},validation:FormValidationService.notNullValidation},{key:"participated_in_soc_years",dependency:"participated_in_highly_open",config:{text:"In which years did your organization participate in Google Summer of Code?",elmId:"participated_in_soc_years"},validation:socYearsValidation},{key:"how_many_mentors",config:{text:"How many mentors have agreed to participate?",elmId:"mentorCount"},validation:FormValidationService.arrayValidation},{key:"how_do_you_plan_to_assist_students",config:{text:"How do you plan to deal with any holidays or vacations mentors may have planned during the contest period?",elmId:"assistStudents"}},{key:"how_to_deal_with_unresponsive_members",config:{text:"How do you plan on dealing with unresponsive mentors?",elmId:"unresponsiveMentors"}},{key:"example_tasks_url",config:{text:"URL to sample tasks page",elmId:"examplesUrl"}}];return{validationCriteria:validationCriteria,isValid:isValid}}angular.module("app.services").factory("OrgApplicationFormService",OrgApplicationFormService)}(),function(){"use strict";function OrgProfileFormService(FormValidationService){function studentContactValidation(value,formData){var check=!formData.irc_channel&&!formData.mailing_list&&!formData.contact_email;return check&&(check=FormValidationService.urlValidation(formData.irc_channel)||FormValidationService.urlValidation(formData.mailing_list)),check}function isValid(formData){return FormValidationService.validForm(formData,validationCriteria)}var validationCriteria=[{key:"website_url",config:{text:"Website URL",elmId:"website_url"}},{key:"image_url",config:{text:"Logo Image",elmId:"logo-img"}},{key:"precis",config:{text:"Short Description",elmId:"precis"}},{key:"description",config:{text:"Long Description",elmId:"description"}},{key:"tags",config:{text:"Tags",elmId:"tags"},validation:FormValidationService.arrayValidation},{key:"programming_languages",config:{text:"Programming Languages and Technologies",elmId:"programming_languages"},validation:FormValidationService.arrayValidation},{key:"primary_open_source_license",config:{text:"Primary Open Source License",elmId:"primary_open_source_license"}},{key:"irc_channel",dependency:["mailing_list","contact_email"],config:{text:"IRC Channel, Mailing List, or Email",elmId:"irc_channel"},validation:studentContactValidation}];return{validationCriteria:validationCriteria,isValid:isValid}}angular.module("app.services").factory("OrgProfileFormService",OrgProfileFormService)}(),function(){angular.module("app.services").service("OrganizationMembershipService",function($q,OrganizationMembershipModel,ConstantsService){function inviteUser(params){return params=params||{},OrganizationMembershipModel.create(params,{showValidationError:!1})}function inviteMentor(params){return params.role=ConstantsService.get("OrganizationRole").MENTOR,inviteUser(params)}function inviteAdmin(params){return params.role=ConstantsService.get("OrganizationRole").ADMIN,inviteUser(params)}function deleteMembership(orgMembership){return orgMembership.DSDestroy()}function getUsers(params,options){return params=params||{},options=options||{},OrganizationMembershipModel.findAll(params,options)}function getUser(params){return params=params||{},OrganizationMembershipModel.findAll(params)}function getMentorsMemberships(params){return params.role=ConstantsService.get("OrganizationRole").MENTOR,getUsers(params)}function getActiveMentorsMemberships(params){return params.role=ConstantsService.get("OrganizationRole").MENTOR,params.status=ConstantsService.get("OrganizationMembershipStatus").ACTIVE,OrganizationMembershipModel.findAll(params)}function getAdminMemberships(params){return params.role=ConstantsService.get("OrganizationRole").ADMIN,getUsers(params)}function getActiveAdminMemberships(params){return getAdminMemberships(params).then(function(){return OrganizationMembershipModel.filter({role:ConstantsService.get("OrganizationRole").ADMIN,status:ConstantsService.get("OrganizationMembershipStatus").ACTIVE})})}return{inviteUser:inviteUser,inviteMentor:inviteMentor,inviteAdmin:inviteAdmin,getUsers:getUsers,getUser:getUser,getMentorsMemberships:getMentorsMemberships,getActiveMentorsMemberships:getActiveMentorsMemberships,deleteMembership:deleteMembership,getAdminMemberships:getAdminMemberships,getActiveAdminMemberships:getActiveAdminMemberships}})}(),function(){"use strict";angular.module("app.services").service("OrganizationStudentService",function(_,OrganizationStudentModel){function getTopStudents(params){return OrganizationStudentModel.findAll(params).then(function(students){var topStudents,topStudentsLength,lastTopStudentCompletedTasks;if(topStudents=_.take(_.filter(students,function(student){return student.completed_task_instance_count>0}),MAX_TOP_STUDENTS),topStudentsLength=topStudents.length,topStudentsLength>0){lastTopStudentCompletedTasks=topStudents[topStudentsLength-1].completed_task_instance_count;for(var i=topStudentsLength,len=students.length;len>i&&students[i].completed_task_instance_count===lastTopStudentCompletedTasks;++i)topStudents.push(students[i])}return topStudents})}var MAX_TOP_STUDENTS=10;return{getTopStudents:getTopStudents}})}(),function(){"use strict";function TaskService(TaskModel,ConstantsService){function getModel(){return TaskModel}function getOrCreate(id,program,organizationId){return"new"===id?TaskModel.createInstance({program_year:program.year,organization_id:organizationId}):TaskModel.find(id,{params:{program_year:program.year}})}function getTaskCatFriendlyName(cat){
return ConstantsService.get("TaskCategoryChoices")[cat]}function getTasksCatFriendlyName(cats){return _.map(cats,function(cat){var name=ConstantsService.get("TaskCategoryChoices")[cat];return name?name:void 0})}return{getOrCreate:getOrCreate,getTaskCatFriendlyName:getTaskCatFriendlyName,getTasksCatFriendlyName:getTasksCatFriendlyName,getModel:getModel}}angular.module("app.services").factory("TaskService",TaskService)}(),function(){"use strict";function TaskInstanceService(TaskInstanceModel,TaskModel,TaskUpdateModel,OrganizationModel,UserService,ConstantsService,BatchToolsService){function create(taskDefinitionId){return TaskInstanceModel.create({task_definition_id:taskDefinitionId},{params:{program_year:"current"}})}function getTaskDefinitionById(id){return TaskModel.find(id,{params:{program_year:"current"}})}function getTaskById(id){return TaskInstanceModel.find(id,{params:{program_year:"current"}})}function getByTaskDefinitionId(id){return TaskInstanceModel.findAll({program_year:"current",task_definition:id}).then(function(instances){return instances.length?instances[0]:null})}function getUpdatesById(id){return TaskUpdateModel.findAll({program_year:"current",task_instance:id})}function getTasksByStatus(status){return UserService.getCurrentUser().then(function(user){return user&&user.is_student?BatchToolsService.fetchAll(TaskInstanceModel,{program_year:"current",status:status}):null})}function getCurrentTask(){return UserService.getCurrentUser().then(function(user){return user&&user.is_student?TaskInstanceModel.find("current",{params:{program_year:"current"},cacheResponse:!1}):null}).then(function(taskInstance){return null!==taskInstance&&taskInstance.id?taskInstance:null})}function getAllTaskInstances(){return TaskInstanceModel.findAll({program_year:"current"})}function getTasksForUser(userId){return BatchToolsService.fetchAll(TaskInstanceModel,{program_year:"current",claimed_by:_.parseInt(userId)})}function getCompletedTasks(){return ConstantsService.getConstants().then(function(Constants){return getTasksByStatus(Constants.TaskStatus.COMPLETED)})}function getOrgById(id){return OrganizationModel.find(id,{params:{program_year:"current"}})}return{create:create,getTaskById:getTaskById,getUpdatesById:getUpdatesById,getTasksByStatus:getTasksByStatus,getCurrentTask:getCurrentTask,getCompletedTasks:getCompletedTasks,getOrgById:getOrgById,getTasksForUser:getTasksForUser,getAllTaskInstances:getAllTaskInstances,getByTaskDefinitionId:getByTaskDefinitionId,getTaskDefinitionById:getTaskDefinitionById,TaskInstanceModel:TaskInstanceModel}}angular.module("app.services").factory("TaskInstanceService",TaskInstanceService)}(),function(){angular.module("app.services").provider("modelService",function(_){function generateKey(key,params){var paramKey=[];return _.forEach(params,function(val,key){"program_year"!==key&&this.push(key+":"+val)},paramKey),key+paramKey.join("-")}var metaCache={},self=this;this.setMeta=function(meta,key,params){if(key&&meta){var newKey=generateKey(key,params);metaCache[newKey]||(metaCache[newKey]={}),metaCache[newKey]=meta}},this.getMeta=function(key,params){if(key){var newKey=generateKey(key,params);if(metaCache&&metaCache[newKey])return metaCache[newKey]}},this.$get=function(){return self}})}(),function(){"use strict";function MarkdownPreviewService($mdDialog,$filter){function showPreviewModal(content,$event){var alert=$mdDialog.alert({parent:angular.element(document.body),targetEvent:$event,clickOutsideToClose:!0,content:'<div class="markdown-preview">'+markdown(content).toString()+"</div>",ok:"Close"});return $mdDialog.show(alert)}var markdown=$filter("markdown");return{showPreviewModal:showPreviewModal}}angular.module("app.services").factory("MarkdownPreviewService",MarkdownPreviewService)}(),function(){"use strict";function ManifestService(_,$http,$timeout,$window,PollerService,$mdToast){function poll(){PollerService.pollUntil(getManifest,hasManifestChanged,null,getWaitTime).then(showRefreshToast)}function updateManifest(manifest){return currentVersion=manifest.version,currentState=manifest.current_program_state,manifest}function getManifest(){return $http.get(endpoint,{showLoading:!1}).then(function(resp){return resp.data})}function showRefreshToast(manifest){hasStateChanged(manifest)?openRefreshToast("Code-in has moved to the next phase"):hasVersionChanged(manifest)&&openRefreshToast("A new version of Code-in is available.")}function hasManifestChanged(manifest){return hasVersionChanged(manifest)||hasStateChanged(manifest)}function hasVersionChanged(manifest){return currentVersion&&manifest.version!==currentVersion}function hasStateChanged(manifest){return currentState&&manifest.current_program_state!==currentState}function getWaitTime(){return 2e4+_.random(0,1e4)}function openRefreshToast(content){$mdToast.show({template:toastTemplate,parent:$(".toast-parent"),controller:toastController,hideDelay:0,locals:{content:content}})}function toastController($scope,content){$scope.content=content,$scope.refresh=function(){$window.location.reload()}}var currentVersion,currentState,endpoint="api/app_manifest/",toastTemplate='<md-toast class="toast" layout="row"><div class="toast-content" flex>{{ content }}</div><div class="md-a2ction" layout="row" layout-align="center center"><md-button aria-label="Refresh" class="toast-button toast-button--ok md-primary" ng-click="refresh()">REFRESH</md-button></div></md-toast>';this.startListening=function(){getManifest().then(updateManifest).then(function(){return $timeout(poll,getWaitTime())})}}angular.module("common.services").service("ManifestService",ManifestService)}(),function(){function UserCapabilitiesService(){function canClaimTasks(user,program){return _isActiveUser(user)&&program.competition_open&&user.is_student&&user.parental_consent_completed_on&&0===user.working_on_tasks_count&&!program.no_claims}function studentCanSeeTaskList(user,program){return _isActiveUser(user)&&program.competition_open&&user.is_student&&user.parental_consent_completed_on}function _isActiveUser(user){return user&&!user.is_disabled&&!user.is_archived}function canEditTaskDefinition(user,taskDefinition){return user.is_program_admin||user.is_org_admin&&user.admin_on_org().id===taskDefinition.organization_id||user.is_mentor&&_.contains(taskDefinition.assignments_profile_ids,user.id)}function tasksAreEditable(program){return"orgs_published"===program.state||program.competition_open}return{canClaimTasks:canClaimTasks,studentCanSeeTaskList:studentCanSeeTaskList,canEditTaskDefinition:canEditTaskDefinition,tasksAreEditable:tasksAreEditable}}angular.module("app.services").factory("UserCapabilitiesService",UserCapabilitiesService)}(),function(){angular.module("app.filters",[])}(),function(){angular.module("pages",["ngMessages"]).constant("_",_)}(),function(){function PageService(DS,$location){function setPageTitle(title){titleElement.html((title?title+" | ":"")+DEFAULT_PAGE_TITLE)}function clearDataCache(){angular.forEach(Object.keys(DS.definitions),function(resourceName){DS.definitions[resourceName].ejectAll()})}function getState(){return state}function setSearchParams(params,ignore){_.each(params,function(value,key){ignore&&-1!==ignore.indexOf(key)||setSearchParam(key,value)})}function clearSearchParam(key){setSearchParam(key,null)}function setSearchParam(key,value){$location.search(key,value).replace()}function getSearchParam(key){return $location.search()[key]}var titleElement=angular.element("title");return{clearSearchParam:clearSearchParam,setSearchParams:setSearchParams,setSearchParam:setSearchParam,getSearchParam:getSearchParam,clearDataCache:clearDataCache,getState:getState,setPageTitle:setPageTitle}}angular.module("pages").factory("PageService",PageService);var DEFAULT_PAGE_TITLE="Google Code-in",state={loading:!1,previousState:null}}(),function(){function HomePageCtrl(_,moment,$scope,$location,$state,CurrentProgram,CurrentUser,PublishedOrgs,OrganizationModel,ProgramService){var ctrl=this,ORG_LOGOS_PATH="/static/img/2014-org-logos/",orgsList2014=[{name:"Apertium",website_url:"https://www.apertium.org",image_url:ORG_LOGOS_PATH+"apertium.png"},{name:"BRL-CAD",website_url:"http://brlcad.org/",image_url:ORG_LOGOS_PATH+"brl-cad.png"},{name:"Copyleft Games",website_url:"http://www.copyleftgames.org/",image_url:ORG_LOGOS_PATH+"copyleft-games.png"},{name:"Drupal",website_url:"https://www.drupal.org/",image_url:ORG_LOGOS_PATH+"drupal.png"},{name:"Fossasia",website_url:"http://fossasia.org/",image_url:ORG_LOGOS_PATH+"fossasia.png"},{name:"Haiku",website_url:"https://www.haiku-os.org/",image_url:ORG_LOGOS_PATH+"haiku.png"},{name:"KDE",website_url:"https://www.kde.org/",image_url:ORG_LOGOS_PATH+"kde.png"},{name:"Mifos Initiative",website_url:"http://mifos.org/",image_url:ORG_LOGOS_PATH+"mifos-initiative.png"},{name:"Open MRS",website_url:"http://openmrs.org/",image_url:ORG_LOGOS_PATH+"open-mrs.png"},{name:"Sahana Software Foundation",website_url:"http://sahanafoundation.org/",image_url:ORG_LOGOS_PATH+"sahana-foundation.png"},{name:"Wikimedia Foundation",website_url:"https://wikimediafoundation.org/",image_url:ORG_LOGOS_PATH+"wikimedia-foundation.png"}];ctrl.user=CurrentUser,ctrl.publishedOrgs=PublishedOrgs,ctrl.orgsList=_.shuffle(PublishedOrgs||orgsList2014);var now=moment(),programStateDates=ProgramService.getStateDates(CurrentProgram),orgsPublished=programStateDates.orgsPublishedOpenAt,orgRegistrationOpens=programStateDates.orgSignupOpenAt,orgRegistrationCloses=programStateDates.orgSignupClosedAt,competitionOpens=programStateDates.competitionOpenAt,competitionCloses=programStateDates.competitionClosedAt,winnersAnnounced=programStateDates.winnersPublishedOpenAt;ctrl.orgsPublished=orgsPublished.format("MMMM Do"),ctrl.daysToWinnersAnnounced=Math.ceil(winnersAnnounced.diff(now,"days",!0)),ctrl.orgRegistrationOpens=orgRegistrationOpens.format("MMMM Do"),ctrl.orgRegistrationCloses=orgRegistrationCloses.format("MMMM Do"),ctrl.competitionOpens=competitionOpens.format("MMMM Do"),ctrl.competitionCloses=competitionCloses.format("MMMM Do"),ctrl.showProfileBoxes=function(){return!$state.is("base.app.public.winners")},ctrl.getWinners=function(org){return _.sortByAll(_.pick(org.winners,["winner_1","winner_2"]),function(el){return el.profile?el.profile.given_name.toLocaleLowerCase()+el.profile.other_names.toLocaleLowerCase():""})},ctrl.getFinalists=function(org){return _.sortByAll(_.pick(org.winners,["runner_up","finalist_1","finalist_2"]),function(el){return el.profile?el.profile.given_name.toLocaleLowerCase()+el.profile.other_names.toLocaleLowerCase():""})}}angular.module("pages").controller("HomePageCtrl",HomePageCtrl)}(),function(){function PublicOrganizationsListCtrl(_,$scope,$location,$state,Constants,CurrentProgram,PublishedOrgs,OrganizationModel){var ctrl=this;ctrl.randomizedOrganizations=_.shuffle(PublishedOrgs)}angular.module("pages").controller("PublicOrganizationsListCtrl",PublicOrganizationsListCtrl)}(),function(){"use strict";function PublicTaskListController(_,$scope,$state,$stateParams,$location,$mdDialog,$timeout,$q,Constants,CurrentUser,TaskModel,TaskInstanceModel,taskFilterService,TaskInstanceService,TableService,CurrentProgram,SilentStateChangeService){function showTaskDetail(event,taskId){userTaskInstancesPromise.then(function(response){var instances=TaskInstanceModel.filter({task_definition_id:taskId});if(instances.length&&_.contains(unclaimableTaskStatuses,instances[0].status))return void $state.go("base.app.management.taskInstance.detail",{id:instances[0].id});var prevState={name:"base.app.public.tasks",params:{}};$mdDialog.show({targetEvent:event,templateUrl:"pages/management/task-list/pages.task-detail-dialog.html",clickOutsideToClose:!0,scope:$scope,onRemoving:function(el,prom){prom.then(function(actionTaken){if(!actionTaken){var params=_.extend(prevState.params,$location.search());SilentStateChangeService.setSilentStateChange(),$location.url($state.href(prevState.name)),SilentStateChangeService.setSilentStateChange(),$location.search(params).replace()}})},preserveScope:!0,locals:{taskId:taskId},controller:function($scope,$mdDialog,taskId){$scope.taskId=taskId,prevState.params=$location.search(),SilentStateChangeService.setSilentStateChange(),$location.url($state.href("base.app.public.tasks",{id:taskId})),$scope.closeDialog=function(){$mdDialog.hide()},$timeout(function(){angular.element(".md-dialog-container").addClass("full-page-scroll-dialog-wrapper")})}})})}var userTaskInstancesPromise,ctrl=this,taskId=$state.params.id;ctrl.ignoredUrlParams=["status","is_exhausted","has_completed_instances"],ctrl.TaskStatus=Constants.TaskStatus;var unclaimableTaskStatuses=[ctrl.TaskStatus.CLAIMED,ctrl.TaskStatus.SUBMITTED,ctrl.TaskStatus.NEEDS_WORK,ctrl.TaskStatus.PENDING_PARENTAL_CONSENT,ctrl.TaskStatus.COMPLETED];userTaskInstancesPromise=CurrentUser&&CurrentUser.is_student?TaskInstanceService.getTasksForUser(CurrentUser.id):$q.resolve(),$scope.userTaskInstancesPromise=userTaskInstancesPromise,ctrl.data={loading:!1,model:TaskModel,initialFilterState:{organization:$stateParams[TableService.generateSearchParamKey("organization")]||[],categories:[]},baseFilterState:{program_year:CurrentProgram.year,status:Constants.TaskDefinitionStatus.PUBLISHED.toString(),is_exhausted:"False",page_size:10},searchParams:{},categories:Constants.TaskCategoryChoices,tasks:[],user:CurrentUser,controlConfig:["organization","is_beginner","categories"]},CurrentUser&&CurrentUser.beginner_task_limit_exhausted&&(ctrl.data.baseFilterState.is_beginner="False",_.pull(ctrl.data.controlConfig,"is_beginner")),CurrentProgram.competition_open||(ctrl.data.baseFilterState.has_completed_instances="True"),ctrl.getOrgName=function(task){return _.result(_.find(ctrl.data.organizations,{id:task.organization_id}),"name")},_.assign(ctrl.data.searchParams,ctrl.data.initialFilterState,ctrl.data.baseFilterState),ctrl.onFilterStateChange=function(state){taskFilterService.mergeFilters(ctrl.data.searchParams,state,ctrl.data.baseFilterState)},taskId&&showTaskDetail(null,taskId),$scope.showTaskDetail=showTaskDetail}angular.module("pages").controller("PublicTaskListController",PublicTaskListController)}(),function(){"use strict";function dashboardRoutes($stateProvider){$stateProvider.state("base.app.management",{url:"dashboard/",templateUrl:"pages/management/pages.management.html","abstract":!0,resolve:{SignedIn:function(UserService){return UserService.loggedInOrRedirect()},UserOrg:function(UserService){return UserService.getCurrentUser({forceSignin:!0}).then(function(user){return user?user.admin_on&&user.admin_on.length?user.admin_on[0]:user.admin_on:null})},CurrentOrg:function(){return null},constants:function(ConstantsService){return ConstantsService.getConstants()},organizationList:function(CurrentUser,OrganizationModel,constants,CurrentProgram){if(CurrentUser.is_program_admin||CurrentUser.is_student){var filters={program_year:CurrentProgram.year};return CurrentProgram.orgs_published&&(filters.status=constants.OrganizationStatus.ACCEPTED),OrganizationModel.findAll(filters)}return null}}}).state("base.app.management.dashboard",{url:"",templateUrl:"pages/management/dashboard/pages.dashboard.html",controller:"DashboardCtrl",controllerAs:"ctrl",data:{title:"Dashboard",allowDisabledUser:!0},resolve:{CurrentTask:function(TaskInstanceService){return TaskInstanceService.getCurrentTask()},CompletedTasks:function(TaskInstanceService){return TaskInstanceService.getCompletedTasks()},CurrentUser:function($state,UserService,Constants){return UserService.getCurrentUser({forceRequest:!0})}}})}function orgAdminRoutes($stateProvider){$stateProvider.state("base.app.management.orgApplication",{url:"application/",templateUrl:"pages/management/org-application/pages.org-application.html",controller:"OrgApplicationController",controllerAs:"OrgApplicationCtrl",data:{title:"Organization application",onlyAccessibleToRoles:["org_admin"],onlyAccessibleInStates:["org_signup_open"]}}).state("base.app.management.orgProfile",{url:"org-profile/",templateUrl:"pages/management/org-profile/pages.org-profile.html",controller:"OrgProfileController",resolve:{checkStatus:function($state,CurrentProgram){var program=CurrentProgram;return program.org_approval?$state.go("base.app.management.dashboard"):void 0}},controllerAs:"OrgProfileCtrl",data:{title:"Organization profile",onlyAccessibleToRoles:["org_admin"]}}).state("base.app.management.mentors",{url:"mentors/",templateUrl:"pages/management/mentors/pages.mentors.html",controller:"MentorsController",controllerAs:"MentorsController",data:{title:"Members",onlyAccessibleToRoles:["org_admin"],onlyAccessibleInStates:["orgs_published","competition_open","no_claims","grace_period","winners_choosing","winners_published"]}}).state("base.app.management.mentors_expanded",{url:"mentors/:mentor_id/",templateUrl:"pages/management/mentors/pages.mentors.html",controller:"MentorsController",controllerAs:"MentorsController",data:{onlyAccessibleToRoles:["org_admin"],onlyAccessibleInStates:["orgs_published","competition_open","no_claims","grace_period","winners_choosing"]}})}function programAdminRoutes($stateProvider){$stateProvider.state("base.app.management.winnersPreview",{url:"winners-preview/",templateUrl:"pages/management/winners-preview/winners-preview.html",controller:"WinnersPreviewController",controllerAs:"ctrl",data:{onlyAccessibleToRoles:["program_admin"]},resolve:{PublishedOrgs:function(Constants,ProgramService){return ProgramService.getPublishedOrgs()}}}).state("base.app.management.orgApplicationsManagement",{url:"org-applications-management/?organization_id",templateUrl:"pages/management/org-applications-management/pages-application-management-base.html",controller:"ManageOrgApplicationsBaseController","abstract":!0,controllerAs:"ManageOrgApplicationsBaseCtrl",data:{title:"Manage applications",onlyAccessibleToRoles:["program_admin"],onlyAccessibleInStates:["org_signup_open","org_approval"]}}).state("base.app.management.orgApplicationsManagement.complete",{data:{tabIndex:0,keepScrollPos:{from:["base.app.management.orgApplicationsManagement.shortlist","base.app.management.orgApplicationsManagement.incomplete"]}},url:"",templateUrl:"pages/management/org-applications-management/pages.org-applications-management.html",controller:"ManageOrgApplicationsController",controllerAs:"ManageOrgApplicationsCtrl"}).state("base.app.management.orgApplicationsManagement.shortlist",{data:{tabIndex:1,keepScrollPos:{from:["base.app.management.orgApplicationsManagement.complete","base.app.management.orgApplicationsManagement.incomplete"]}},url:"shortlisted/",templateUrl:"pages/management/org-applications-management/pages.org-applications-management.html",controller:"ManageOrgApplicationsShortlistController",controllerAs:"ManageOrgApplicationsCtrl"}).state("base.app.management.orgApplicationsManagement.incomplete",{data:{tabIndex:2,keepScrollPos:{from:["base.app.management.orgApplicationsManagement.complete","base.app.management.orgApplicationsManagement.shortlist"]}},url:"incomplete/",templateUrl:"pages/management/org-applications-management/pages.org-applications-management.html",controller:"ManageOrgApplicationsIncompleteController",controllerAs:"ManageOrgApplicationsCtrl"}).state("base.app.management.organizations",{url:"organizations/",template:"<div ui-view></div>","abstract":!0,resolve:{isProgramAdmin:function($q,CurrentUser){return CurrentUser.is_program_admin?!0:$q.reject("User is not a program admin")}},data:{title:"Organizations",onlyAccessibleToRoles:["program_admin"]}}).state("base.app.management.organizations.list",{url:"",templateUrl:"pages/management/org-list/pages.org-list.html",controller:"OrgListController",controllerAs:"OrgListCtrl",resolve:{baseFilterState:function(){return{}}},reloadOnSearch:!1}).state("base.app.management.organizations.detail",{url:":id/",templateUrl:"pages/management/org-detail/pages.org-detail.html","abstract":!0,resolve:{CurrentOrg:function($stateParams,CurrentProgram,OrganizationModel){return OrganizationModel.find($stateParams.id,{params:{program_year:CurrentProgram.year}})}}}).state("base.app.management.organizations.detail.tasks",{url:"",data:{tabIndex:0,keepScrollPos:{from:["base.app.management.organizations.detail.mentors","base.app.management.organizations.detail.profile"]}},resolve:{baseFilterState:function(){return{}}},templateUrl:"pages/management/task-list/pages.task-list.html",controller:"TaskListController",controllerAs:"TaskListCtrl"}).state("base.app.management.organizations.detail.mentors",{url:"mentors/",data:{tabIndex:1,keepScrollPos:{from:["base.app.management.organizations.detail.tasks","base.app.management.organizations.detail.profile"]}},templateUrl:"pages/management/mentors/pages.mentors.html",controller:"MentorsController",controllerAs:"MentorsController"}).state("base.app.management.organizations.detail.profile",{url:"profile/",data:{tabIndex:2,keepScrollPos:{from:["base.app.management.organizations.detail.tasks","base.app.management.organizations.detail.mentors"]}},templateUrl:"pages/management/org-profile/pages.org-profile.html",controller:"OrgProfileController",controllerAs:"OrgProfileCtrl"}).state("base.app.management.profiles",{url:"users/","abstract":!0,template:"<div ui-view></div>",data:{title:"Users",onlyAccessibleToRoles:["program_admin"]}}).state("base.app.management.profiles.list",{url:"",templateUrl:"pages/management/profile-list/pages.profile-list.html",controller:"ProfileListController as ProfileListCtrl"}).state("base.app.management.profiles.detail",{url:":id/",templateUrl:"pages/management/profile-detail/pages.profile-detail.html",controller:"ProfileDetailController as ProfileDetailCtrl"}).state("base.app.management.students",{url:"students/",template:"<div ui-view></div>","abstract":!0,resolve:{isProgramAdmin:function($q,CurrentUser){return CurrentUser.is_program_admin?!0:$q.reject("User is not a program admin")}},data:{title:"Students",onlyAccessibleToRoles:["program_admin"]}}).state("base.app.management.students.list",{url:"",templateUrl:"pages/management/student-list/pages.student-list.html",controller:"StudentListController",controllerAs:"StudentListCtrl"}).state("base.app.management.students.profile",{url:":id/","abstract":!0,templateUrl:"pages/management/student-detail/pages.student-detail.base.html",controller:"StudentDetailController as StudentDetailCtrl",resolve:{studentProfile:function(_,$stateParams,CurrentProgram,UserModel){return UserModel.find(_.parseInt($stateParams.id),{params:{program_year:CurrentProgram.year}})},studentTasks:function(_,$stateParams,TaskInstanceModel,TaskInstanceService){return TaskInstanceService.getTasksForUser(_.parseInt($stateParams.id))}}}).state("base.app.management.students.profile.detail",{data:{tabIndex:0},url:"",templateUrl:"pages/management/student-detail/pages.student-detail.html"}).state("base.app.management.students.profile.parental-consent",{data:{tabIndex:1},url:"parental-consent/",templateUrl:"pages/management/student-detail/pages.student-parental-consent.html",controller:"StudentParentalConsentController as ctrl"}).state("base.app.management.parental-consent",{url:"parental-consent/",template:"<div ui-view></div>","abstract":!0,resolve:{isProgramAdmin:function($q,CurrentUser){return CurrentUser.is_program_admin?!0:$q.reject("User is not a program admin")}},data:{title:"Parental consent",onlyAccessibleToRoles:["program_admin"]}}).state("base.app.management.parental-consent.list",{url:"",templateUrl:"pages/management/parental-consent/pages.parental-consent.html",resolve:{baseFilterState:function(){return{}}},reloadOnSearch:!1,"abstract":!0}).state("base.app.management.parental-consent.list.pending",{url:"pending/",data:{tabIndex:0},templateUrl:"pages/management/parental-consent/pages.parental-consent-list.html",controller:"ParentalConsentListController",controllerAs:"ctrl",resolve:{ParentalConsentStatus:function(Constants){return Constants.ParentalConsentStatus.SUBMITTED}}}).state("base.app.management.parental-consent.list.rejected",{url:"rejected/",data:{tabIndex:1},templateUrl:"pages/management/parental-consent/pages.parental-consent-list.html",controller:"ParentalConsentListController",controllerAs:"ctrl",resolve:{ParentalConsentStatus:function(Constants){return Constants.ParentalConsentStatus.REJECTED}}}).state("base.app.management.parental-consent.approval",{url:":id/",templateUrl:"pages/management/parental-consent/pages.parental-consent-approval.html",controller:"ParentalConsentApprovalCtrl",controllerAs:"ctrl",resolve:{StudentProfile:function(_,$stateParams,CurrentProgram,UserModel){return UserModel.find(_.parseInt($stateParams.id),{params:{program_year:CurrentProgram.year}})}}})}function commonTaskRoutes($stateProvider){$stateProvider.state("base.app.management.tasks",{url:"tasks/","abstract":!0,templateUrl:"pages/management/task-list/pages.task-list-base.html",controller:"TaskListController",controllerAs:"TaskListCtrl",data:{title:"Tasks",onlyAccessibleToRoles:["program_admin","org_admin","mentor"],onlyAccessibleInStates:["orgs_published","competition_open","no_claims","grace_period","winners_choosing","winners_published"]},resolve:{baseFilterState:function(){return{}}}}).state("base.app.management.tasks.all",{data:{tabIndex:0},url:"?sp-status&sp-mentors&sp-is_exhausted&sp-my_tasks",templateUrl:"pages/management/task-list/pages.task-list.html",controller:"TaskListController",controllerAs:"TaskListCtrl",reloadOnSearch:!1}).state("base.app.management.task",{url:"tasks/:id/?organization_id","abstract":!0,templateUrl:"pages/management/task-base/page.task-base.html",controller:"TaskController",controllerAs:"TaskCtrl",resolve:{task:function(_,$stateParams,CurrentUser,CurrentProgram,TaskService){var orgId=$stateParams.organization_id||CurrentUser.admin_on&&CurrentUser.admin_on.id;return TaskService.getOrCreate($stateParams.id,CurrentProgram,_.parseInt(orgId))}},data:{title:"Edit task",onlyAccessibleToRoles:["program_admin","org_admin","mentor"],onlyAccessibleInStates:["orgs_published","competition_open","no_claims","grace_period","winners_choosing","winners_published"],isUnsavedDataSafe:!0}}).state("base.app.management.task.edit",{data:{tabIndex:0,keepScrollPos:{from:["base.app.management.task.preview"]}},url:"",templateUrl:"pages/management/task-edit/pages.edit-task.html",controller:"EditTaskController",controllerAs:"EditTaskCtrl"}).state("base.app.management.task.preview",{data:{tabIndex:1,keepScrollPos:!0},url:"preview/",templateUrl:"pages/management/task-preview/pages.preview-task.html",controller:"PreviewTaskController",controllerAs:"PreviewTaskCtrl"}),$stateProvider.state("base.app.management.taskInstance",{"abstract":!0,template:"<ui-view></ui-view>"}).state("base.app.management.taskInstance.list",{url:"task-instances/","abstract":!0,reloadOnSearch:!1,templateUrl:"pages/management/task-instance-list/pages.task-instance-list-base.html",controller:"TaskInstanceListController as taskListCtrl",resolve:{baseFilterState:function(){return{}},model:function(TaskInstanceModel){return TaskInstanceModel}},data:{title:"Task instances",onlyAccessibleToRoles:["program_admin","org_admin","mentor"],onlyAccessibleInStates:["competition_open","no_claims","grace_period","winners_choosing","winners_published"],keepScrollPos:!0}}).state("base.app.management.taskInstance.list.all",{data:{tabIndex:0,filters:["mentor","category","organization","is_beginner","task_definition","status"]},url:"?sp-status&sp-task_definition&sp-my_tasks",templateUrl:"pages/management/task-instance-list/pages.task-instance-list.html",controller:"TaskInstanceListController as taskListCtrl",reloadOnSearch:!1,resolve:{baseFilterState:function(){return{}}}}).state("base.app.management.taskInstance.list.inProgress",{data:{tabIndex:1,filters:["mentor","category","organization","is_beginner","status"]},url:"in-progress/",templateUrl:"pages/management/task-instance-list/pages.task-instance-list.html",controller:"TaskInstanceListController as taskListCtrl",resolve:{baseFilterState:function(){return{is_active:"True"}}}}).state("base.app.management.taskInstance.list.completed",{data:{tabIndex:2,filters:["mentor","category","organization","is_beginner"]},url:"completed/?sp-claimed_by",templateUrl:"pages/management/task-instance-list/pages.task-instance-list.html",controller:"TaskInstanceListController as taskListCtrl",resolve:{baseFilterState:function(constants){return{status:constants.TaskStatus.COMPLETED}}}}).state("base.app.management.taskInstance.list.incomplete",{data:{tabIndex:3,filters:["category","organization","is_beginner"]},url:"incomplete/",templateUrl:"pages/management/task-instance-list/pages.task-instance-list.html",controller:"TaskInstanceListController as taskListCtrl",resolve:{baseFilterState:function(constants){return{status:[constants.TaskStatus.ABANDONED,constants.TaskStatus.UNASSIGNED_BY_MENTOR,constants.TaskStatus.OUT_OF_TIME]}}}}).state("base.app.management.taskInstance.detail",{url:"task-instances/:id/",templateUrl:"pages/management/task-instance-detail/pages.task-instance-detail.html",controller:"TaskInstanceDetailController",controllerAs:"ctrl",resolve:{CurrentTaskInstance:function($stateParams,TaskInstanceService){return TaskInstanceService.getTaskById($stateParams.id)},CurrentTaskDefinition:function(CurrentTaskInstance,TaskInstanceService){return TaskInstanceService.getTaskDefinitionById(CurrentTaskInstance.task_definition_id)},CurrentTaskOrg:function(CurrentTaskInstance,TaskInstanceService){return TaskInstanceService.getOrgById(CurrentTaskInstance.organization_id)}},data:{title:"Task instance",onlyAccessibleInStates:["competition_open","no_claims","grace_period","winners_choosing","winners_published"]}})}function styleguideRoutes($stateProvider){$stateProvider.state("base.app.management.dashboard.styleGuide",{url:"styleguide",templateUrl:"pages/management/styleguide/styleguide.html"})}angular.module("pages").config(dashboardRoutes).config(orgAdminRoutes).config(programAdminRoutes).config(styleguideRoutes).config(commonTaskRoutes)}(),function(){function DashboardCtrl(_,moment,$http,$scope,$q,$timeout,CurrentProgram,CurrentUser,UserService,UserModel,UserOrg,ProgramService,ToastService,Constants,OrganizationModel,TaskModel,OrganizationMembershipModel,OrganizationStudentService,OrganizationMembershipService,OrgApplicationFormService,OrgProfileFormService,CurrentTask,CompletedTasks,DashboardService,DashboardConfigService,FormUtilsService){function checkWinnersDuplication(){var allWinners=[];ctrl.duplicatedWinners=[];for(var i=0,ilen=ctrl.shortListedOrgs.length;ilen>i;++i)for(var j=0,jlen=ctrl.winnerCategories.length;jlen>j;++j){var winnerCategory=ctrl.winnerCategories[j],org=ctrl.shortListedOrgs[i];if(!_.isEmpty(org.winnersSelected)){var winnerId=org.winnersSelected[winnerCategory];null!==winnerId&&(-1===allWinners.indexOf(winnerId)?allWinners.push(winnerId):ctrl.duplicatedWinners.push(winnerId))}}return!1}function initialiseOwnOrgWinnersOptions(){angular.forEach(ctrl.winnerCategories,function(winnerCategory){ctrl.topStudents[winnerCategory]=_.cloneDeep(ctrl.topStudents.all),$scope.$watch(function(){return ctrl.winnersSelected[winnerCategory]},function(newWinner,oldWinner){recalculateWinnerOptions(newWinner,oldWinner,winnerCategory)},!0)})}function recalculateWinnerOptions(newWinner,oldWinner,originalWinnerCategory){angular.forEach(ctrl.winnerCategories,function(winnerCategory){null===oldWinner||_.find(ctrl.topStudents[winnerCategory],{student_id:oldWinner})||ctrl.topStudents[winnerCategory].push(_.find(ctrl.topStudents.all,{student_id:oldWinner})),null!==newWinner&&winnerCategory!==originalWinnerCategory&&_.remove(ctrl.topStudents[winnerCategory],{student_id:newWinner})})}function initialiseAllOrgsWinnersOptions(){var allPromises=[];return angular.forEach(ctrl.shortListedOrgs,function(org){if(_.isEmpty(org.winners))org.winnersSelected=!1;else{org.findingTopStudents=!0;var promise=OrganizationStudentService.getTopStudents({program_year:CurrentProgram.year,organization:org.id}).then(function(students){org.topStudents=students,org.findingTopStudents=!1,
org.winnersSelected=getWinnersSelectedObject(org),$scope.$watch(function(){return org.winnersSelected},function(winners){ctrl.winnersInitialised&&(ctrl.saveWinners(org),checkWinnersDuplication())},!0)});allPromises.push(promise)}}),$q.all(allPromises)}function getWinnersSelectedObject(org){for(var winnersSelected={},i=0,len=ctrl.winnerCategories.length;len>i;++i){var winnerCategory=ctrl.winnerCategories[i];winnersSelected[winnerCategory]=!_.isEmpty(org.winners)&&org.winners[winnerCategory].profile?org.winners[winnerCategory].profile.id:null}return winnersSelected}function inviteOrg(){var url="/api/program/"+CurrentProgram.year+"/email/org-invitation/",promise=$http.post(url,{email:ctrl.orgInviteEmail});return promise.then(function(response){ToastService.show(response.data)}),promise}var ctrl=this;if($scope.user=CurrentUser,ctrl.program=CurrentProgram,ctrl.orgNames=_.pluck(_.pluck(CurrentUser.memberships,"organization"),"name"),$scope.definitions=DashboardConfigService.getDefinitions(),ctrl.taskStatus=Constants.TaskStatus,ctrl.ProgramStates=Constants.ProgramState,ctrl.currentProgramState=CurrentProgram.state,ctrl.taskDefinitionStatus=Constants.TaskDefinitionStatus,ctrl.homeLink=Constants.HomeLink,ctrl.stateDates=ProgramService.getStateDates(ctrl.program),ctrl.currentTask=CurrentTask,ctrl.completedTasks=CompletedTasks,ctrl.userType=UserService.getUserType(CurrentUser),ctrl.activeOrgAdmins=[],ctrl.allPublishedTaskDefinitionCount=null,ctrl.allDraftTaskDefinitionCount=null,ctrl.pendingParentConsentCount=null,ctrl.allActiveTaskInstanceCount=null,ctrl.orgsBelowTaskThreshold=null,ctrl.tasksWithNoInstancesCount=null,ctrl.winnerCategories=["winner_1","winner_2","runner_up","finalist_1","finalist_2"],ctrl.duplicatedWinners=[],ctrl.userType===Constants.UserTypes.ORG_ADMIN){var membershipParams={program_year:CurrentProgram.year,organization_id:UserOrg.id};ctrl.org=CurrentUser.admin_on_org(),OrganizationModel.bindOne(ctrl.org.id,$scope,"ctrl.org");var orgAdminOrgPromise=OrganizationModel.find(ctrl.org.id,{program_year:CurrentProgram.year});OrganizationMembershipService.getUsers(membershipParams);var adminMembershipParams=_.assign({},membershipParams,{role:Constants.OrganizationRole.ADMIN,status:Constants.OrganizationMembershipStatus.ACTIVE});OrganizationMembershipModel.bindAll(adminMembershipParams,$scope,"ctrl.activeOrgAdmins");var mentorMembershipParams=_.assign({},membershipParams,{role:Constants.OrganizationRole.MENTOR,status:Constants.OrganizationMembershipStatus.ACTIVE});if(OrganizationMembershipModel.bindAll(mentorMembershipParams,$scope,"ctrl.activeMentors"),ctrl.applicationCompleted=OrgApplicationFormService.isValid(ctrl.org)||!1,ctrl.profileCompleted=OrgProfileFormService.isValid(ctrl.org)||!1,CurrentProgram.winners_choosing||CurrentProgram.winners_published){ctrl.submitWinnersDeadline=ctrl.program.winners_choosing_deadline&&moment(ctrl.program.winners_choosing_deadline)||moment(ctrl.stateDates.winnersPublishedOpenAt).subtract(1,"week");var winnersChoosingParams={program_year:CurrentProgram.year,organization:UserOrg.id};orgAdminOrgPromise.then(getWinnersSelectedObject).then(function(winnersSelected){ctrl.winnersSelected=winnersSelected}),ctrl.findingTopStudents=!0,OrganizationStudentService.getTopStudents(winnersChoosingParams).then(function(students){ctrl.topStudents={all:students},initialiseOwnOrgWinnersOptions(),ctrl.findingTopStudents=!1,$timeout(function(){ctrl.winnersForm.$setPristine()},0)})}}ctrl.userType===Constants.UserTypes.MENTOR&&(ctrl.orgs=CurrentUser.mentor_on,angular.forEach(ctrl.orgs,function(org){org.findingTopStudents=!0,OrganizationStudentService.getTopStudents({program_year:CurrentProgram.year,organization:org.id}).then(function(students){org.topStudents=students,org.findingTopStudents=!1})})),ctrl.userType===Constants.UserTypes.PROGRAM_ADMIN&&(ctrl.inviteOrg=inviteOrg,UserService.getSubmittedParentalConsentsCount().then(function(count){ctrl.submittedParentConsentCount=count}),OrganizationModel.bindAll({program_year:CurrentProgram.year,status:Constants.OrganizationStatus.ACCEPTED},$scope,"ctrl.shortListedOrgs"),CurrentProgram.orgs_published||OrganizationModel.bindAll({program_year:CurrentProgram.year},$scope,"ctrl.allOrganizations"),CurrentProgram.winners_choosing&&(ctrl.winnersInitialised=!1,ctrl.winnersSelectionLocked=CurrentProgram.winners_selection_locked,$scope.$watch("ctrl.winnersSelectionLocked",function(newValue,oldValue){newValue!==oldValue&&CurrentProgram.lockWinnersSelection(newValue).then(function(){ToastService.show(newValue?"Winners selection locked":"Winners selection unlocked")})})),$scope.$watchCollection("ctrl.shortListedOrgs",function(newValue,oldValue){ctrl.allPublishedTaskDefinitionCount=_.sum(ctrl.shortListedOrgs,"published_task_definition_count"),ctrl.allDraftTaskDefinitionCount=_.sum(ctrl.shortListedOrgs,"draft_task_definition_count"),ctrl.allActiveTaskInstanceCount=_.sum(ctrl.shortListedOrgs,"active_task_instance_count"),ctrl.orgsBelowTaskThreshold=_.filter(ctrl.shortListedOrgs,{is_below_claimable_task_threshold:!0}),ctrl.tasksWithNoInstancesCount=_.sum(ctrl.shortListedOrgs,"tasks_with_no_instances_count"),!CurrentProgram.winners_choosing&&!CurrentProgram.winners_published||ctrl.winnersInitialised||initialiseAllOrgsWinnersOptions().then(function(){$timeout(function(){ctrl.winnersInitialised=!0,checkWinnersDuplication()},0)})})),ctrl.userType===Constants.UserTypes.STUDENT&&(ctrl.studentName=CurrentUser.display_name,OrganizationModel.bindAll({program_year:CurrentProgram.year},$scope,"ctrl.allOrganizations")),$scope.$watch("ctrl.adminEmail",function(old,field){$scope.adminInvite&&!$scope.adminInvite.$valid&&$scope.adminInvite.adminAddress.$setValidity("server",!0)}),$scope.$watch("ctrl.mentorEmail",function(old,field){$scope.mentorInvite&&!$scope.mentorInvite.$valid&&$scope.mentorInvite.mentorAddress.$setValidity("server",!0)}),ctrl.adminsInvited=function(){return ctrl.activeOrgAdmins.length>1},ctrl.activeOrgAdminsValidation=function(ar){return ar.length<=1},ctrl.saveWinners=function(org){return org.savingWinners=!0,org.selectWinners(org.winnersSelected).then(function(){org.savingWinners=!1})},ctrl.saveOwnWinners=function(event){return ctrl.org.selectWinners(ctrl.winnersSelected)},ctrl.isDuplicatedWinner=function(id){return ctrl.duplicatedWinners.indexOf(id)>-1},ctrl.sendWinnersEmails=function(){ctrl.program.sendWinnersEmails().then(function(){ToastService.show("Winners emailed")})["catch"](function(){ToastService.showError("There was an error sending the emails")})},$scope.$watch("ctrl.winnersForm.$dirty",function(newValue,oldValue){angular.isDefined(newValue)&&newValue!==oldValue&&FormUtilsService.setPendingSave(newValue)})}angular.module("pages").controller("DashboardCtrl",DashboardCtrl)}(),function(){"use strict";function NotifyOrgsController($scope,$http,$timeout,ToastService,OrganizationModel){function onEmailRequestSuccess(response){OrganizationModel.inject(response.data.accepted),ToastService.show(TOAST_MESSAGE_TEMPLATE,!1,{locals:{data:{acceptedCount:response.data.accepted.length,rejectedCount:response.data.rejected.length}},hideDelay:1e4}),$scope.buttonText=BUTTON_MESSAGES.SENT,$scope.isInteractive=!1,$scope.$on("$destroy",function(){$scope.AppCtrl.program.org_confirmation_emails_sent=!0})}function onEmailRequestError(){ToastService.showError(),revertSendButton()}function revertSendButton(){$scope.buttonText=BUTTON_MESSAGES.INITIAL,$scope.isInteractive=!0}$scope.buttonText=BUTTON_MESSAGES.INITIAL,$scope.isInteractive=!0,this.send=function(){$scope.buttonText=BUTTON_MESSAGES.SENDING,$scope.isInteractive=!1,$http.post("/api/program/current/organization_email").then(onEmailRequestSuccess)["catch"](onEmailRequestError)}}angular.module("pages").controller("NotifyOrgsController",NotifyOrgsController);var BUTTON_MESSAGES={INITIAL:"Send confirmation and rejection emails to all",SENDING:"Sending confirmation and rejection emails",SENT:"Confirmation emails sent"},TOAST_MESSAGE_TEMPLATE=['<ng-pluralize count="data.acceptedCount" ',"when=\"{'0': 'confirmation emails sent', ","'one': '1 confirmation email sent',","'other': '{} confirmation emails sent'}\" ","></ng-pluralize> ",'<ng-pluralize count="data.rejectedCount" ',"when=\"{'0': 'and 0 rejection emails sent.',","'one': 'and 1 rejection email sent.',","'other': 'and {} rejection emails sent.'}\" ","></ng-pluralize>"].join("")}(),function(){"use strict";function DashboardConfigService(_,ConstantsService){function getProgramAdminDefinition(state){var orgSignupOpen=[[dashBasePath+"org-signup-open/program-admin/orgs_registered.html",dashBasePath+"org-signup-open/program-admin/invite-orgs.html"],dashBasePath+"common/overview.html"],orgsPublished=[[dashBasePath+"orgs-published/program-admin/notify-orgs.html"],[dashBasePath+"orgs-published/program-admin/tasks.html"],[dashBasePath+"common/published-organization-list.html",dashBasePath+"common/overview.html"]],orgApproval=[dashBasePath+"org-approval/program-admin/orgs-shortlisted.html",dashBasePath+"common/overview.html"],compOpen=[[dashBasePath+"competition-open/program-admin/status.html"],[dashBasePath+"common/published-organization-list.html",dashBasePath+"common/overview.html"]],compClosed=[[dashBasePath+"winners-choosing/program-admin/status.html"],[dashBasePath+"winners-choosing/program-admin/winners.html"]],states={};return states[DashboardStates.INITIAL]=orgSignupOpen,states[DashboardStates.SIGN_UP_OPEN]=orgSignupOpen,states[DashboardStates.ORGS_PUBLISHED]=orgsPublished,states[DashboardStates.ORG_APPROVAL]=orgApproval,states[DashboardStates.COMPETITION_OPEN]=compOpen,states[DashboardStates.NO_CLAIMS]=compOpen,states[DashboardStates.GRACE_PERIOD]=compOpen,states[DashboardStates.WINNERS_CHOOSING]=compClosed,states[DashboardStates.WINNERS_PUBLISHED]=compClosed,states[state]}function getOrgAdminDefinition(state){var orgSignupOpen=[[dashBasePath+"org-signup-open/org-admin/welcome.html"],[[dashBasePath+"org-signup-open/common/edit-application.html",dashBasePath+"org-signup-open/common/edit-org-profile.html",dashBasePath+"common/invite-admins.html"],dashBasePath+"org-signup-open/common/progress-bar.html"]],orgApproval=[[dashBasePath+"org-approval/org-admin/welcome.html"],[dashBasePath+"common/invite-admins.html"]],orgsPublished=[[dashBasePath+"orgs-published/org-admin/welcome.html",dashBasePath+"orgs-published/org-admin/mentor-counts.html"],[dashBasePath+"orgs-published/org-admin/tasks.html"],[dashBasePath+"common/invite-admins.html"]],compOpen=[[dashBasePath+"competition-open/org-admin/tasks.html",dashBasePath+"competition-open/mentor/tasks.html"],[dashBasePath+"common/invite-admins.html",dashBasePath+"orgs-published/org-admin/mentor-counts.html"]],compClosed=[[dashBasePath+"winners-choosing/org-admin/welcome.html"],[dashBasePath+"winners-choosing/org-admin/winners-corner.html",dashBasePath+"winners-choosing/org-admin/top-students.html"]],states={};return states[DashboardStates.INITIAL]=orgSignupOpen,states[DashboardStates.SIGN_UP_OPEN]=orgSignupOpen,states[DashboardStates.ORG_APPROVAL]=orgApproval,states[DashboardStates.ORGS_PUBLISHED]=orgsPublished,states[DashboardStates.COMPETITION_OPEN]=compOpen,states[DashboardStates.NO_CLAIMS]=compOpen,states[DashboardStates.GRACE_PERIOD]=compOpen,states[DashboardStates.WINNERS_CHOOSING]=compClosed,states[DashboardStates.WINNERS_PUBLISHED]=compClosed,states[state]}function getMentorDefinition(state){var orgsPublished=[[dashBasePath+"orgs-published/mentor/welcome.html",dashBasePath+"orgs-published/mentor/tasks.html"]],compOpen=[[dashBasePath+"competition-open/mentor/welcome.html",dashBasePath+"competition-open/mentor/tasks.html"]],compClosed=[[dashBasePath+"winners-choosing/mentor/top-students.html"]],states={};return states[DashboardStates.ORGS_PUBLISHED]=orgsPublished,states[DashboardStates.COMPETITION_OPEN]=compOpen,states[DashboardStates.NO_CLAIMS]=compOpen,states[DashboardStates.GRACE_PERIOD]=compOpen,states[DashboardStates.WINNERS_CHOOSING]=compClosed,states[DashboardStates.WINNERS_PUBLISHED]=compClosed,states[state]}function getStudentDefinition(state){var compOpen=[[dashBasePath+"competition-open/student/student-left.html",dashBasePath+"competition-open/student/student-right.html"]],compClosed=[[dashBasePath+"common/contest-over.html"],[dashBasePath+"competition-open/student/student-left.html",dashBasePath+"competition-open/student/student-right.html"]],states={};return states[DashboardStates.COMPETITION_OPEN]=compOpen,states[DashboardStates.NO_CLAIMS]=compOpen,states[DashboardStates.GRACE_PERIOD]=compClosed,states[DashboardStates.WINNERS_CHOOSING]=compClosed,states[DashboardStates.WINNERS_PUBLISHED]=compClosed,states[state]}function getDefinitions(){return dashboardDefinitions}var UserTypes=ConstantsService.get("UserTypes"),DashboardStates=ConstantsService.get("DashboardStates"),dashBasePath="pages/management/dashboard/partials/",dashboardDefinitions={};return dashboardDefinitions[DashboardStates.INITIAL]={},dashboardDefinitions[DashboardStates.SIGN_UP_OPEN]={},dashboardDefinitions[DashboardStates.ORGS_PUBLISHED]={},dashboardDefinitions[DashboardStates.ORG_APPROVAL]={},dashboardDefinitions[DashboardStates.COMPETITION_OPEN]={},dashboardDefinitions[DashboardStates.NO_CLAIMS]={},dashboardDefinitions[DashboardStates.GRACE_PERIOD]={},dashboardDefinitions[DashboardStates.WINNERS_CHOOSING]={},dashboardDefinitions[DashboardStates.WINNERS_PUBLISHED]={},angular.forEach(_.keys(dashboardDefinitions),function(state){dashboardDefinitions[state][UserTypes.PROGRAM_ADMIN]=getProgramAdminDefinition(state)}),angular.forEach(_.keys(dashboardDefinitions),function(state){dashboardDefinitions[state][UserTypes.ORG_ADMIN]=getOrgAdminDefinition(state)}),angular.forEach(_.keys(dashboardDefinitions),function(state){dashboardDefinitions[state][UserTypes.MENTOR]=getMentorDefinition(state)}),angular.forEach(_.keys(dashboardDefinitions),function(state){dashboardDefinitions[state][UserTypes.STUDENT]=getStudentDefinition(state)}),dashboardDefinitions[DashboardStates.ORGS_PUBLISHED][UserTypes.REJECT_ORG_ADMIN]=[[dashBasePath+"common/reject_org_admin.html"]],{getDefinitions:getDefinitions}}angular.module("common.services").service("DashboardConfigService",DashboardConfigService)}(),function(){function memberCardDirective($timeout,ToastService,ConstantsService,ProgramService,OrganizationMembershipService,OrganizationMembershipModel){function controller($scope){function inviteMember(email){fn="ADMIN"===memberType?"inviteAdmin":"inviteMentor";var reqPromise=OrganizationMembershipService[fn]({organization_id:org.id,program_year:program.year,profile:{email:email}});return reqPromise.then(function(membership){ToastService.show(membership.profile.email+" invited"),OrganizationMembershipService.getUsers(membershipParams)}),reqPromise}var ctrl=this,OrganizationMembershipStatus=ConstantsService.get("OrganizationMembershipStatus"),OrganizationRole=ConstantsService.get("OrganizationRole"),program=ProgramService.getCurrent(),memberType=$scope.role.toUpperCase(),org=$scope.org,membershipParams={program_year:program.year,organization_id:org.id,status:OrganizationMembershipStatus.PENDING};membershipParams.role=OrganizationRole[memberType],OrganizationMembershipModel.bindAll(membershipParams,$scope,"ctrl.filteredMembers"),ctrl.inviteMember=inviteMember}return{scope:{role:"@",org:"="},restrict:"E",templateUrl:"pages/management/dashboard/directives/member-card/member-card.directive.html",controller:controller,controllerAs:"ctrl"}}angular.module("pages").directive("memberCard",memberCardDirective)}(),function(){function OrganizationSignupAdminTOSCtrl($state,$scope,signUpState){function submit(){$state.go("base.app.org-signup.org-tos")}var ctrl=this;ctrl.submit=submit,$scope.AppCtrl.step=2,ctrl.isMentor=!1,ctrl.signUpState=signUpState,signUpState.profile&&signUpState.org||$state.go("base.app.org-signup.profile")}angular.module("pages").controller("OrganizationSignupAdminTOSCtrl",OrganizationSignupAdminTOSCtrl)}(),function(){angular.module("pages").controller("OrganizationSignupBaseCtrl",function(){var SignUpBaseCtrl=this;SignUpBaseCtrl.steps=[{text:"Registration form",sref:"base.app.org-signup.profile"},{text:"User terms of service",sref:"base.app.org-signup.tos"},{text:"Org terms of service",sref:"base.app.org-signup.org-tos"},{text:"You're in!",sref:"base.app.org-signup.success"}]})}(),function(){function AgeVerificationCtrl(_,moment,$scope,$rootScope,$stateParams,$cookies){function submit(e){if($scope.ageForm.$submitted=!0,!$scope.ageForm.$valid){if(e.preventDefault(),ctrl.lastTry)return void setFailedAgeVerification();$scope.ageForm.age.$error.required||($scope.ageForm.age.$error.lasttry=!0,ctrl.lastTry=!0)}}function setFailedAgeVerification(){ctrl.failedAgeVerification=!0;var expiry=new Date;expiry.setDate((new Date).getDate()+90),$cookies.put("fav",ctrl.role,{expires:expiry})}var ctrl=this,roles={student:{displayName:"a student",min:13,max:17},org_admin:{displayName:"an organization administrator",min:18,max:150},mentor:{displayName:"a mentor",min:13,max:150}};if(ctrl.role=$stateParams.userType,!_.has(roles,ctrl.role))throw"Invalid user role";ctrl.maxAge=roles[ctrl.role].max,ctrl.minAge=roles[ctrl.role].min,ctrl.roleDisplayName=roles[ctrl.role].displayName,ctrl.csrftoken=$rootScope.csrftoken,ctrl.next=$stateParams.next,ctrl.action="/age-verification/"+$stateParams.userType,ctrl.days=_.range(1,32),ctrl.months=moment.monthsShort(),ctrl.years=_.range((new Date).getFullYear(),1900,-1),ctrl.submit=submit,ctrl.lastTry=!1,ctrl.failedAgeVerification=$cookies.get("fav")===ctrl.role}angular.module("pages").controller("AgeVerificationCtrl",AgeVerificationCtrl)}(),function(){function OrganizationSignupProfileFormCtrl(_,$state,$scope,ToastService,UserService,Constants,CurrentProgram,signUpState){function filterTshirts(tshirtChoice){return-1==["XS","XXXL"].indexOf(tshirtChoice[0])}function preFillForm(profile){_.extend(ctrl.user,profile),ctrl.user.email===ctrl.user.display_name&&(ctrl.user.display_name=null)}function submit(){$scope.profileForm.display_name.$setValidity("unique",!0);var display_name=$scope.profileForm.display_name.$modelValue;UserService.displayNameIsUnique(display_name,ctrl.user.id).then(function(is_valid){is_valid&&$scope.profileForm.$valid?(signUpState.profile=ctrl.user,signUpState.org=ctrl.signupOrg,$state.go("base.app.org-signup.tos")):(is_valid||$scope.profileForm.display_name.$setValidity("unique",!1),ToastService.showError("There were errors"))})}var ctrl=this;ctrl.program=CurrentProgram,$scope.AppCtrl.step=1,ctrl.genders=Constants.Gender,ctrl.tshirtStyles=Constants.TshirtStyle,ctrl.tshirtSizes=Constants.TshirtSize,ctrl.femaleTshirtSizes=_.filter(ctrl.tshirtSizes,filterTshirts),ctrl.countries=Constants.Countries,ctrl.submit=submit,ctrl.user={display_email:signUpState.email,accepted_org_user_tos:signUpState.orgUserTOSComplete,shipping_address_is_home_address:!1},ctrl.signupOrg=signUpState.org,angular.isDefined(signUpState.profile)&&preFillForm(signUpState.profile)}angular.module("pages").controller("OrganizationSignupProfileFormCtrl",OrganizationSignupProfileFormCtrl)}(),function(){function OrganizationSignupAdminOrgTOSCtrl($state,$scope,$cookies,PageService,UserModel,OrganizationMembershipModel,OrganizationModel,signUpState,CurrentProgram,UserService,ToastService){function submit(){ctrl.saving=!0;var programParams={params:{program_year:"current"}};UserModel.create(signUpState.profile,programParams,{cacheResponse:!1}).then(function(user){OrganizationModel.create(signUpState.org,programParams).then(function(org){OrganizationMembershipModel.ejectAll(),UserService.pollCurrentUserForMemberships().then(function(user){UserModel.inject(user),$cookies.remove("age"),$state.go("base.app.org-signup.success")},function(){ctrl.saving=!1,ToastService.show("Please refresh your page to go to the dashboard")})})})}var ctrl=this;ctrl.submit=submit,ctrl.saving=!1,ctrl.signUpState=signUpState,$scope.AppCtrl.step=3,signUpState.profile&&signUpState.org||$state.go("base.app.org-signup.profile")}angular.module("pages").controller("OrganizationSignupAdminOrgTOSCtrl",OrganizationSignupAdminOrgTOSCtrl)}(),function(){angular.module("pages").controller("MemberSignupBaseCtrl",function(){var SignUpBaseCtrl=this;SignUpBaseCtrl.steps=[{text:"Registration form",sref:"base.app.org-member-signup.profile"},{text:"User terms of service",sref:"base.app.org-member-signup.tos"},{text:"You're in!",sref:"base.app.org-member-signup.success"}]})}(),function(){function OrgMemberSignupProfileFormCtrl(_,$state,$scope,ToastService,UserService,Constants,CurrentProgram,signUpState){function filterTshirts(tshirtChoice){return-1==["XS","XXXL"].indexOf(tshirtChoice[0])}function preFillForm(profile){_.extend(ctrl.user,profile),ctrl.user.email===ctrl.user.display_name&&(ctrl.user.display_name=null,ctrl.user.opt_in_to_mentor_list=null,ctrl.user.opt_in_to_alumni_list=null),ctrl.isMentor=signUpState.pendingMemberships[0].role==Constants.OrganizationRole.MENTOR}function submit(){$scope.profileForm.display_name.$setValidity("unique",!0);var display_name=$scope.profileForm.display_name.$modelValue;UserService.displayNameIsUnique(display_name,ctrl.user.id).then(function(is_valid){is_valid&&$scope.profileForm.$valid?(_.extend(signUpState.profile,ctrl.user),signUpState.org=ctrl.signupOrg,$state.go("base.app.org-member-signup.tos",{})):(is_valid||$scope.profileForm.display_name.$setValidity("unique",!1),ToastService.showError("There were errors"))})}var ctrl=this;ctrl.program=CurrentProgram,$scope.AppCtrl.step=1,ctrl.genders=Constants.Gender,ctrl.tshirtStyles=Constants.TshirtStyle,ctrl.tshirtSizes=Constants.TshirtSize,ctrl.femaleTshirtSizes=_.filter(ctrl.tshirtSizes,filterTshirts),ctrl.countries=Constants.Countries,ctrl.submit=submit,ctrl.user={email:signUpState.email,accepted_org_user_tos:signUpState.orgUserTOSComplete,shipping_address_is_home_address:!1},ctrl.org=signUpState.firstOrg,ctrl.isMentor=!1,ctrl.memberSignup=!0,preFillForm(signUpState.profile)}angular.module("pages").controller("OrgMemberSignupProfileFormCtrl",OrgMemberSignupProfileFormCtrl)}(),function(){function OrgMemberSignupTOSCtrl($state,$scope,$cookies,DS,UserService,UserModel,OrganizationMembershipModel,signUpState,Constants){function submit(){ctrl.saving=!0,signUpState.profile.accepted_org_user_tos=!0;var programParams={params:{program_year:"current"}};UserModel.create(signUpState.profile,programParams,{cacheResponse:!1}).then(function(user){OrganizationMembershipModel.ejectAll(),UserService.pollCurrentUserForMemberships().then(function(user){UserModel.inject(user),$cookies.remove("age"),$state.go("base.app.org-member-signup.success")},function(){ctrl.saving=!1,ToastService.show("Please refresh your page to go to the dashboard")})})}var ctrl=this;$scope.AppCtrl.step=2,ctrl.submit=submit,ctrl.saving=!1,ctrl.isMentor=signUpState.pendingMemberships[0].role==Constants.OrganizationRole.MENTOR,signUpState.profile.display_name||$state.go("base.app.org-member-signup.profile")}angular.module("pages").controller("OrgMemberSignupTOSCtrl",OrgMemberSignupTOSCtrl)}(),function(){function OrganizationSignupSuccessCtrl($state,$scope,signUpState){$scope.AppCtrl.step=4,signUpState.profile&&signUpState.org||$state.go("base.app.org-signup.profile")}angular.module("pages").controller("OrganizationSignupSuccessCtrl",OrganizationSignupSuccessCtrl)}(),function(){function OrganizationMemberSignupSuccessCtrl($state,$scope,$cookies,UserModel,OrganizationModel,CurrentProgram,signUpState){var ctrl=this;ctrl.program=CurrentProgram,$scope.AppCtrl.step=3,signUpState.firstOrg.DSRefresh(),signUpState.profile.display_name||$state.go("base.app.org-signup.profile")}angular.module("pages").controller("OrganizationMemberSignupSuccessCtrl",OrganizationMemberSignupSuccessCtrl)}(),function(){angular.module("pages").controller("StudentSignupBaseCtrl",function(){var SignUpBaseCtrl=this;SignUpBaseCtrl.steps=[{text:"Registration form",sref:"base.app.student-signup.profile"},{text:"Terms of service",sref:"base.app.student-signup.tos"},{text:"Parental Consent",sref:"base.app.parental-consent.offline-form",icon:"supervisor_account"}]})}(),function(){function StudentSignupProfileFormCtrl(_,$state,$scope,ToastService,UserService,Constants,CurrentProgram,signUpState){function preFillForm(profile){_.extend(ctrl.user,profile)}function filterTshirts(tshirtChoice){return-1==["XS","XXXL"].indexOf(tshirtChoice[0])}function submit(){$scope.profileForm.display_name.$setValidity("unique",!0);var display_name=$scope.profileForm.display_name.$modelValue;return UserService.displayNameIsUnique(display_name,ctrl.user.id).then(function(response){return $scope.profileForm.$valid&&(_.extend(signUpState.profile,ctrl.user),$state.go("base.app.student-signup.tos")),response})["catch"](function(err){throw $scope.profileForm.display_name.$setValidity("unique",!1),ToastService.showError("There were errors"),err})}var ctrl=this;ctrl.program=CurrentProgram,$scope.AppCtrl.step=1,ctrl.genders=Constants.Gender,ctrl.tshirtStyles=Constants.TshirtStyle,ctrl.tshirtSizes=Constants.TshirtSize,ctrl.femaleTshirtSizes=_.filter(ctrl.tshirtSizes,filterTshirts),ctrl.countries=Constants.StudentCountries,ctrl.heardAboutCodeinChoices=Constants.HeardAboutCodein,ctrl.submit=submit,ctrl.user={display_email:signUpState.email,shipping_address_is_home_address:!1},angular.isDefined(signUpState.profile)&&preFillForm(signUpState.profile)}angular.module("pages").controller("StudentSignupProfileFormCtrl",StudentSignupProfileFormCtrl)}(),function(){function StudentSignupTOSCtrl($state,$cookies,$scope,CurrentProgram,UserModel,signUpState){function submit(){return UserModel.create(signUpState.profile,{params:{program_year:CurrentProgram.year}}).then(function(user){return $cookies.remove("age"),$state.go("base.app.parental-consent.offline-form",{signup:!0},{reload:!0}),user})}var ctrl=this;$scope.AppCtrl.step=2,ctrl.submit=submit,ctrl.signUpState=signUpState}angular.module("pages").controller("StudentSignupTOSCtrl",StudentSignupTOSCtrl)}(),function(){function config(_,$stateProvider){$stateProvider.state("base.app.age-verification",{url:"age-verification/:userType/?next=",templateUrl:"pages/age-verification/pages.age-verification.html",controller:"AgeVerificationCtrl",controllerAs:"ctrl",data:{title:"Age verification"}}).state("base.app.org-signup",{url:"org-signup/",templateUrl:"pages/signup/org-signup/pages.org-signup.progress-bar.html","abstract":!0,controller:"OrganizationSignupBaseCtrl",controllerAs:"SignUpBaseCtrl",resolve:{signUpState:function(SignUpService){return SignUpService.getOrgAdminSignupState()}},data:{title:"Organization sign up",onlyAccessibleInStates:["org_signup_open"]}}).state("base.app.org-signup.profile",{url:"",templateUrl:"pages/signup/org-signup/pages.org-signup.profile-form.html",controller:"OrganizationSignupProfileFormCtrl",controllerAs:"ctrl"}).state("base.app.org-signup.tos",{url:"tos/",templateUrl:"pages/common/pages.org-member-tos.html",controller:"OrganizationSignupAdminTOSCtrl",controllerAs:"ctrl"}).state("base.app.org-signup.org-tos",{url:"org-tos/",templateUrl:"pages/signup/org-signup/pages.org-signup.org-tos.html",controller:"OrganizationSignupAdminOrgTOSCtrl",controllerAs:"ctrl"}).state("base.app.org-signup.success",{url:"success/",templateUrl:"pages/signup/org-signup/pages.org-signup.success.html",controller:"OrganizationSignupSuccessCtrl",controllerAs:"ctrl"}).state("base.app.org-member-signup",{url:"org-member-signup/",templateUrl:"pages/signup/org-member-signup/pages.org-member-signup.progress-bar.html","abstract":!0,controller:"MemberSignupBaseCtrl",controllerAs:"SignUpBaseCtrl",resolve:{signUpState:function(SignUpService){return SignUpService.getOrgMemberSignupState()}},data:{title:"Organization member sign up",onlyAccessibleInStates:["org_signup_open","org_approval","orgs_published","competition_open","no_claims","grace_period"]}}).state("base.app.org-member-signup.profile",{url:"",templateUrl:"pages/signup/org-member-signup/pages.org-member-signup.profile-form.html",controller:"OrgMemberSignupProfileFormCtrl",controllerAs:"ctrl"}).state("base.app.org-member-signup.tos",{url:"tos/",templateUrl:"pages/common/pages.org-member-tos.html",controller:"OrgMemberSignupTOSCtrl",controllerAs:"ctrl"}).state("base.app.org-member-signup.success",{url:"success/",templateUrl:"pages/signup/org-member-signup/pages.org-member-signup.success.html",controller:"OrganizationMemberSignupSuccessCtrl",controllerAs:"ctrl"}).state("base.app.student-signup",{url:"student-signup/",templateUrl:"pages/signup/student-signup/pages.student-signup.progress-bar.html","abstract":!0,controller:"StudentSignupBaseCtrl",controllerAs:"SignUpBaseCtrl",resolve:{signUpState:function(SignUpService){return SignUpService.getStudentSignupState()}},data:{title:"Student sign up",onlyAccessibleInStates:["competition_open"]}}).state("base.app.student-signup.profile",{url:"",templateUrl:"pages/signup/student-signup/pages.student-signup.profile-form.html",controller:"StudentSignupProfileFormCtrl",controllerAs:"ctrl",resolve:{profile:function(CurrentUser,$state){CurrentUser&&$state.go("base.app.error.403",{},{location:!1})}}}).state("base.app.student-signup.tos",{url:"tos/",templateUrl:"pages/signup/student-signup/pages.student-signup.tos.html",controller:"StudentSignupTOSCtrl",controllerAs:"ctrl",resolve:{profile:function(CurrentUser,$state){CurrentUser&&$state.go("base.app.error.403",{},{location:!1})}}}).state("base.app.student-signup.parental-consent",{url:"parental-consent/",templateUrl:"pages/signup/student-signup/pages.student-signup.parental-consent.html",controller:"StudentSignupParentalConsentCtrl",controllerAs:"ctrl"}).state("base.app.org-member-signup-invalid",{url:"org-member-signup/invalid/",templateUrl:"pages/signup/org-member-signup/pages.org-member-signup.invalid.html"})}angular.module("pages").config(config)}(),angular.module("pages").controller("OrgApplicationController",function(_,$scope,$timeout,CurrentOrg,CurrentProgram,CurrentUser,OrgApplicationFormService,OrganizationModel,ProgramService,ToastService,FormUtilsService){var OrgApplicationCtrl=this;OrgApplicationCtrl.formConfig={how_many_mentors:["1-5","6-10","11-15","16-20","20+"],previous_soc_years:_.range(CurrentProgram.year,2004,-1),previous_codein_years:_.range(CurrentProgram.year-1,2009,-1)},OrgApplicationCtrl.formData=CurrentOrg||CurrentUser.admin_on_org(),OrgApplicationCtrl.stateDates=ProgramService.getStateDates(CurrentProgram),OrgApplicationCtrl.validationCriteria=OrgApplicationFormService.validationCriteria,OrgApplicationCtrl.resetCodeInYears=function(){OrgApplicationCtrl.formData.participated_in_codein_years=[]},OrgApplicationCtrl.submit=function(){var promise=OrganizationModel.save(OrgApplicationCtrl.formData.id,{showValidationError:!1});return promise.then(function(response){ToastService.show("Saved")},function(response){ToastService.showError("There were errors")}),promise},OrgApplicationCtrl.formProgressTitle=OrgApplicationCtrl.stateDates.orgSignupClosedAt.toNow(!0)+" to go",$scope.$watch("applicationForm.$dirty",function(newValue,oldValue){void 0!==newValue&&newValue!==oldValue&&FormUtilsService.setPendingSave(newValue)}),$scope.$on("$destroy",function(){OrganizationModel.revert(OrgApplicationCtrl.formData.id)})}),angular.module("pages").controller("OrgProfileController",function($scope,$timeout,$mdDialog,$q,CurrentProgram,CurrentOrg,CurrentUser,OrganizationModel,UploadDialog,UploadService,ProgramService,OrgProfileFormService,ToastService,MarkdownPreviewService,FormValidationService,FormUtilsService){function validateTags(value,old){if(value!==old){if(CurrentProgram.orgs_published){var required=!FormValidationService.arrayValidation(value);$scope.orgProfileForm.tags.$setValidity("required",required)}var tagsNumber=!FormValidationService.arrayMaxLength(value,5);$scope.orgProfileForm.tags.$setValidity("tags-number",tagsNumber)}}function validateProgrammingLanguages(value,old){if(value!==old){if(CurrentProgram.orgs_published){var valid=!FormValidationService.arrayValidation(value);
$scope.orgProfileForm.programming_languages.$setValidity("required",valid)}var languagesNumber=!FormValidationService.arrayMaxLength(value,5);$scope.orgProfileForm.programming_languages.$setValidity("languages-number",languagesNumber)}}function showErrorsForField(field){return(field.$touched||$scope.orgProfileForm.$submitted)&&field.$invalid}var OrgProfileCtrl=this;OrgProfileCtrl.formConfig={primary_open_source_license:["Academic Free License 3.0 (AFL-3.0)","Affero GNU Public License","Adaptive Public License (APL-1.0)","Apache License 2.0 (Apache-2.0)","Apple Public Source License (APSL-2.0)","Artistic license 2.0 (Artistic-2.0)","Attribution Assurance Licenses (AAL)",'BSD 3-Clause "New" or "Revised" License (BSD-3-Clause)','BSD 2-Clause "Simplified" or "FreeBSD" License (BSD-2-Clause)',"Boost Software License (BSL-1.0)","CeCILL License 2.1 (CECILL-2.1)","Computer Associates Trusted Open Source License 1.1 (CATOSL-1.1)","Common Development and Distribution License 1.0 (CDDL-1.0)","Common Public Attribution License 1.0 (CPAL-1.0)","CUA Office Public License Version 1.0 (CUA-OPL-1.0)","EU DataGrid Software License (EUDatagrid)","Eclipse Public License 1.0 (EPL-1.0)","Educational Community License, Version 2.0 (ECL-2.0)","Eiffel Forum License V2.0 (EFL-2.0)","Entessa Public License (Entessa)","European Union Public License, Version 1.1 (EUPL-1.1)","Fair License (Fair)","Frameworx License (Frameworx-1.0)","GNU Affero General Public License v3 (AGPL-3.0)","GNU General Public License version 2.0 (GPL-2.0)","GNU General Public License version 3.0 (GPL-3.0)",'GNU Library or "Lesser" General Public License version 2.1 (LGPL-2.1)','GNU Library or "Lesser" General Public License version 3.0 (LGPL-3.0)',"Historical Permission Notice and Disclaimer (HPND)","IBM Public License 1.0 (IPL-1.0)","IPA Font License (IPA)","ISC License (ISC)","LaTeX Project Public License 1.3c (LPPL-1.3c)","Lucent Public License Version 1.02 (LPL-1.02)","MirOS Licence (MirOS)","Microsoft Public License (MS-PL)","Microsoft Reciprocal License (MS-RL)","MIT license (MIT)","Motosoto License (Motosoto)","Mozilla Public License 2.0 (MPL-2.0)","Multics License (Multics)","NASA Open Source Agreement 1.3 (NASA-1.3)","NTP License (NTP)","Naumen Public License (Naumen)","Nethack General Public License (NGPL)","Nokia Open Source License (Nokia)","Non-Profit Open Software License 3.0 (NPOSL-3.0)","OCLC Research Public License 2.0 (OCLC-2.0)","Open Font License 1.1 (OFL-1.1)","Open Group Test Suite License (OGTSL)","Open Software License 3.0 (OSL-3.0)","PHP License 3.0 (PHP-3.0)","The PostgreSQL License (PostgreSQL)","Python License (Python-2.0) (overall Python license)","CNRI Python license (CNRI-Python) (CNRI portion of Python License)","Q Public License (QPL-1.0)","RealNetworks Public Source License V1.0 (RPSL-1.0)","Reciprocal Public License 1.5 (RPL-1.5)","Ricoh Source Code Public License (RSCPL)","Simple Public License 2.0 (SimPL-2.0)","Sleepycat License (Sleepycat)","Sun Public License 1.0 (SPL-1.0)","Sybase Open Watcom Public License 1.0 (Watcom-1.0)","University of Illinois/NCSA Open Source License (NCSA)","Universal Permissive License (UPL)","Vovida Software License v. 1.0 (VSL-1.0)","W3C License (W3C)","wxWindows Library License (WXwindows)","X.Net License (Xnet)","Zope Public License 2.0 (ZPL-2.0)","zlib/libpng license (Zlib)"]};var org=CurrentOrg||CurrentUser.admin_on_org();OrgProfileCtrl.formData=org,OrgProfileCtrl.stateDates=ProgramService.getStateDates(CurrentProgram),OrgProfileCtrl.program=CurrentProgram,OrgProfileCtrl.validationCriteria=OrgProfileFormService.validationCriteria,OrgProfileCtrl.showMarkdownPreview=MarkdownPreviewService.showPreviewModal,OrgProfileCtrl.showErrorsForField=showErrorsForField,OrgProfileCtrl.enforceValidation=org.is_accepted||CurrentProgram.orgs_published,OrgProfileCtrl.attendedValidation=function(event){return!(event&&(event.attended===!1||event.attended&&(!event.years||!event.years.length)))},OrgProfileCtrl.submit=function(){if(CurrentProgram.orgs_published&&(validateTags(OrgProfileCtrl.formData.tags),validateProgrammingLanguages(OrgProfileCtrl.formData.programming_languages)),$scope.orgProfileForm.$valid){var promise=OrganizationModel.save(OrgProfileCtrl.formData.id,{showValidationError:!1});return promise.then(function(response){ToastService.show("Saved")},function(response){ToastService.showError("There were errors")}),promise}return $q.reject()},$scope.showUploadModal=function(){UploadDialog.show({uploadUrl:"file-upload",modelType:UploadService.MODEL_TYPES.ORG,modelId:OrgProfileCtrl.formData.id,fileType:UploadService.FILE_TYPES.IMAGE,field:$scope.orgProfileForm.logo,requiredHeight:300,requiredWidth:300,requiredRatio:1,allowedFileTypes:["image/png"],helpText:"Please provide as a 24-bit PNG (against transparent background), 1:1 ratio (minimum dimensions: 300px x 300px)."}).then(function(file){OrgProfileCtrl.formData.image_url=file.serving_url,$scope.orgProfileForm.$setDirty()})},OrgProfileCtrl.formProgressTitle=OrgProfileCtrl.stateDates.orgSignupClosedAt.toNow(!0)+" to go",$scope.$on("$destroy",function(){OrganizationModel.revert(OrgProfileCtrl.formData.id)}),$scope.$watchCollection("OrgProfileCtrl.formData.tags",validateTags),$scope.$watchCollection("OrgProfileCtrl.formData.programming_languages",validateProgrammingLanguages),OrgProfileCtrl.showOrgPreview=function(org,$event){$mdDialog.show({parent:angular.element(document.body),targetEvent:$event,templateUrl:"pages/public/common/pages.org-detail-dialog.html",clickOutsideToClose:!0,locals:{org:org,user:CurrentUser,is_preview:!0},controller:function($scope,$state,$mdDialog,org,user,is_preview){$scope.org=org,$scope.currentUser=user,$scope.is_preview=is_preview,$scope.closeDialog=function(){$mdDialog.hide()}}})},$scope.$watch("orgProfileForm.$dirty",function(newValue,oldValue){angular.isDefined(newValue)&&newValue!==oldValue&&FormUtilsService.setPendingSave(newValue)})}),function(){function ManageOrgApplicationsBaseController($scope,$stateParams,$http,CurrentProgram,Constants,ToastService,OrganizationModel,OrganizationMembershipModel,_){var ManageOrgApplicationsBaseCtrl=this,orgStatus=Constants.OrganizationStatus;ManageOrgApplicationsBaseCtrl.membershipStatus=Constants.OrganizationMembershipStatus,ManageOrgApplicationsBaseCtrl.CONSTANTS={SHORTLISTED_STATE:orgStatus.ACCEPTED,DEFAULT_STATE:orgStatus.PENDING},ManageOrgApplicationsBaseCtrl.expandOrgId=_.parseInt($stateParams.organization_id),ManageOrgApplicationsBaseCtrl.loadingAdmins=function(org){return!("admins"in org)},ManageOrgApplicationsBaseCtrl.toggleOrgListing=function(org){org.status=org.status===ManageOrgApplicationsBaseCtrl.CONSTANTS.SHORTLISTED_STATE?ManageOrgApplicationsBaseCtrl.CONSTANTS.DEFAULT_STATE:ManageOrgApplicationsBaseCtrl.CONSTANTS.SHORTLISTED_STATE,OrganizationModel.save(org)},ManageOrgApplicationsBaseCtrl.deShortListOrg=function(org){org.status=ManageOrgApplicationsBaseCtrl.CONSTANTS.DEFAULT_STATE,OrganizationModel.save(org)},ManageOrgApplicationsBaseCtrl.getOrgAdmins=function(org){OrganizationMembershipModel.findAll({program_year:CurrentProgram.year,organization:org.id,role:Constants.OrganizationRole.ADMIN}).then(function(orgAdmins){org.admins=orgAdmins})},ManageOrgApplicationsBaseCtrl.sendConfirmationEmail=function(orgList){orgList=_.isArray(orgList)?orgList:[orgList],$http.post("/api/program/"+CurrentProgram.year+"/organization_email",_.map(orgList,function(org){return{id:org.id}})).then(function(response){OrganizationModel.inject(response.data),ToastService.show("Confirmation emails sent to "+orgList.length+" organizations")},function(){ToastService.showError()})}}function ManageOrgApplicationsController($scope,OrganizationModel,CurrentProgram){OrganizationModel.bindAll({program_year:CurrentProgram.year,is_profile_and_application_complete:!0},$scope,"ManageOrgApplicationsCtrl.orgs")}function ManageOrgApplicationsShortlistController($scope,_,Constants,OrganizationModel,CurrentProgram){var ManageOrgApplicationsCtrl=this,ManageOrgApplicationsBaseCtrl=$scope.ManageOrgApplicationsBaseCtrl;OrganizationModel.bindAll({program_year:CurrentProgram.year,status:Constants.OrganizationStatus.ACCEPTED,is_profile_and_application_complete:!0},$scope,"ManageOrgApplicationsCtrl.orgs"),$scope.shortlist=!0,ManageOrgApplicationsCtrl.sendShortlistedConfirmationEmails=function(){var orgsNotHadConfirmationEmails=_.filter(ManageOrgApplicationsCtrl.orgs,function(org){return!org.accepted_email_sent});ManageOrgApplicationsBaseCtrl.sendConfirmationEmail(orgsNotHadConfirmationEmails)}}function ManageOrgApplicationsIncompleteController($scope,_,OrganizationModel,CurrentProgram){var ManageOrgApplicationsCtrl=this,ManageOrgApplicationsBaseCtrl=$scope.ManageOrgApplicationsBaseCtrl;OrganizationModel.bindAll({program_year:CurrentProgram.year,is_profile_and_application_complete:!1},$scope,"ManageOrgApplicationsCtrl.orgs"),ManageOrgApplicationsCtrl.sendShortlistedConfirmationEmails=function(){var orgsNotHadConfirmationEmails=_.filter(ManageOrgApplicationsCtrl.orgs,function(org){return!org.accepted_email_sent});ManageOrgApplicationsBaseCtrl.sendConfirmationEmail(orgsNotHadConfirmationEmails)}}angular.module("pages").controller("ManageOrgApplicationsBaseController",ManageOrgApplicationsBaseController).controller("ManageOrgApplicationsController",ManageOrgApplicationsController).controller("ManageOrgApplicationsShortlistController",ManageOrgApplicationsShortlistController).controller("ManageOrgApplicationsIncompleteController",ManageOrgApplicationsIncompleteController)}(),function(){angular.module("pages").controller("MentorsController",function($scope,$stateParams,$mdDialog,$q,$location,CurrentProgram,OrganizationMembershipService,OrganizationMembershipModel,OrganizationModel,MentorListColumns,Constants,ToastService,CurrentOrg,CurrentUser){function canShowActions(user){return user.is_mentor&&("competition_open"===CurrentProgram.state||"orgs_published"===CurrentProgram.state)}function removeMentor(orgMembership){var dialogPreset=$mdDialog.confirm({title:"Remove mentor",content:"This will unassign this user from all associated tasks, and assign them to you. It will also remove them from this organization. Comments will remain. Proceed?",ok:"Yes",cancel:"No"});$mdDialog.show(dialogPreset).then(function(){return OrganizationMembershipService.deleteMembership(orgMembership)}).then(function(){ToastService.show("Mentor removed")})}function getCSVEmails(data){return _.pluck(data,"profile.email").join(", ")}function showEmailModal($event,data){$mdDialog.show({parent:angular.element(document.body),targetEvent:$event,templateUrl:"pages/management/mentors/pages.mentor-emails.html",clickOutsideToClose:!0,locals:{emails:getCSVEmails(data)},controller:function($scope,emails){$scope.emails=emails}})}function showEmails($event){var searchParams=_.clone(MentorsController.searchParams);searchParams.page_size=999,searchParams.page=1,delete searchParams.search,MentorsController.searchModel.findAll(searchParams).then(function(data){showEmailModal($event,data)})}var MentorsController=this,currentOrg=CurrentOrg||CurrentUser.admin_on_org();MentorsController.expandMentorId=_.parseInt($stateParams.mentor_id),MentorsController.removeMentor=removeMentor,MentorsController.showEmails=showEmails,MentorsController.OrganizationMembershipStatus=Constants.OrganizationMembershipStatus,MentorsController.searchModel=OrganizationMembershipModel,MentorsController.ignoredUrlParams=["organization","status"],MentorsController.mentors={},MentorsController.searchParams={program_year:CurrentProgram.year,organization:currentOrg.id,status:[Constants.OrganizationMembershipStatus.ACTIVE,Constants.OrganizationMembershipStatus.DISABLED]},MentorsController.tableConfig=MentorListColumns.getColumns(),MentorsController.columnLocals={removeMentor:removeMentor,canShowActions:canShowActions},$stateParams.id&&(OrganizationModel.bindOne($stateParams.id,$scope,"MentorsController.org"),OrganizationModel.find($stateParams.id,{params:{program_year:CurrentProgram.year}}))})}(),function(){angular.module("pages").controller("EditTaskController",function($scope,$timeout,MarkdownPreviewService){var TaskCtrl=$scope.TaskCtrl;$scope.$on("$destroy",function(){TaskCtrl.taskFormCopy=angular.copy(TaskCtrl.taskForm)}),TaskCtrl.taskFormCopy&&$timeout(function(){TaskCtrl.taskForm.$dirty=TaskCtrl.taskFormCopy.$dirty,TaskCtrl.taskForm.$pristine=TaskCtrl.taskFormCopy.$pristine,TaskCtrl.taskForm.$valid=TaskCtrl.taskFormCopy.$valid,TaskCtrl.taskForm.$invalid=TaskCtrl.taskFormCopy.$invalid,TaskCtrl.taskForm.$pending=TaskCtrl.taskFormCopy.$pending,TaskCtrl.taskForm.$submitted=TaskCtrl.taskFormCopy.$submitted}),TaskCtrl.showTaskDescriptionPreview=function($event){MarkdownPreviewService.showPreviewModal(TaskCtrl.task.description,$event)}})}(),function(){angular.module("pages").controller("PreviewTaskController",function(Constants){var PreviewTaskCtrl=this,catIcons=Constants.TaskCategoryIcons,defaultIcon="help_outline";PreviewTaskCtrl.getCatIcon=function(cat){return catIcons[cat]||defaultIcon}})}(),function(){"use strict";function TaskController(_,$state,$scope,$q,$timeout,CurrentProgram,FormValidationService,ToastService,FormUtilsService,TaskService,TaskModel,OrganizationModel,OrganizationMembershipService,TaskDefinitionMentorModel,Constants,task,$stateParams,CurrentUser,ConstantsService,UserCapabilitiesService){function tasksAreEditable(){return UserCapabilitiesService.tasksAreEditable(CurrentProgram)}function canEdit(){return tasksAreEditable()&&("new"===$stateParams.id||UserCapabilitiesService.canEditTaskDefinition(CurrentUser,TaskCtrl.task,CurrentProgram.state))}function setOrgIfOnlyOne(userOrgs){TaskCtrl.task.organization_id||1!==userOrgs.length||(TaskCtrl.task.organization_id=userOrgs[0].id)}function isNewTask(){return"new"===TaskCtrl.taskId}function categoryChecked(key){return TaskCtrl.task&&TaskCtrl.task.categories.indexOf(key)>-1}function toggleCategory(key){var cats=TaskCtrl.task.categories,idx=cats.indexOf(key);idx>-1?cats.splice(idx,1):cats.push(key),dirtyForm()}function dirtyForm(){TaskCtrl.taskForm.$setDirty()}function save(){return saveTask().then(function(response){return ToastService.show("Task saved"),response}).then(finishSave)}function saveAndPublish(){var initialStatus=TaskCtrl.task.status;return TaskCtrl.shouldDelayTaskPublication=!TaskCtrl.task.id,publish().then(function(response){return ToastService.show("Task published"),response},function(){TaskCtrl.task.status=initialStatus}).then(finishSave)}function saveAndUnPublish(){return TaskCtrl.task.status=TaskCtrl.draftState,saveTask().then(function(response){return ToastService.show("Task saved and unpublished"),response}).then(finishSave)}function saveTask(){if(!TaskCtrl.taskForm.$valid)return $q.reject();TaskCtrl.isSavingTask=!0;var task=TaskCtrl.task;TaskCtrl.task.assignments_profile_ids=_.pluck(TaskCtrl.mentors,"id");var taskPromise,params={showValidationError:!1,params:{program_year:CurrentProgram.year}};return taskPromise=task.id?TaskModel.update(task.id,task,params):TaskModel.create(task,{program_year:CurrentProgram.year}),taskPromise["catch"](onSaveTaskError)["finally"](function(response){FormUtilsService.partialProcessValidationResponse(TaskCtrl.taskForm,response)})}function finishSave(task){TaskCtrl.isSavingTask=!1,FormUtilsService.setPendingSave(!1),isNewTask()?$state.go("base.app.management.task.edit",{id:task.id},{inherit:!1}):TaskCtrl.taskForm.$setPristine()}function publish(){var task=TaskCtrl.task;return TaskCtrl.shouldDelayTaskPublication?(TaskCtrl.shouldDelayTaskPublication=!1,$timeout(function(){return TaskCtrl.task.status=task.status=TaskCtrl.publishedState,saveTask()},2e3)):(TaskCtrl.task.status=task.status=TaskCtrl.publishedState,saveTask())}function canAddMentors(){return CurrentUser.is_org_admin||CurrentUser.is_program_admin}function canSave(){return TaskCtrl.task.organization_id&&(angular.isUndefined(TaskCtrl.task.status)||TaskCtrl.task.status===TaskCtrl.draftState||TaskCtrl.progressComplete)&&TaskCtrl.taskForm.$dirty}function showSaveAndPublish(){return(CurrentUser.is_org_admin||CurrentUser.is_program_admin)&&(TaskCtrl.isNewTask()||TaskCtrl.task.status===TaskCtrl.draftState)}function canSaveAndPublish(){return TaskCtrl.progressComplete&&TaskCtrl.task.organization_id}function showSaveAndUnPublish(){return(CurrentUser.is_org_admin||CurrentUser.is_program_admin)&&TaskCtrl.task.status===TaskCtrl.publishedState&&!TaskCtrl.task.assignments_count}function canSaveAndUnPublish(){return TaskCtrl.task.organization_id}function onSaveTaskError(response){return TaskCtrl.task.status=task.status,ToastService.showError("There were errors"),response}function showErrorsForField(field){return(field.$touched||$scope.taskForm.$submitted)&&field.$invalid}function validateTags(tags){var tagsNumber=!FormValidationService.arrayMaxLength(tags,5);TaskCtrl.taskForm.tags.$setValidity("tags-number",tagsNumber)}var TaskCtrl=this;TaskCtrl.task=angular.copy(task),TaskCtrl.taskDefinitionMentors={},TaskCtrl.taskId="new"===$stateParams.id?$stateParams.id:TaskCtrl.task.id,TaskCtrl.publishedState=ConstantsService.get("TaskDefinitionStatus").PUBLISHED,TaskCtrl.draftState=ConstantsService.get("TaskDefinitionStatus").DRAFT,TaskCtrl.taskCategories=_.map(Constants.TaskCategoryChoices,function(v,k){return[_.parseInt(k),v]}),TaskCtrl.mentors=TaskCtrl.task.assignments_profiles||[],canEdit()||$state.go("base.app.management.task.preview",{id:TaskCtrl.taskId}),CurrentUser.is_program_admin?OrganizationModel.findAll({program_year:CurrentProgram.year,status:Constants.OrganizationStatus.ACCEPTED}).then(function(orgs){TaskCtrl.userOrgs=orgs,setOrgIfOnlyOne(orgs)}):(TaskCtrl.userOrgs=CurrentUser.org_memberships,setOrgIfOnlyOne(TaskCtrl.userOrgs)),$scope.$watchCollection("TaskCtrl.mentors",function(newValue,oldValue){newValue!==oldValue&&dirtyForm()}),$scope.$watch("TaskCtrl.task.organization_id",function(newOrgId,oldOrgId){newOrgId!==oldOrgId&&dirtyForm()}),$scope.$watch("TaskCtrl.taskForm.$dirty",function(newValue,oldValue){angular.isDefined(newValue)&&newValue!==oldValue&&FormUtilsService.setPendingSave(newValue)}),$scope.$watchCollection("TaskCtrl.task.tags",function(newValue,oldValue){newValue!==oldValue&&validateTags(newValue)}),TaskCtrl.canEdit=canEdit,TaskCtrl.tasksAreEditable=tasksAreEditable,TaskCtrl.arrayValidation=FormValidationService.arrayValidation,TaskCtrl.canAddMentors=canAddMentors,TaskCtrl.categoryChecked=categoryChecked,TaskCtrl.getTaskCatFriendlyName=TaskService.getTaskCatFriendlyName,TaskCtrl.isNewTask=isNewTask,TaskCtrl.canSave=canSave,TaskCtrl.canSaveAndPublish=canSaveAndPublish,TaskCtrl.showSaveAndPublish=showSaveAndPublish,TaskCtrl.canSaveAndUnPublish=canSaveAndUnPublish,TaskCtrl.showSaveAndUnPublish=showSaveAndUnPublish,TaskCtrl.showErrorsForField=showErrorsForField,TaskCtrl.saveAndPublish=saveAndPublish,TaskCtrl.saveAndUnPublish=saveAndUnPublish,TaskCtrl.save=save,TaskCtrl.toggleCategory=toggleCategory}angular.module("pages").controller("TaskController",TaskController)}(),function(){"use strict";function TaskListController($scope,$state,$q,TaskService,TaskModel,CurrentProgram,CurrentUser,CurrentOrg,Constants,TaskListColumns,baseFilterState,taskFilterService,BulkMentorModalService,ToastService,TableService,$stateParams,_){function getClonedSelectedTasks(){return _.cloneDeep(TaskListCtrl.selectedTasks)}var TaskListCtrl=this,showOnlyMyTasks=TableService.getTableSearchParam("my_tasks");TaskListCtrl.ignoredUrlParams=["organization"],TaskListCtrl.currentOrg=CurrentOrg||null,TaskListCtrl.selectedTasks=[],baseFilterState=_.extend({program_year:CurrentProgram.year},baseFilterState),CurrentUser.is_org_admin?baseFilterState.organization=[CurrentUser.admin_on_org().id]:CurrentUser.is_mentor?baseFilterState.organization=_.pluck(CurrentUser.mentor_on,"id"):$state.params.id&&(baseFilterState.organization=$state.params.id),TaskListCtrl.data={user:CurrentUser,controlConfig:$state.current.data.filters||DEFAULT_CONTROLS,tableConfig:TaskListColumns.getColumns(),searchModel:TaskService.getModel(),findParams:{order:"-modified",status:$stateParams.status}},_.assign(TaskListCtrl.data.findParams,{},baseFilterState),TaskListCtrl.onFilterStateChange=function(state){taskFilterService.mergeFilters(TaskListCtrl.data.findParams,state,baseFilterState)},TaskListCtrl.changeTaskStatus=function(opts){TaskListCtrl.actionPromises=[],_.each(getClonedSelectedTasks(),function(task){var requiredStatus=opts.publish?this.taskStatus.PUBLISHED:this.taskStatus.DRAFT;task.status!==requiredStatus&&(task.status=requiredStatus,this.actionPromises.push(this.TaskModel.update(task.id,task,{extractErrorMessage:!0})))},{TaskModel:TaskModel,actionPromises:TaskListCtrl.actionPromises,taskStatus:Constants.TaskDefinitionStatus}),$q.all(TaskListCtrl.actionPromises).then(function(){ToastService.show("Tasks updated")})},TaskListCtrl.showBulkMentorsModal=function(){BulkMentorModalService.show({program_year:CurrentProgram.year,org_ids:baseFilterState.organization}).then(function(mentors){TaskListCtrl.actionPromises=[];var mentorIds=_.pluck(mentors,"id");_.each(getClonedSelectedTasks(),function(task){task.assignments_profile_ids=_.union(task.assignments_profile_ids,this.mentorIds),this.actionPromises.push(this.TaskModel.update(task.id,task,{extractErrorMessage:!0}))},{mentorIds:mentorIds,TaskModel:TaskModel,actionPromises:TaskListCtrl.actionPromises}),$q.all(TaskListCtrl.actionPromises).then(function(){ToastService.show("Mentors assigned")})})},TaskListCtrl.filterMyTasks=_.isUndefined(showOnlyMyTasks)?!!CurrentUser.is_mentor:"true"===showOnlyMyTasks,TaskListCtrl.data.findParams.my_tasks=""+TaskListCtrl.filterMyTasks,TaskListCtrl.toggleMyTasks=function(){taskFilterService.mergeFilters(TaskListCtrl.data.findParams,{my_tasks:""+TaskListCtrl.filterMyTasks},baseFilterState)},$scope.$watch("TaskListCtrl.data.findParams.mentors",function(newValue,oldValue){newValue!==oldValue&&(TaskListCtrl.filterMyTasks=CurrentUser.id==newValue)})}angular.module("pages").controller("TaskListController",TaskListController);var DEFAULT_CONTROLS=["organization","status","mentor","category","is_beginner","is_exhausted"]}(),function(){"use strict";function TaskListColumns(ProgramService,UserService){var columnCache={};columnCache.title={name:"Title",orderBy:"name",templateId:"name"},columnCache.organization={name:"Organization",orderBy:"organization",templateId:"organization"},columnCache.categories={name:"Categories",templateId:"categories"},columnCache.published={name:"Published",isBoolean:!0,templateId:"published"},columnCache.beginner={name:"Beginner",orderBy:"is_beginner",isBoolean:!0,attr:"is_beginner"},columnCache.available={name:"Available",orderBy:"available_count",isNumeric:!0,templateId:"available"},columnCache.mentors={name:"Mentors",orderBy:"assignments_count",isNumeric:!0,attr:"assignments_count"},columnCache.time={name:"Time",orderBy:"time_to_complete_in_days",isNumeric:!0,templateId:"time_to_complete_in_days"},columnCache.modified={name:"Modified",orderBy:"modified",templateId:"modified"},columnCache.tags={name:"Tags",templateId:"tags"},columnCache.claimed={name:"Used",orderBy:"claimed_count",isNumeric:!0,attr:"claimed_count"},columnCache.inProgress={name:"In progress",attr:"active_count",isNumeric:!0,orderBy:"active_count"},columnCache.completed={name:"Completed",attr:"completed_count",isNumeric:!0,orderBy:"completed_count"},columnCache.abandonedM={name:"Abandoned (M)",attr:"abandoned_by_mentor_count",orderBy:"abandoned_by_mentor_count",isNumeric:!0},columnCache.abandonedS={name:"Abandoned (S)",attr:"abandoned_by_student_count",orderBy:"abandoned_by_student_count",isNumeric:!0},columnCache.outOfTime={name:"Out of time",attr:"out_of_time_count",orderBy:"out_of_time_count",isNumeric:!0},columnCache.student={name:"Student",orderBy:"student",templateId:"student"},columnCache.status={name:"Status",templateId:"status"},columnCache.timeRemaining={name:"Time remaining",orderBy:"deadline_to_complete",templateId:"time_remaining"};var columns={};return columns.pa3=[columnCache.title,columnCache.organization,columnCache.categories,columnCache.published,columnCache.beginner,columnCache.available,columnCache.mentors,columnCache.time,columnCache.modified,columnCache.tags],columns.pa4=[columnCache.title,columnCache.organization,columnCache.published,columnCache.modified,columnCache.mentors,columnCache.available,columnCache.claimed,columnCache.inProgress,columnCache.completed,columnCache.abandonedM,columnCache.abandonedS,columnCache.outOfTime,columnCache.categories,columnCache.beginner,columnCache.tags],columns.pa5=columns.pa4,columns.pa6=columns.pa4,columns.pa7=columns.pa4,columns.oa3=[columnCache.title,columnCache.categories,columnCache.published,columnCache.beginner,columnCache.available,columnCache.mentors,columnCache.time,columnCache.modified,columnCache.tags],columns.oa4=[columnCache.title,columnCache.published,columnCache.modified,columnCache.mentors,columnCache.available,columnCache.claimed,columnCache.inProgress,columnCache.completed,columnCache.abandonedM,columnCache.abandonedS,columnCache.outOfTime,columnCache.categories,columnCache.beginner,columnCache.tags],columns.oa5=columns.oa4,columns.oa6=columns.oa4,columns.oa7=columns.oa4,columns.om3=[columnCache.title,columnCache.organization,columnCache.categories,columnCache.published,columnCache.beginner,columnCache.available,columnCache.mentors,columnCache.time,columnCache.modified,columnCache.tags],columns.om4=[columnCache.title,columnCache.organization,columnCache.published,columnCache.modified,columnCache.mentors,columnCache.available,columnCache.claimed,columnCache.inProgress,columnCache.completed,columnCache.abandonedM,columnCache.abandonedS,columnCache.outOfTime,columnCache.categories,columnCache.beginner,columnCache.tags],columns.om5=columns.om4,columns.om6=columns.om4,columns.om7=columns.om4,{getColumns:function(modifier){return ProgramService.getCurrentStateIndex().then(function(stateIndex){var userType=UserService.getCurrentUserType(),currentColumns=columns[userType+stateIndex+(modifier||"")];return currentColumns||[]})}}}angular.module("pages").service("TaskListColumns",TaskListColumns)}(),function(){"use strict";function taskListItemDirective($mdDialog,$location,ProgramService,ConstantsService,TaskInstanceModel,TaskModel){return{restrict:"E",scope:{},bindToController:{taskId:"=",taskInstancesPromise:"&",click:"&"},templateUrl:"pages/management/task-list/task-list-item.directive.html",controllerAs:"ctrl",controller:function($scope){var ctrl=this;$scope.TaskStatus=ConstantsService.get("TaskStatus"),TaskModel.bindOne(ctrl.taskId,$scope,"task"),ctrl.taskInstancesPromise().then(function(){var instances=TaskInstanceModel.filter({task_definition_id:ctrl.taskId});instances.length&&($scope.taskInstance=instances[0])})}}}angular.module("pages").directive("taskListItem",taskListItemDirective)}(),function(){"use strict";function TaskInstanceListController($log,CurrentProgram,CurrentUser,constants,taskFilterService,baseFilterState,TaskModel,TaskInstanceListColumns,TableService,$state,model,$filter,$scope,_){var ctrl=this,showOnlyMyTasks=TableService.getTableSearchParam("my_tasks"),taskDefId=TableService.getTableSearchParam("task_definition");baseFilterState=_.extend({program_year:CurrentProgram.year},baseFilterState),CurrentUser.is_org_admin&&(baseFilterState.organization=[CurrentUser.admin_on[0].id]),ctrl.locals={Constants:constants},ctrl.data={user:CurrentUser,searchModel:model,searchParams:{order:"-modified"},controlConfig:$state.current.data.filters||["category","organization","is_beginner","status","task_definition"],tableConfig:TaskInstanceListColumns.getColumns($state.current.name.split(".").reverse()[0]),selected:[]},taskDefId&&(TaskModel.bindOne(taskDefId,$scope,"taskListCtrl.taskDefinition"),TaskModel.find(taskDefId,{params:{program_year:CurrentProgram.year}})),_.assign(ctrl.data.searchParams,baseFilterState),ctrl.filterMyTasks=_.isUndefined(showOnlyMyTasks)?!!CurrentUser.is_mentor:"true"===showOnlyMyTasks,ctrl.data.searchParams.my_tasks=""+ctrl.filterMyTasks,ctrl.onFilterStateChange=function(state){taskFilterService.mergeFilters(ctrl.data.searchParams,state,baseFilterState),$log.debug("onFilterStateChange",ctrl.data.searchParams)},ctrl.toggleMyTasks=function(){taskFilterService.mergeFilters(ctrl.data.searchParams,{my_tasks:""+ctrl.filterMyTasks},baseFilterState)},ctrl.pageTitle=$state.current.data.pageTitle||"Task Instances"}angular.module("pages").controller("TaskInstanceListController",TaskInstanceListController)}(),function(){"use strict";function TaskInstanceListColumns(ProgramService,UserService){var columnCache={};columnCache.title={name:"Title",orderBy:"name",templateId:"name"},columnCache.student={name:"Student",orderBy:"student",attr:"claimed_by.display_name"},columnCache.organization={name:"Organization",orderBy:"organization",templateId:"organization"},columnCache.status={name:"Status",templateId:"status"},columnCache.timeRemaining={name:"Time remaining",orderBy:"deadline_to_complete",templateId:"time_remaining"},columnCache.mentors={name:"Mentors",orderBy:"task_definition.assignments_count",isNumeric:!0,attr:"task_definition.assignments_count"},columnCache.categories={name:"Categories",templateId:"categories"},columnCache.beginner={name:"Beginner",orderBy:"is_beginner",isBoolean:!0,attr:"task_definition.is_beginner"},columnCache.modified={name:"Modified",orderBy:"modified",templateId:"modified"},columnCache.tags={name:"Tags",templateId:"tags"};var columns={};return columns.oa4all=[columnCache.title,columnCache.student,columnCache.status,columnCache.modified,columnCache.timeRemaining,columnCache.mentors,columnCache.beginner,columnCache.categories,columnCache.tags],columns.oa4inProgress=[columnCache.title,columnCache.student,columnCache.status,columnCache.modified,columnCache.timeRemaining,columnCache.mentors,columnCache.beginner,columnCache.categories,columnCache.tags],columns.oa4completed=columns.oa4inProgress,columns.oa4incomplete=[columnCache.title,columnCache.student,columnCache.status,columnCache.modified,columnCache.mentors,columnCache.beginner,columnCache.categories,columnCache.tags],columns.oa5=columns.oa4,columns.oa5all=[columnCache.title,columnCache.student,columnCache.status,columnCache.modified,columnCache.mentors,columnCache.beginner,columnCache.categories,columnCache.tags],columns.oa5inProgress=[columnCache.title,columnCache.student,columnCache.status,columnCache.modified,columnCache.mentors,columnCache.beginner,columnCache.categories,columnCache.tags],columns.oa5completed=columns.oa5inProgress,columns.oa5incomplete=columns.oa5all,columns.oa6all=columns.oa5all,columns.oa6inProgress=columns.oa5inProgress,columns.oa6completed=columns.oa5completed,columns.oa6incomplete=columns.oa5incomplete,columns.oa7all=columns.oa5all,columns.oa7inProgress=columns.oa5inProgress,columns.oa7completed=columns.oa5completed,columns.oa7incomplete=columns.oa5incomplete,columns.om4all=[columnCache.title,columnCache.student,columnCache.status,columnCache.modified,columnCache.timeRemaining,columnCache.organization,columnCache.mentors,columnCache.beginner,columnCache.categories,columnCache.tags],columns.om4inProgress=[columnCache.title,columnCache.student,columnCache.modified,columnCache.timeRemaining,columnCache.organization,columnCache.mentors,columnCache.beginner,columnCache.categories,columnCache.tags],columns.om4completed=columns.om4inProgress,columns.om4incomplete=[columnCache.title,columnCache.student,columnCache.status,columnCache.modified,columnCache.organization,columnCache.mentors,columnCache.beginner,columnCache.categories,columnCache.tags],columns.om5all=[columnCache.title,columnCache.student,columnCache.status,columnCache.modified,columnCache.organization,columnCache.mentors,columnCache.beginner,columnCache.categories,columnCache.tags],columns.om5inProgress=[columnCache.title,columnCache.student,columnCache.modified,columnCache.organization,columnCache.mentors,columnCache.beginner,columnCache.categories,columnCache.tags],columns.om5completed=columns.om5inProgress,
columns.om5incomplete=columns.om5all,columns.om6all=columns.om5all,columns.om6inProgress=columns.om5inProgress,columns.om6completed=columns.om5completed,columns.om6incomplete=columns.om5incomplete,columns.om7all=columns.om5all,columns.om7inProgress=columns.om5inProgress,columns.om7completed=columns.om5completed,columns.om6incomplete=columns.om5incomplete,columns.pa4all=columns.om4all,columns.pa4inProgress=columns.om4inProgress,columns.pa4completed=columns.om4completed,columns.pa4incomplete=columns.om4incomplete,columns.pa5all=columns.om5all,columns.pa5inProgress=columns.om5inProgress,columns.pa5completed=columns.om5completed,columns.pa5incomplete=columns.om5incomplete,columns.pa6all=columns.om6all,columns.pa6inProgress=columns.om6inProgress,columns.pa6completed=columns.om6completed,columns.pa6incomplete=columns.om6incomplete,columns.pa7all=columns.om6all,columns.pa7inProgress=columns.om6inProgress,columns.pa7completed=columns.om6completed,columns.pa7incomplete=columns.om6incomplete,{getColumns:function(modifier){return ProgramService.getCurrentStateIndex().then(function(stateIndex){var userType=UserService.getCurrentUserType(),currentColumns=columns[userType+stateIndex+(modifier||"")];return currentColumns||[]})}}}angular.module("pages").service("TaskInstanceListColumns",TaskInstanceListColumns)}(),function(){"use strict";function TaskInstanceDetailController(_,moment,$scope,$http,$mdDialog,$anchorScroll,$timeout,$window,$q,Constants,CurrentUser,CurrentProgram,CurrentTaskInstance,CurrentTaskDefinition,CurrentTaskOrg,TaskInstanceModel,OrganizationModel,FormUtilsService,TaskModel,TaskInstanceService,TaskUpdateModel,UploadDialog,UserService,UploadService,ToastService,UserCapabilitiesService){function addTimeDialogController($scope,$mdDialog){$scope.extendDaysOptions=[],_.each(_.range(1,11),function(i){var text=1===i?" day":" days";$scope.extendDaysOptions.push({value:i,text:i+text})}),$scope.addTime=function(){$mdDialog.hide($scope.days)},$scope.cancel=function(){$mdDialog.cancel()}}function isActiveTaskInstance(){return-1===[Constants.TaskStatus.COMPLETED,Constants.TaskStatus.ABANDONED,Constants.TaskStatus.UNASSIGNED_BY_MENTOR,Constants.TaskStatus.OUT_OF_TIME].indexOf(ctrl.taskInstance.status)}function setTaskStatus(status){var previousStatus=ctrl.taskInstance.status;ctrl.changingStatus=!0;var taskInstanceCopy=_.assign({},ctrl.taskInstance,{status:status});return ctrl.taskInstance.DSUpdate(taskInstanceCopy).then(function(taskInstance){ctrl.changingStatus=!1,ctrl.showSubmitIndicator=!1,TaskInstanceService.getUpdatesById(ctrl.taskInstance.id)},function(error){ctrl.taskInstance.status=previousStatus,ctrl.changingStatus=!1})}function extendTaskInstanceDeadline(days){ctrl.taskInstance.extendDeadline(days).then(function(){ToastService.showError("Task deadline has been extended"),TaskInstanceService.getUpdatesById(ctrl.taskInstance.id)})}function resetNewCommentUpdate(){ctrl.newTaskUpdate.text="",ctrl.newAttachments=[],ctrl.newTaskUpdate.attachment_ids=[]}function dirtyStatusWarning(event,content,altDialog){altDialog=altDialog||$q.resolve();var def=_.assign({},stateChangeCommentModalDef,{content:content});return FormUtilsService.isPendingSave()?FormUtilsService.showFormNotSavedWarning(event,def):altDialog}var ctrl=this,unSendCommentModalDef={title:"Unsent Comment/Upload",content:"You have a comment or upload that you have not sent, do you still want to leave this page?"},stateChangeCommentModalDef={title:"Unsent Comment/Upload",content:"You have a comment or upload that you have not sent, do you still want to do this action?",ok:"Yes",cancel:"No, cancel"};ctrl.categoryChoices=Constants.TaskCategoryChoices,ctrl.categoryIcons=Constants.TaskCategoryIcons,ctrl.statusIcons=Constants.TaskStatusIcons,ctrl.taskStatus=Constants.TaskStatus,ctrl.updateKind=Constants.TaskUpdateKind,ctrl.taskStatusLong={},ctrl.taskStatusLong[Constants.TaskStatus.COMPLETED]="Task approved",ctrl.taskStatusLong[Constants.TaskStatus.CLAIMED]="Task claimed",ctrl.taskStatusLong[Constants.TaskStatus.NEEDS_WORK]="More work needed",ctrl.taskStatusLong[Constants.TaskStatus.SUBMITTED]="Submitted for review",ctrl.taskStatusLong[Constants.TaskStatus.OUT_OF_TIME]="Deadline missed",ctrl.taskStatusLong[Constants.TaskStatus.ABANDONED]="Task abandoned",ctrl.taskStatusLong[Constants.TaskStatus.PENDING_PARENTAL_CONSENT]="Task approved -- Waiting for parental consent approval",ctrl.taskStatusLong[Constants.TaskStatus.UNASSIGNED_BY_MENTOR]="Unassigned by mentor",ctrl.changingStatus=!1,ctrl.sendingComment=!1,ctrl.loadingUpdates=!1,ctrl.hideTaskActions=!1,ctrl.showSubmitIndicator=!1,ctrl.taskDefinitionExpanded=!1,TaskInstanceModel.bindOne(CurrentTaskInstance.id,$scope,"ctrl.taskInstance"),TaskModel.bindOne(CurrentTaskDefinition.id,$scope,"ctrl.taskDefinition"),OrganizationModel.bindOne(CurrentTaskOrg.id,$scope,"ctrl.taskOrg"),ctrl.taskUpdates=[],ctrl.TaskUpdateModel=TaskUpdateModel,ctrl.searchParams={program_year:"current",task_instance:CurrentTaskInstance.id},ctrl.bindParams={task_instance_id:CurrentTaskInstance.id},ctrl.newTaskUpdate={task_instance_id:CurrentTaskInstance.id,kind:ctrl.updateKind.COMMENT,text:"",attachment_ids:[]},ctrl.newAttachments=[],ctrl.saySomething=function(){ctrl.taskDefinitionExpanded=!1,$timeout(function(){$window.document.getElementById("task-updater__comment-text").focus()},100)},ctrl.expandTaskDefinition=function(){ctrl.taskDefinitionExpanded=!ctrl.taskDefinitionExpanded},ctrl.isStudentView=function(){return CurrentUser.is_student},ctrl.canEditTaskDefinition=function(){return UserCapabilitiesService.canEditTaskDefinition(CurrentUser,CurrentTaskDefinition,CurrentProgram)},ctrl.showAdminStatus=function(){return ctrl.taskInstance.status!==Constants.TaskStatus.CLAIMED},ctrl.canSubmitTask=function(){return[Constants.TaskStatus.CLAIMED,Constants.TaskStatus.NEEDS_WORK].indexOf(ctrl.taskInstance.status)>-1},ctrl.canAbandonTask=function(){return[Constants.TaskStatus.CLAIMED,Constants.TaskStatus.NEEDS_WORK,Constants.TaskStatus.SUBMITTED].indexOf(ctrl.taskInstance.status)>-1},ctrl.canMoveToAnotherTask=function(){return!isActiveTaskInstance()},ctrl.canModerateTask=function(){return ctrl.taskInstance.status===Constants.TaskStatus.SUBMITTED},ctrl.canUnassignStudent=function(){return isActiveTaskInstance()},ctrl.canExtendDeadline=function(){return isActiveTaskInstance()},ctrl.submitTask=function(event){var dialogTitle="Submit Task",dialogContent="Are you sure you want to submit this task?",hasComments=TaskUpdateModel.filter(_.assign({kind:ctrl.updateKind.COMMENT},ctrl.bindParams)).length;hasComments||(dialogContent="You have not made any comments or uploaded any files, do you still want to submit this task?");var confirm=$mdDialog.confirm().title(dialogTitle).content(dialogContent).ariaLabel(dialogTitle).targetEvent(event).ok("Submit task").cancel("Cancel");return dirtyStatusWarning(event,"You have a comment or upload that you have not sent, do you still want to submit this task?").then(function(){return $mdDialog.show(confirm).then(function(){return setTaskStatus(Constants.TaskStatus.SUBMITTED)})})},ctrl.abandonTask=function(event){var confirm=$mdDialog.confirm().title("Abandon Task").content("Are you sure you want to abandon this task?").ariaLabel("Abandon Task").targetEvent(event).ok("Abandon Task").cancel("Cancel");return dirtyStatusWarning(event,"You have a comment or upload that you have not sent, do you still want to abandon this task?").then(function(){return $mdDialog.show(confirm).then(function(){setTaskStatus(Constants.TaskStatus.ABANDONED).then(function(){CurrentUser.working_on_tasks_count=0,CurrentTaskDefinition.is_beginner&&(CurrentUser.beginner_claimed_tasks_not_abandoned_count--,CurrentUser.beginner_task_limit_exhausted=!1),UserService.setCurrentUser(CurrentUser)})})})},ctrl.approveTask=function(event){var confirm=$mdDialog.confirm().title("Approve Task").content("Are you sure you want to approve the work done for this task?").ariaLabel("Approve Task").targetEvent(event).ok("Approve task").cancel("Cancel");return dirtyStatusWarning(event,"You have a comment or upload that you have not sent, do you still want to approve this task?").then(function(){return $mdDialog.show(confirm).then(function(){setTaskStatus(Constants.TaskStatus.COMPLETED)})})},ctrl.taskNeedsWork=function(event){var confirm=$mdDialog.confirm().title("Request More Work").content("Are you sure you want to request more work for this task?").ariaLabel("Request More Work").targetEvent(event).ok("Request More Work").cancel("Cancel");return dirtyStatusWarning(event,"You have a comment or upload that you have not sent, do you still want to request more work for this task?").then(function(){return $mdDialog.show(confirm).then(function(){setTaskStatus(Constants.TaskStatus.NEEDS_WORK)})})},ctrl.unassignTask=function(event){var confirm=$mdDialog.confirm().title("Unassign Student").content("Are you sure you want to unassign this task from the student?").ariaLabel("Unassign Student").targetEvent(event).ok("Unassign Student").cancel("Cancel");return dirtyStatusWarning(event,"You have a comment or upload that you have not sent, do you still want to unassign this task from this student?").then(function(){return $mdDialog.show(confirm).then(function(){setTaskStatus(Constants.TaskStatus.UNASSIGNED_BY_MENTOR)})})},ctrl.addTimeToTask=function(event){$mdDialog.show({controller:addTimeDialogController,templateUrl:"pages/management/task-instance-detail/_add-time-dialog.html",parent:angular.element(document.body),targetEvent:event}).then(function(days){extendTaskInstanceDeadline(days)})},ctrl.removeAttachment=function(index){ctrl.newAttachments.splice(index,1),ctrl.newAttachments.length||FormUtilsService.setPendingSave(!1)},ctrl.submitNewUpdate=function(form){ctrl.loadingUpdates=!0,ctrl.sendingMessage=!0,ctrl.newTaskUpdate.attachment_ids=_.pluck(ctrl.newAttachments,"id"),TaskUpdateModel.create(ctrl.newTaskUpdate,{params:{program_year:"current"}}).then(function(newTaskUpdate){ctrl.loadingUpdates=!1,ctrl.sendingMessage=!1,ctrl.isStudentView()&&ctrl.canSubmitTask()&&!$scope.AppCtrl.competitionHasEnded()&&(ctrl.showSubmitIndicator=!0),resetNewCommentUpdate(),form.$setPristine(),form.$setUntouched()})},ctrl.dismissSubmitIndicator=function(){ctrl.showSubmitIndicator=!1},ctrl.showUploadModal=function(){UploadDialog.show({uploadUrl:"file-upload",fileType:UploadService.FILE_TYPES.DOC,modelType:UploadService.MODEL_TYPES.TU,multiFile:!0,saveText:"Attach"}).then(function(files){ctrl.newAttachments=ctrl.newAttachments.concat(files),FormUtilsService.setPendingSave(!0,unSendCommentModalDef)})},$scope.$watch(function(){return ctrl.taskUpdates.length},function(newValue,oldValue){newValue!==oldValue&&1>=newValue&&(ctrl.taskDefinitionExpanded=!0)}),$scope.$watch("ctrl.newTaskUpdate.text",function(newValue){newValue?FormUtilsService.isPendingSave()||FormUtilsService.setPendingSave(!0,unSendCommentModalDef):FormUtilsService.setPendingSave(!1)})}angular.module("pages").controller("TaskInstanceDetailController",TaskInstanceDetailController)}(),function(){angular.module("pages").controller("OrgListController",function($scope,$state,baseFilterState,CurrentProgram,OrganizationModel,OrgListColumns,taskFilterService,$stateParams,_){var ctrl=this;ctrl.ignoredUrlParams=["status"],baseFilterState=_.extend({program_year:CurrentProgram.year,status:2},baseFilterState),ctrl.data={controlConfig:$state.current.data.filters||["name","active_membership_count"],tableConfig:OrgListColumns.getColumns(),searchModel:OrganizationModel,findParams:{order:"-name",status:$stateParams.status}},_.assign(ctrl.data.findParams,{},baseFilterState),ctrl.onFilterStateChange=function(state){taskFilterService.mergeFilters(ctrl.data.findParams,state,baseFilterState)}})}(),function(){"use strict";function OrgListColumns(TableColumnsService){var columnCache={};columnCache.title={name:"Name",orderBy:"name",templateId:"name"},columnCache.mentors={name:"Mentors",orderBy:"active_membership_count",isNumeric:!0,attr:"active_membership_count"},columnCache.taskDefinitionsPublished={name:"Definitions (published)",attr:"claimable_task_definition_count",isNumeric:!0},columnCache.taskInstancesAvailable={name:"Instances (available)",attr:"available_task_instance_count",isNumeric:!0},columnCache.taskInstancesActive={name:"Instances (active)",attr:"active_task_instance_count",isNumeric:!0},columnCache.taskInstancesComplete={name:"Instances (complete)",attr:"completed_task_instance_count",isNumeric:!0};var columns={};return columns.pa3=[columnCache.title,columnCache.taskDefinitionsPublished,columnCache.taskInstancesAvailable,columnCache.mentors],columns.pa4=[columnCache.title,columnCache.taskDefinitionsPublished,columnCache.taskInstancesAvailable,columnCache.taskInstancesActive,columnCache.taskInstancesComplete,columnCache.mentors],columns.pa5=columns.pa4,columns.pa6=columns.pa4,columns.pa7=columns.pa4,{getColumns:function(){return TableColumnsService.getColumns(columns)}}}angular.module("pages").service("OrgListColumns",OrgListColumns)}(),function(){angular.module("pages").controller("ProfileListController",function(UserModel,UserService,CurrentProgram,ProfileListColumns,$mdDialog,ToastService){function cleanUnacceptedOrgMembers(){var dialogPreset=$mdDialog.confirm({title:"Clean unaccepted organization members?",content:"This will disable all profiles that are not on any accepted organization.",ok:"Yes",cancel:"No"});$mdDialog.show(dialogPreset).then(function(){return UserService.cleanUnacceptedOrgMembers()}).then(function(){ToastService.show("Members of uaccepted organization cleaned.")})}var ProfileListCtrl=this;ProfileListCtrl.searchModel=UserModel,ProfileListCtrl.searchParams={program_year:CurrentProgram.year},ProfileListCtrl.tableConfig=ProfileListColumns.getColumns(),ProfileListCtrl.cleanUnacceptedOrgMembers=cleanUnacceptedOrgMembers})}(),function(){"use strict";function ProfileListColumns(TableColumnsService){var columnCache={};columnCache.screenName={name:"Username",templateId:"display_name"},columnCache.role={name:"Role",templateId:"role"},columnCache.firstName={name:"First name",attr:"given_name"},columnCache.lastName={name:"Last name",attr:"other_names"},columnCache.email={name:"Email",attr:"email"},columnCache.active={name:"Active",attr:"is_disabled",isBoolean:!0,comparator:"== false"};var columns={};return columns.pa0=[columnCache.screenName,columnCache.role,columnCache.firstName,columnCache.lastName,columnCache.email,columnCache.active],columns.pa1=[columnCache.screenName,columnCache.role,columnCache.firstName,columnCache.lastName,columnCache.email,columnCache.active],columns.pa2=columns.pa1,columns.pa3=columns.pa1,columns.pa4=columns.pa1,columns.pa5=columns.pa1,columns.pa6=columns.pa1,columns.pa7=columns.pa1,{getColumns:function(){return TableColumnsService.getColumns(columns)}}}angular.module("pages").service("ProfileListColumns",ProfileListColumns)}(),function(){angular.module("pages").controller("ProfileDetailController",function($scope,$stateParams,UserModel,CurrentProgram,ToastService,Constants){function disableAccount(){userPromise.then(function(user){user.DSUpdate({is_disabled:!0}).then(function(){ToastService.show("Account frozen")})})}function enableAccount(){userPromise.then(function(user){user.DSUpdate({is_disabled:!1}).then(function(){ToastService.show("Account unfrozen")})})}var ctrl=this;ctrl.disableAccount=disableAccount,ctrl.enableAccount=enableAccount,ctrl.organizationRole=Constants.OrganizationRole,ctrl.membershipStatus={},ctrl.membershipStatus[Constants.OrganizationMembershipStatus.PENDING]="Pending",ctrl.membershipStatus[Constants.OrganizationMembershipStatus.ACTIVE]="Active",ctrl.membershipStatus[Constants.OrganizationMembershipStatus.DISABLED]="Disabled";var userPromise=UserModel.find($stateParams.id,{params:{program_year:CurrentProgram.year}});UserModel.bindOne($stateParams.id,$scope,"ProfileDetailCtrl.userProfile")})}(),angular.module("pages").controller("StudentListController",function($scope,$mdSidenav,UserModel,OrganizationModel,CurrentProgram,StudentListColumns,Constants){var ctrl=this;ctrl.ParentalConsentStatus=Constants.ParentalConsentStatus,ctrl.cellLocals={ParentalConsentStatus:Constants.ParentalConsentStatus},ctrl.searchParams={program_year:CurrentProgram.year,is_student:!0,order:"display_name"},ctrl.students={},ctrl.openFiltersPanel=function(){$mdSidenav("right").open()},ctrl.searchModel=UserModel,ctrl.tableConfig=StudentListColumns.getColumns()}),function(){"use strict";function StudentListColumns(TableColumnsService,ConstantsService){var columnCache={};columnCache.screenName={name:"Display name",templateId:"display_name",orderBy:"display_name"},columnCache.firstName={name:"First name",attr:"given_name",orderBy:"given_name"},columnCache.lastName={name:"Last name",attr:"other_names",orderBy:"other_names"},columnCache.country={name:"Country",attr:"home_address_country",orderBy:"home_address_country"},columnCache.email={name:"Email",attr:"email",orderBy:"email"},columnCache.has_task={name:"Has task?",attr:"active_task_status",isBoolean:!0,orderBy:"active_task_status",comparator:"> 0"},columnCache.verified={templateId:"verified",name:"PC verified",orderBy:"parental_consent_is_accepted"},columnCache.completed={name:"Completed",attr:"completed_tasks_count",isNumeric:!0,orderBy:"completed_claimed_tasks_count"},columnCache.abandoned={name:"Abandoned",attr:"abandoned_by_any_tasks_count",isNumeric:!0,orderBy:"abandoned_by_any_claimed_tasks_count"},columnCache.active={name:"Active",attr:"is_disabled",isBoolean:!0,comparator:"== false",orderBy:"is_disabled"};var columns={};return columns.pa4=[columnCache.screenName,columnCache.firstName,columnCache.lastName,columnCache.email,columnCache.has_task,columnCache.active,columnCache.verified,columnCache.completed,columnCache.abandoned,columnCache.country],columns.pa5=[columnCache.screenName,columnCache.firstName,columnCache.lastName,columnCache.email,columnCache.active,columnCache.verified,columnCache.completed,columnCache.abandoned,columnCache.country],columns.pa6=columns.pa5,columns.pa7=columns.pa5,{getColumns:function(){return TableColumnsService.getColumns(columns)}}}angular.module("pages").service("StudentListColumns",StudentListColumns)}(),function(){angular.module("pages").controller("StudentDetailController",function($stateParams,ToastService,studentProfile,CurrentProgram,studentTasks,OrganizationModel,constants,_,TaskInstanceService){function disableAccount(){ctrl.student.is_disabled=!0,ctrl.student.DSSave().then(function(){ToastService.show("Account disabled")})}function enableAccount(){ctrl.student.is_disabled=!1,ctrl.student.DSSave().then(function(){ToastService.show("Account enabled")})}var ctrl=this;ctrl.student=studentProfile,ctrl.disableAccount=disableAccount,ctrl.enableAccount=enableAccount,ctrl.heardAbout={},ctrl.taskStatuses={},ctrl.taskStatuses[constants.TaskStatus.ABANDONED]="Abandoned by student",ctrl.taskStatuses[constants.TaskStatus.UNASSIGNED_BY_MENTOR]="Abandoned by mentor",ctrl.taskStatuses[constants.TaskStatus.OUT_OF_TIME]="Out of time",_.each(constants.HeardAboutCodein,function(value){ctrl.heardAbout[value[0]]=value[1]}),ctrl.tasks={abandoned:_.filter(studentTasks,function(task){return[constants.TaskStatus.ABANDONED,constants.TaskStatus.UNASSIGNED_BY_MENTOR,constants.TaskStatus.OUT_OF_TIME].indexOf(task.status)>-1}),completed:_.filter(studentTasks,{status:constants.TaskStatus.COMPLETED}),current:_.find(studentTasks,function(task){return[constants.TaskStatus.CLAIMED,constants.TaskStatus.SUBMITTED,constants.TaskStatus.NEEDS_WORK,constants.TaskStatus.WAITING_FOR_PARENTAL_CONSENT].indexOf(task.status)>-1})},ctrl.tasks.current&&(TaskInstanceService.getTaskById(ctrl.tasks.current.id),OrganizationModel.find(ctrl.tasks.current.organization_id,{params:{program_year:"current"}}).then(function(org){ctrl.currentTaskOrg=org}))})}(),function(){function StudentParentalConsentController($scope,$stateParams,StudentProfile,ParentalConsentModel,CurrentProgram){var ctrl=this;ctrl.student=StudentProfile}angular.module("pages").controller("StudentParentalConsentController",StudentParentalConsentController)}(),function(){"use strict";function ParentalConsentListController(_,baseFilterState,UserModel,Constants,CurrentProgram,ParentalConsentColumns,taskFilterService,$state,$stateParams,ParentalConsentStatus,$filter){var ctrl=this,initialFilterState={order:"-parental_consent_completed_on"};ctrl.ignoredUrlParams=["parental_consent_status","has_pending_parental_consent_task","is_active"],ctrl.data={header:$filter("constantCaseToSentenceCase")(_.invert(Constants.ParentalConsentStatus)[ParentalConsentStatus]),controlConfig:$state.current.data.filters||["given_name","other_names","parental_consent_completed_on"],tableConfig:ParentalConsentColumns.getColumns(),searchModel:UserModel,findParams:{}},baseFilterState=_.extend({program_year:CurrentProgram.year,is_student:"True",parental_consent_status:ParentalConsentStatus,has_pending_parental_consent_task:"True",is_active:"True"},baseFilterState),_.assign(ctrl.data.findParams,initialFilterState,baseFilterState),ctrl.onFilterStateChange=function(state){taskFilterService.mergeFilters(ctrl.data.findParams,state,baseFilterState)}}angular.module("pages").controller("ParentalConsentListController",ParentalConsentListController)}(),function(){function ParentalConsentApprovalCtrl($scope,$state,PageService,Constants,ParentalConsentModel,CurrentProgram,StudentProfile){function goBackToParentalConsentList(){$state.go(PageService.getState().previousState||"base.app.management.parental-consent.list.pending")}var ctrl=this;ctrl.student=StudentProfile,ctrl.goBackToParentalConsentList=goBackToParentalConsentList}angular.module("pages").controller("ParentalConsentApprovalCtrl",ParentalConsentApprovalCtrl)}(),function(){"use strict";function ParentalConsentColumns(TableColumnsService){var columnCache={};columnCache.display_name={name:"Username",attr:"display_name",templateId:"display_name",orderBy:"display_name"},columnCache.given_name={name:"First name",attr:"given_name",orderBy:"given_name"},columnCache.other_names={name:"Last name",attr:"other_names",orderBy:"other_names"},columnCache.parental_consent_completed_on={name:"Waiting for approval",attr:"active_task_last_status_change_on",templateId:"active_task_last_status_change_on",orderBy:"active_task_last_status_change_on"};var columns={};return columns.pa3=[columnCache.display_name,columnCache.given_name,columnCache.other_names,columnCache.parental_consent_completed_on],columns.pa4=columns.pa3,columns.pa5=columns.pa3,columns.pa6=columns.pa3,columns.pa7=columns.pa3,{getColumns:function(){return TableColumnsService.getColumns(columns)}}}angular.module("pages").service("ParentalConsentColumns",ParentalConsentColumns)}(),function(){"use strict";function MentorListColumns(ProgramService,UserService){var columnCache={};columnCache.screenName={name:"Username",templateId:"display_name"},columnCache.firstName={name:"First name",templateId:"first_name"},columnCache.lastName={name:"Last name",templateId:"last_name"},columnCache.role={name:"Role",templateId:"role"},columnCache.email={name:"E-mail",templateId:"email"},columnCache.taskCount={name:"Task count",attr:"assigned_tasks_count"},columnCache.actions={name:"",templateId:"actions",content:["<md-menu ",'ng-if="locals.canShowActions(listItem)" ','md-position-mode="target-right target"> ','<md-button aria-label="Mentor menu" class="md-icon-button" ng-click="$mdOpenMenu($event)">','<i class="material-icons">more_vert</i>',"</md-button>","<md-menu-content>","<md-menu-item>",'<md-button ng-click="locals.removeMentor(listItem)">',"<span md-menu-align-target>Remove mentor</span> </md-button>","</md-menu-item>","</md-menu-content>","</md-menu>"].join("")};var columns={};return columns.oa1=[columnCache.screenName,columnCache.firstName,columnCache.lastName,columnCache.role,columnCache.email,columnCache.taskCount,columnCache.actions],columns.oa2=columns.oa1,columns.oa3=columns.oa1,columns.oa4=columns.oa1,columns.oa5=columns.oa1,columns.oa6=columns.oa1,columns.oa7=columns.oa1,columns.pa1=columns.oa1,columns.pa2=columns.oa1,columns.pa3=columns.oa1,columns.pa4=columns.oa1,columns.pa5=columns.oa1,columns.pa6=columns.oa1,columns.pa7=columns.oa1,{getColumns:function(modifier){return ProgramService.getCurrentStateIndex().then(function(stateIndex){var userType=UserService.getCurrentUserType(),currentColumns=columns[userType+stateIndex+(modifier||"")];return currentColumns||[]})}}}angular.module("pages").service("MentorListColumns",MentorListColumns)}(),function(){function WinnersPreviewController(_,CurrentProgram,CurrentUser,PublishedOrgs){var ctrl=this;ctrl.user=CurrentUser,ctrl.publishedOrgs=PublishedOrgs,ctrl.orgsList=_.shuffle(PublishedOrgs),ctrl.getWinners=function(org){return _.sortByAll(_.pick(org.winners,["winner_1","winner_2"]),function(el){return el.profile?el.profile.given_name.toLocaleLowerCase()+el.profile.other_names.toLocaleLowerCase():""})},ctrl.getFinalists=function(org){return _.sortByAll(_.pick(org.winners,["runner_up","finalist_1","finalist_2"]),function(el){return el.profile?el.profile.given_name.toLocaleLowerCase()+el.profile.other_names.toLocaleLowerCase():""})}}angular.module("pages").controller("WinnersPreviewController",WinnersPreviewController)}(),function(){function parentalConsentApproval($state,ToastService,ConstantsService,ProgramService,ParentalConsentModel){function controller($scope,$element,$attrs){function showDisableAction(){return student.parental_consent_rejected&&!student.is_disabled}function approveStudent(){setParentalConsentStatus(ParentalConsentStatus.ACCEPTED)}function rejectStudent(){setParentalConsentStatus(ParentalConsentStatus.REJECTED)}function disableAccount(){ctrl.saving=!0,student.is_disabled=!0,student.DSSave()["finally"](function(){ctrl.saving=!1})}function setParentalConsentStatus(status){parentalConsentPromise.then(function(parentalConsent){parentalConsent.status=status,parentalConsent.DSSave().then(function(){ToastService.show("Saved")}).then($scope.onAction)})}var ctrl=this,student=$scope.student;ParentalConsentModel.bindOne(student.parental_consent_id,$scope,"parentalConsent");var parentalConsentPromise=ParentalConsentModel.find(student.parental_consent_id,{params:{program_year:ProgramService.getCurrent().year}});ctrl.approveStudent=approveStudent,ctrl.rejectStudent=rejectStudent,ctrl.disableAccount=disableAccount,ctrl.showDisableAction=showDisableAction}var ParentalConsentStatus=ConstantsService.get("ParentalConsentStatus"),directive={templateUrl:"pages/common/parental-consent/parental-consent-approval.html",controller:controller,controllerAs:"ctrl",scope:{student:"=",onAction:"&"}};return directive}angular.module("pages").directive("parentalConsentApproval",parentalConsentApproval)}(),function(){"use strict";function orgDetailDirective($state,$mdDialog,OrganizationModel,ProgramService){function viewTasks(org){$state.go("base.app.public.tasks",{"sp-organization":org.id}),$mdDialog.hide()}return{restrict:"E",scope:{id:"="},templateUrl:"pages/common/org-detail/org-detail.directive.html",controllerAs:"ctrl",controller:function($scope){$scope.program=ProgramService.getCurrent(),$scope.viewTasks=viewTasks,OrganizationModel.bindOne($scope.id,$scope,"org")}}}angular.module("pages").directive("orgDetail",orgDetailDirective)}(),function(){"use strict";function taskDetailDirective($state,$q,$log,ConstantsService,TaskModel,UserService,ProgramService,UserCapabilitiesService,TaskInstanceService){return{restrict:"E",scope:{id:"=?",task:"=?",showClaimAction:"&"},templateUrl:"pages/common/task-detail/task-detail.directive.html",controllerAs:"ctrl",controller:function($scope,$element,$attrs){function claimTask(taskDefinition){ctrl.claimingTask=!0,TaskInstanceService.getByTaskDefinitionId(taskDefinition.id).then(function(taskInstance){var claimPromise;return taskInstance?(taskInstance.status=TaskStatus.CLAIMED,claimPromise=TaskInstanceService.TaskInstanceModel.save(taskInstance)):claimPromise=TaskInstanceService.create(taskDefinition.id),claimPromise}).then(function(taskInstance){userPromise.then(function(user){user.working_on_tasks_count=1,UserService.setCurrentUser(user),loadInstanceDetailState(taskInstance.id)})})["catch"](function(err){$log.error("Error claiming task",err),ctrl.claimingTask=!1})}function loadInstanceDetailState(id){$state.go("base.app.management.taskInstance.detail",{id:id})}function showClaimAction(){return $scope.showClaimAction&&$scope.showClaimAction()===!1?$q.resolve(!1):$q.all([userPromise,taskPromise,taskInstancePromise]).then(function(p){var user=p[0],task=p[1],instance=p[2];return!UserCapabilitiesService.canClaimTasks(user,ctrl.program)||task.is_exhausted||instance&&RE_CLAIMABLE_TASK_STATUSES.indexOf(instance.status)<0?!1:!0})}var taskPromise,taskInstancePromise,taskId,ctrl=this,userPromise=UserService.getCurrentUser(),TaskStatus=ConstantsService.get("TaskStatus"),RE_CLAIMABLE_TASK_STATUSES=[TaskStatus.ABANDONED,TaskStatus.UNASSIGNED_BY_MENTOR,TaskStatus.OUT_OF_TIME];taskId=$scope.id||$scope.task.id,taskInstancePromise=TaskInstanceService.getByTaskDefinitionId(taskId).then(function(taskInstance){return ctrl.taskInstance=taskInstance,taskInstance}),ctrl.claimingTask=!1,ctrl.program=ProgramService.getCurrent(),ctrl.claimTask=claimTask,$scope.showLogo=angular.isDefined($attrs.showLogo),$scope.showHeader=angular.isDefined($attrs.showHeader),$scope.showActions=angular.isDefined($attrs.showActions),$scope.task?taskPromise=$q.resolve($scope.task):($scope.task=TaskModel.get($scope.id),taskPromise=TaskModel.find($scope.id,{params:{program_year:ctrl.program.year}}).then(function(task){return $scope.task=angular.copy(task),task})),showClaimAction().then(function(showClaimAction){ctrl.showClaimAction=showClaimAction})}}}angular.module("pages").directive("taskDetail",taskDetailDirective)}(),function(){function ParentalConsentCtrl($scope,$location,$state,Constants,ToastService,parentalConsent,isParent,$stateParams,CurrentUser,CurrentProgram,ParentalConsentModel,FormUtilsService,$mdDialog){function submit(){if($scope.parentalConsentForm.$valid){var parentalConsent=ctrl.parentalConsent;parentalConsent.offline_form_id=null,parentalConsent.status=Constants.ParentalConsentStatus.SUBMITTED;var parentalConsentPromise,params={showValidationError:!1,params:{program_year:CurrentProgram.year}};return parentalConsentPromise=parentalConsent.id?ParentalConsentModel.update(parentalConsent.id,parentalConsent,params):ParentalConsentModel.create(parentalConsent,{program_year:CurrentProgram.year}),parentalConsentPromise.then(onSaveSuccess)["catch"](onSaveError)["finally"](FormUtilsService.partialProcessValidationResponse(ctrl.parentalConsentForm))}}function onSaveSuccess(response){ToastService.showError("Parental consent saved"),ctrl.isParent?$state.go("base.app.parental-consent.parental-consent-success"):$state.go("base.app.parental-consent.online-form")}function onSaveError(response){return ToastService.showError("There were errors"),response}var ctrl=this;$scope.AppCtrl.step=3,ctrl.isParent=isParent,ctrl.parentalConsent=ParentalConsentModel.createInstance({program_year:CurrentProgram.year,id:parentalConsent?parentalConsent.id:null,share_link_token:parentalConsent?parentalConsent.share_link_token:null}),ctrl.parentalId="new"===$stateParams.id?$stateParams.id:ctrl.parentalConsent.id,ctrl.countries=Constants.Countries,ctrl.submit=submit,ctrl.ParentalConsentStatus=Constants.ParentalConsentStatus}angular.module("pages").controller("ParentalConsentCtrl",ParentalConsentCtrl)}(),function(){"use strict";function ParentalConsentOfflineFormCtrl($scope,$state,$window,$document,Constants,ToastService,parentalConsent,isParent,$stateParams,$location,CurrentUser,CurrentProgram,UploadService,ParentalConsentModel,FormUtilsService,$mdDialog,$q){function chooseFile(){angular.element("#parental-consent-file-input").trigger("click")}function isSuccess(){return $state.is("base.app.parental-consent.parental-consent-success")}function submit(){var uploadService=new UploadService,config={
uploadUrl:"/parental-consent-upload",modelType:UploadService.MODEL_TYPES.PC,modelId:ctrl.parentalConsent.id,fileType:UploadService.FILE_TYPES.DOC,token:ctrl.parentalConsent.share_link_token};return $scope.previousFile=config.previousFile,uploadService.upload(ctrl.parentalConsentOfflineForm.uploadedFile.File,config).then(function(res){var parentalConsent=ctrl.parentalConsent,params={showValidationError:!1,params:{program_year:CurrentProgram.year}};return ctrl.parentalConsent.offline_form_id=res.id,ctrl.parentalConsent.status=Constants.ParentalConsentStatus.SUBMITTED,parentalConsent.id?ParentalConsentModel.update(parentalConsent.id,parentalConsent,params):ParentalConsentModel.create(parentalConsent,{program_year:CurrentProgram.year})}).then(onSaveSuccess)["catch"](onSaveError)["finally"](FormUtilsService.partialProcessValidationResponse(ctrl.parentalConsentForm))}function loadParentSuccess(){$state.go("base.app.parental-consent.parental-consent-success")}function loadStudentSuccess(){$window.location.href="/dashboard/"}function onSaveSuccess(){$mdDialog.show($mdDialog.alert({title:"Success",content:"Your parental consent form was uploaded successfuly.",ok:"Continue"}))["finally"](ctrl.isParent?loadParentSuccess:loadStudentSuccess)}function onSaveError(response){return ToastService.showError("There were errors"),response}var ctrl=this;$scope.AppCtrl.step=3,ctrl.isParent=isParent,ctrl.parentalConsent=angular.copy(parentalConsent),ctrl.parentalId=ctrl.parentalConsent.id,ctrl.shareLink=$location.absUrl().split("?")[0]+"?token="+ctrl.parentalConsent.share_link_token,ctrl.ParentalConsentStatus=Constants.ParentalConsentStatus,ctrl.isSignUp=$stateParams.signup,ctrl.chooseFile=chooseFile,ctrl.isSuccess=isSuccess,ctrl.submit=submit,ctrl.program=CurrentProgram,ctrl.steps=[{text:"Registration form",sref:"base.app.student-signup.profile"},{text:"Terms of service",sref:"base.app.student-signup.tos"},{text:"Parental Consent",sref:"base.app.parental-consent.offline-form",icon:"supervisor_account",autoComplete:!1}],ctrl.step=3}angular.module("pages").controller("ParentalConsentOfflineFormCtrl",ParentalConsentOfflineFormCtrl)}(),function(){function config(_,$stateProvider){$stateProvider.state("base.app.parental-consent",{url:"parental-consent/?token&signup",data:{title:"Parental consent",pendingParentalConsentState:!0},"abstract":!0,templateUrl:"pages/parental-consent/pages.parental-consent.html",controller:"ParentalConsentOfflineFormCtrl",controllerAs:"ctrl",resolve:{parentalConsent:function(_,$state,$stateParams,CurrentUser,CurrentProgram,ParentalConsentService,Constants,$q){function notFound(){$state.go("base.app.error.404",{},{location:!1})}var profileId,parentalConsentId,consentPromise,token=$stateParams.token,ACCEPTED=Constants.ParentalConsentStatus.ACCEPTED;return token?consentPromise=ParentalConsentService.getByToken(token,CurrentProgram).then(function(e){return e[0]&&e[0].status===ACCEPTED||!e.length?$q.reject(e):e[0]}):(profileId=CurrentUser.id,parentalConsentId=CurrentUser.parental_consent_id,consentPromise=ParentalConsentService.getOrCreate(parentalConsentId,CurrentProgram,_.parseInt(profileId)).then(function(e){return e&&e.status===ACCEPTED?$q.reject(e):e})),consentPromise["catch"](notFound)},isParent:function(_,$stateParams){return!!$stateParams.token}}}).state("base.app.parental-consent.online-form",{url:"",templateUrl:"pages/parental-consent/pages.parental-consent.online-form.html",controller:"ParentalConsentCtrl",controllerAs:"ctrl"}).state("base.app.parental-consent.offline-form",{url:"",templateUrl:"pages/parental-consent/pages.parental-consent.offline-form.html",controller:"ParentalConsentOfflineFormCtrl",controllerAs:"ctrl"}).state("base.app.parental-consent.parental-consent-success",{url:"",templateUrl:"pages/parental-consent/pages.parental-consent-success.html"})}angular.module("pages").config(config)}(),function(){angular.module("pages").controller("ProfileController",function($stateParams,$scope,$q,$mdDialog,$window,ToastService,UserModel,ParentalConsentModel,ParentalConsentService,CurrentUser,UserService,Constants,constants,CurrentProgram,OrganizationMembershipModel){function regenerateKey(index){ctrl.regeneratingKey=!0;var membership=ctrl.user.memberships[index];membership.auth_token=null,OrganizationMembershipModel.update(membership.id,membership,{params:{program_year:"current"}}).then(function(newMembership){ctrl.user.memberships[index]=newMembership,ctrl.regeneratingKey=!1})}function submit(){$scope.profileForm.display_name.$setValidity("unique",!0);var display_name=$scope.profileForm.display_name.$modelValue,dfd=$q.defer();return UserService.displayNameIsUnique(display_name,ctrl.user.id).then(function(response){return $scope.profileForm.$valid?UserModel.create(ctrl.user,{params:{program_year:CurrentProgram.year}}).then(function(user){ToastService.showError("Profile saved"),dfd.resolve(user)},function(response){dfd.reject(response)}):response})["catch"](function(){$scope.profileForm.display_name.$setValidity("unique",!1),ToastService.showError("There were errors"),dfd.reject()}),dfd.promise}function filterTshirts(tshirtChoice){return-1==["XS","XXXL"].indexOf(tshirtChoice[0])}function deleteUser(){$mdDialog.show({clickOutsideToClose:!0,template:'<md-dialog aria-label="Delete confirmation">  <md-dialog-content>     <p>Are you sure you want to withdraw from the competition? All of your data will be permanently removed from the app</p>     <div>Enter your email address to confirm the deletion</div>     <md-input-container><label>Email</label><input ng-model="email"></md-input-container>  </md-dialog-content>  <div class="md-actions">    <md-button ng-click="confirmDelete()">      Yes, delete my account    </md-button>    <md-button ng-click="closeDialog()" class="md-primary md-raised">      Cancel    </md-button>  </div></md-dialog>',controller:function($scope,$mdDialog){$scope.closeDialog=function(){$mdDialog.hide()},$scope.confirmDelete=function(){$scope.email===CurrentUser.email&&UserModel.destroy("me",{params:{program_year:CurrentProgram.year}}).then(function(){$window.location="/logout/"})}}})}var ctrl=this;ctrl.user=CurrentUser,ctrl.genders=Constants.Gender,ctrl.tshirtStyles=Constants.TshirtStyle,ctrl.tshirtSizes=Constants.TshirtSize,ctrl.femaleTshirtSizes=_.filter(ctrl.tshirtSizes,filterTshirts),ctrl.countries=ctrl.user.is_student?Constants.StudentCountries:Constants.Countries,ctrl.program=CurrentProgram,ctrl.heardAboutCodeinChoices=Constants.HeardAboutCodein,ctrl.locals={Constants:constants},ctrl.submit=submit,ctrl.regenerateKey=regenerateKey,ctrl.regeneratingKey=!1,ctrl.deleteUser=deleteUser,ctrl.canSubmitParentalConsent=ParentalConsentService.canSubmitParentalConsent,ctrl.user.is_student&&(ParentalConsentModel.bindOne(ctrl.user.parental_consent_id,$scope,"ctrl.parentalConsent"),ParentalConsentModel.find(ctrl.user.parental_consent_id,{params:{program_year:CurrentProgram.year}}))})}(),function(){function profileRoutes($stateProvider){$stateProvider.state("base.app.management.profile",{url:"profile/",templateUrl:"pages/user-profile/pages.user-profile.html","abstract":!0,resolve:{SignedIn:function($state,UserService){UserService.hasProfile().then(function(hasProfile){hasProfile||$state.go("base.app.error.403")})}},data:{title:"User profile",allowDisabledUser:!0}}).state("base.app.management.profile.mine",{url:"",data:{tabIndex:0,pendingParentalConsentState:!0},templateUrl:"pages/user-profile/pages.user-profile.profile-form.html",controller:"ProfileController",controllerAs:"ctrl"}).state("base.app.profile",{url:"profile/",controller:function($state){$state.go("base.app.management.profile.mine")}})}angular.module("pages").config(profileRoutes)}();